<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Idisfkj</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://idisfkj.github.io/"/>
  <updated>2019-01-03T15:24:34.348Z</updated>
  <id>https://idisfkj.github.io/</id>
  
  <author>
    <name>idisfkj</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>你不该忽略的LaunchMode</title>
    <link href="https://idisfkj.github.io/2019/01/03/%E4%BD%A0%E4%B8%8D%E8%AF%A5%E5%BF%BD%E7%95%A5%E7%9A%84LaunchMode/"/>
    <id>https://idisfkj.github.io/2019/01/03/你不该忽略的LaunchMode/</id>
    <published>2019-01-03T13:41:50.000Z</published>
    <updated>2019-01-03T15:24:34.348Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x597D;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x4EBA;&amp;#x5458;&amp;#xFF0C;&amp;#x4E0D;&amp;#x5E94;&amp;#x8BE5;&amp;#x5FFD;&amp;#x89C6;&amp;#x6389;Activity&amp;#x7684;&amp;#x542F;&amp;#x52A8;&amp;#x65B9;&amp;#x5F0F;launchMode&amp;#x3002;&amp;#x6BCF;&amp;#x6B21;&amp;#x65B0;&amp;#x5EFA;Activity&amp;#x65F6;&amp;#xFF0C;&amp;#x5185;&amp;#x5FC3;&amp;#x90FD;&amp;#x8981;&amp;#x95EE;&amp;#x95EE;&amp;#x81EA;&amp;#x5DF1;&amp;#x8FD9;&amp;#x4E2A;&amp;#x754C;&amp;#x9762;&amp;#x542F;&amp;#x52A8;&amp;#x573A;&amp;#x666F;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF0C;&amp;#x5B83;&amp;#x5E94;&amp;#x8BE5;&amp;#x9002;&amp;#x5E94;&amp;#x4E8E;&amp;#x54EA;&amp;#x79CD;&amp;#x542F;&amp;#x52A8;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF1F;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x5FEB;&amp;#x901F;&amp;#x7075;&amp;#x6D3B;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x4E0A;&amp;#x8FF0;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5BF9;launchMode&amp;#x7684;&amp;#x56DB;&amp;#x79CD;&amp;#x542F;&amp;#x52A8;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E86;&amp;#x7136;&amp;#x4E8E;&amp;#x80F8;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4F1A;&amp;#x9010;&amp;#x4E00;&amp;#x901A;&amp;#x8FC7;&amp;#x7B80;&amp;#x6D01;&amp;#x7684;&amp;#x8BED;&amp;#x8A00;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x610F;&amp;#x4E49;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x4E00;&amp;#x53E5;&amp;#x8BDD;&amp;#x6765;&amp;#x603B;&amp;#x7ED3;&amp;#x5B83;&amp;#x4EEC;&amp;#x5404;&amp;#x81EA;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x8FC5;&amp;#x901F;&amp;#x4E86;&amp;#x7136;&amp;#x4E8E;&amp;#x80F8;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;standard&quot;&gt;&lt;a href=&quot;#standard&quot; class=&quot;headerlink&quot; title=&quot;standard&quot;&gt;&lt;/a&gt;standard&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5BF9;&amp;#x65B0;&amp;#x5EFA;&amp;#x7684;Activity&amp;#x4E0D;&amp;#x505A;&amp;#x4EFB;&amp;#x4F55;&amp;#x4FEE;&amp;#x6539;&amp;#xFF0C;&amp;#x5B83;&amp;#x5728;&amp;#x6E05;&amp;#x5355;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;launchMode&amp;#x4E3A;standard&lt;/p&gt;
&lt;figure class=&quot;highlight&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;activity &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	android:name=&amp;quot;.MainActivity&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	android:launchMode=&amp;quot;standard&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/activity&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4EA6;&amp;#x6216;&amp;#x8005;&amp;#x76F4;&amp;#x63A5;&amp;#x6CA1;&amp;#x6709;launchMode&amp;#xFF0C;&amp;#x4F46;&amp;#x5185;&amp;#x90E8;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8FD8;&amp;#x662F;standard&amp;#x3002;&amp;#x5927;&amp;#x5BB6;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x6211;&amp;#x4EEC;&amp;#x542F;&amp;#x52A8;&amp;#x7684;Activity&amp;#x7684;&amp;#x4FDD;&amp;#x5B58;&amp;#x5728;stack&amp;#x4E2D;&amp;#xFF0C;&amp;#x5047;&amp;#x8BBE;&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x6211;&amp;#x4E3A;B&amp;#x6DFB;&amp;#x52A0;launchMode=&amp;#x201D;standard&amp;#x201D;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x5728;D&amp;#x4E2D;&amp;#x542F;&amp;#x52A8;B&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;B &amp;#xFF08;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;B&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;standard&amp;#x6A21;&amp;#x5F0F;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#xFF1A;&lt;strong&gt;&amp;#x4E0D;&amp;#x5173;&amp;#x5FC3;&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#xFF0C;&amp;#x5B83;&amp;#x603B;&amp;#x4F1A;&amp;#x65B0;&amp;#x589E;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x52A0;&amp;#x5165;&amp;#x5F53;&amp;#x524D;&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;singleTop&quot;&gt;&lt;a href=&quot;#singleTop&quot; class=&quot;headerlink&quot; title=&quot;singleTop&quot;&gt;&lt;/a&gt;singleTop&lt;/h2&gt;&lt;p&gt;1.&amp;#x8FD8;&amp;#x662F;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x5BF9;C&amp;#x6DFB;&amp;#x52A0;launchMode=&amp;#x201D;singleTop&amp;#x201D;&amp;#xFF0C;&amp;#x5E76;&amp;#x5728;D&amp;#x4E2D;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x8868;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;standard&amp;#x6A21;&amp;#x5F0F;&amp;#x4E00;&amp;#x81F4;&lt;/p&gt;
&lt;p&gt;2.&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x5C06;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x7A0D;&amp;#x4F5C;&amp;#x4FEE;&amp;#x6539;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6B21;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF0C;&amp;#x65B0;&amp;#x7684;intent&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x83B7;&amp;#x53D6;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;3.&amp;#x5982;&amp;#x679C;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;C&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6B21;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x8868;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;standard&amp;#x6A21;&amp;#x5F0F;&amp;#x4E00;&amp;#x81F4;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;singleTop&amp;#x6A21;&amp;#x5F0F;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#xFF1A;&lt;strong&gt;&amp;#x53EA;&amp;#x5173;&amp;#x5FC3;&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x7684;&amp;#x6808;&amp;#x9876;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x5219;&amp;#x4E0D;&amp;#x65B0;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF1B;&amp;#x5426;&amp;#x5219;&amp;#x65B0;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;singleTask&quot;&gt;&lt;a href=&quot;#singleTask&quot; class=&quot;headerlink&quot; title=&quot;singleTask&quot;&gt;&lt;/a&gt;singleTask&lt;/h2&gt;&lt;p&gt;1.&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x5BF9;C&amp;#x6DFB;&amp;#x52A0;launchMode=&amp;#x201D;singleTask&amp;#x201D;&amp;#xFF0C;&amp;#x5E76;&amp;#x5728;D&amp;#x4E2D;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF0C;&amp;#x65B0;&amp;#x7684;intent&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x83B7;&amp;#x53D6;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;D&amp;#x4F1A;&amp;#x88AB;&amp;#x4ECE;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x79FB;&amp;#x9664;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x590D;&amp;#x7528;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&lt;/p&gt;
&lt;p&gt;2.&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6B21;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF0C;&amp;#x65B0;&amp;#x7684;intent&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x83B7;&amp;#x53D6;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x8868;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;singlTop&amp;#x6A21;&amp;#x5F0F;&amp;#x4E00;&amp;#x81F4;&lt;/p&gt;
&lt;p&gt;3.&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6B21;&amp;#x542F;&amp;#x52A8;C&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C &amp;#xFF08;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;C&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#x8868;&amp;#x73B0;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;standard&amp;#x6A21;&amp;#x5F0F;&amp;#x4E00;&amp;#x81F4;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;singleTask&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#xFF1A;&lt;strong&gt;&amp;#x53EA;&amp;#x5173;&amp;#x5FC3;&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x5219;&amp;#x5148;&amp;#x5C06;&amp;#x5B83;&amp;#x9876;&amp;#x90E8;&amp;#x6240;&amp;#x6709;&amp;#x5806;&amp;#x6808;&amp;#x5B9E;&amp;#x4F8B;&amp;#x51FA;&amp;#x6808;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5176;&amp;#x56DE;&amp;#x5230;&amp;#x6808;&amp;#x9876;&amp;#xFF0C;&amp;#x518D;&amp;#x590D;&amp;#x7528;&amp;#x5F53;&amp;#x524D;&amp;#x6808;&amp;#x9876;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x65B0;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;singleInstance&quot;&gt;&lt;a href=&quot;#singleInstance&quot; class=&quot;headerlink&quot; title=&quot;singleInstance&quot;&gt;&lt;/a&gt;singleInstance&lt;/h2&gt;&lt;p&gt;1.&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4E3A;E&amp;#x6DFB;&amp;#x52A0;launchMode=&amp;#x201D;singleInstance&amp;#x201D;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5728;D&amp;#x4E2D;&amp;#x542F;&amp;#x52A8;E&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;E&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4F60;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;E&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x4E8E;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x65B0;&amp;#x5F00;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;2.&amp;#x5982;&amp;#x679C;&amp;#x5728;1&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#xFF0C;&amp;#x6211;&amp;#x5728;E&amp;#x4E2D;&amp;#x7EE7;&amp;#x7EED;&amp;#x542F;&amp;#x52A8;F&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;F&lt;/li&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;E&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x540E;&amp;#x7EED;&amp;#x542F;&amp;#x52A8;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#x8FD8;&amp;#x662F;&amp;#x4F1A;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;3.&amp;#x5F53;&amp;#x524D;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;E&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x5728;D&amp;#x4E2D;&amp;#x542F;&amp;#x52A8;E&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E3A;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;D&lt;/li&gt;
&lt;li&gt;C&lt;/li&gt;
&lt;li&gt;B&lt;/li&gt;
&lt;li&gt;A&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;Activity&amp;#x5806;&amp;#x6808;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;E &amp;#xFF08;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;E&amp;#xFF0C;&amp;#x65B0;&amp;#x7684;intent&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;onNewIntent&amp;#x83B7;&amp;#x53D6;&amp;#xFF09;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;E&amp;#x5DF2;&amp;#x7ECF;&amp;#x5904;&amp;#x4E8E;&amp;#x5355;&amp;#x72EC;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4F1A;&amp;#x518D;&amp;#x65B0;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;singleInstance&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#xFF1A;&lt;strong&gt;&amp;#x53EA;&amp;#x5173;&amp;#x5FC3;&amp;#x81EA;&amp;#x5DF1;&amp;#x662F;&amp;#x5426;&amp;#x5904;&amp;#x4E8E;&amp;#x5355;&amp;#x72EC;&amp;#x7684;Activity&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5373;&amp;#x5806;&amp;#x6808;&amp;#x4E2D;&amp;#x53EA;&amp;#x80FD;&amp;#x6709;&amp;#x5B83;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x4E5F;&amp;#x4E0D;&amp;#x65B0;&amp;#x52A0;&amp;#x5176;&amp;#x5B83;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF1B;&amp;#x5426;&amp;#x5219;&amp;#x65B0;&amp;#x5F00;Activity&amp;#x5806;&amp;#x6808;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h2&gt;&lt;p&gt;&amp;#x5E0C;&amp;#x671B;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4F60;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5BF9;&amp;#x8FD9;&amp;#x56DB;&amp;#x79CD;&amp;#x542F;&amp;#x52A8;&amp;#x6A21;&amp;#x5F0F;&amp;#x6709;&amp;#x4E86;&amp;#x5168;&amp;#x65B0;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x6211;&amp;#x60F3;&amp;#x95EE;&amp;#x7684;&amp;#x662F;&amp;#xFF1A;&amp;#x4F60;&amp;#x662F;&amp;#x5426;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4E86;&amp;#x7136;&amp;#x4E8E;&amp;#x80F8;&amp;#x4E86;&amp;#xFF1F;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x4F5C;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x597D;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x4EBA;&amp;#x5458;&amp;#xFF0C;&amp;#x4E0D;&amp;#x5E94;&amp;#x8BE5;&amp;#x5FFD;&amp;#x89C6;&amp;#x6389;A
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="interview" scheme="https://idisfkj.github.io/tags/interview/"/>
    
  </entry>
  
  <entry>
    <title>React Native Fetch封装那点事...</title>
    <link href="https://idisfkj.github.io/2018/08/28/React-Native-Fetch%E5%B0%81%E8%A3%85%E9%82%A3%E7%82%B9%E4%BA%8B/"/>
    <id>https://idisfkj.github.io/2018/08/28/React-Native-Fetch封装那点事/</id>
    <published>2018-08-28T13:42:18.000Z</published>
    <updated>2018-08-29T00:09:40.437Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x6BCF;&amp;#x4E00;&amp;#x95E8;&amp;#x8BED;&amp;#x8A00;&amp;#x90FD;&amp;#x79BB;&amp;#x4E0D;&amp;#x5F00;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x4E00;&amp;#x5957;Networking Api&amp;#x3002;React Native&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;Fetch&amp;#x3002;    &amp;#x4ECA;&amp;#x5929;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x8C08;&amp;#x8C08;&amp;#x4E0E;Fetch&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x4E8B;&amp;#x60C5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;purpose&quot;&gt;&lt;a href=&quot;#purpose&quot; class=&quot;headerlink&quot; title=&quot;purpose&quot;&gt;&lt;/a&gt;purpose&lt;/h2&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x4F60;&amp;#x5C06;&amp;#x4E86;&amp;#x89E3;&amp;#x5230;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x70B9;&amp;#x5173;&amp;#x4E8E;Fetch&amp;#x7684;&amp;#x72EC;&amp;#x5BB6;&amp;#x62A5;&amp;#x9053;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fetch&amp;#x7684;&amp;#x7B80;&amp;#x5355;&amp;#x8FD0;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;Fetch&amp;#x7684;&amp;#x4E3B;&amp;#x8981;Api&lt;/li&gt;
&lt;li&gt;Fetch&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x610F;&amp;#x4E8B;&amp;#x9879;&lt;/li&gt;
&lt;li&gt;Fetch&amp;#x7684;Promise&amp;#x5C01;&amp;#x88C5;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;fetch&quot;&gt;&lt;a href=&quot;#fetch&quot; class=&quot;headerlink&quot; title=&quot;fetch&quot;&gt;&lt;/a&gt;fetch&lt;/h2&gt;&lt;p&gt;fetch&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x4F20;&amp;#x5165;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;url&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fetch(&amp;apos;https://facebook.github.io/react-native/movies.json&amp;apos;);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#x662F;&amp;#x5426;&amp;#x8BF7;&amp;#x6C42;&amp;#x6210;&amp;#x529F;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x5904;&amp;#x7406;&amp;#x6210;&amp;#x529F;&amp;#x4E0E;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function getMoviesFromApiAsync() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return fetch(&amp;apos;https://facebook.github.io/react-native/movies.json&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .then((response) =&amp;gt; response.json())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .then((responseJson) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return responseJson.movies;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .catch((error) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      console.error(error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;response.json()&amp;#x5C06;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x8FD4;&amp;#x56DE;&amp;#x6570;&amp;#x636E;&amp;#x8F6C;&amp;#x5316;&amp;#x6210;json&amp;#x6570;&amp;#x636E;&amp;#x4EE5;&amp;#x4FBF;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;.then&lt;/code&gt;&amp;#x6765;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x5316;&amp;#x5904;&amp;#x7406;&amp;#x6216;&amp;#x6700;&amp;#x7EC8;&amp;#x66B4;&amp;#x9732;&amp;#x7ED9;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#xFF1B;&lt;code&gt;.catch&lt;/code&gt;&amp;#x5BF9;&amp;#x5F02;&amp;#x5E38;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8BE5;&amp;#x8BF7;&amp;#x6C42;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;get&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;post&amp;#x53C8;&amp;#x8BE5;&amp;#x5982;&amp;#x4F55;&amp;#x8BF7;&amp;#x6C42;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;h2 id=&quot;Api-amp-Note&quot;&gt;&lt;a href=&quot;#Api-amp-Note&quot; class=&quot;headerlink&quot; title=&quot;Api &amp;amp; Note&quot;&gt;&lt;/a&gt;Api &amp;amp; Note&lt;/h2&gt;&lt;p&gt;&amp;#x5728;fetch&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x4F20;&amp;#x5165;url&amp;#x8FDB;&amp;#x884C;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5185;&amp;#x90E8;&amp;#x672C;&amp;#x8D28;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;Request&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x5C06;url&amp;#x51FA;&amp;#x5165;&amp;#x5230;&amp;#x4E86;Request&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const myRequest = new Request(&amp;apos;https://facebook.github.io/react-native/movies.json&amp;apos;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;const myURL = myRequest.url; // https://facebook.github.io/react-native/movies.jsonflowers.jpg&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;const myMethod = myRequest.method; // GET&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fetch(myRequest)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  .then(response =&amp;gt; response.json())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  .then(responseJson =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //todo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  });&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x8BF7;&amp;#x6C42;post&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x6539;&amp;#x53D8;Request&amp;#x7684;method&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fetch(&amp;apos;https://mywebsite.com/endpoint/&amp;apos;, {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  method: &amp;apos;POST&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  headers: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Accept: &amp;apos;application/json&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;apos;Content-Type&amp;apos;: &amp;apos;application/json&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  body: JSON.stringify({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    firstParam: &amp;apos;yourValue&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    secondParam: &amp;apos;yourOtherValue&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x5728;url&amp;#x540E;&amp;#x76F4;&amp;#x63A5;&amp;#x4F20;&amp;#x5165;{}&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x6307;&amp;#x5B9A;method&amp;#x4F7F;&amp;#x7528;post&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;&amp;#x5927;&amp;#x5BB6;&amp;#x5E94;&amp;#x8BE5;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;get&amp;#x4E0E;post&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x533A;&amp;#x522B;&amp;#x662F;get&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;url&amp;#x4E0A;&amp;#x76F4;&amp;#x63A5;&amp;#x6DFB;&amp;#x52A0;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x800C;post&amp;#x4E3A;&amp;#x4E86;&amp;#x5B89;&amp;#x5168;&amp;#x90FD;&amp;#x4E0D;&amp;#x91C7;&amp;#x7528;&amp;#x76F4;&amp;#x63A5;&amp;#x5C06;&amp;#x53C2;&amp;#x6570;&amp;#x8FFD;&amp;#x52A0;&amp;#x5230;url&amp;#x4E0A;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;body&amp;#x6765;&amp;#x4F20;&amp;#x7ED9;service&amp;#x7AEF;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;body&amp;#x524D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x8FD8;&amp;#x9700;&amp;#x77E5;&amp;#x9053;headers&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x67D0;&amp;#x4E2A;post&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;headers&amp;#x4FE1;&amp;#x606F;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/28/React-Native-Fetch&amp;#x5C01;&amp;#x88C5;&amp;#x90A3;&amp;#x70B9;&amp;#x4E8B;/fetch_headers.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x662F;Content-Type&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EE3;&amp;#x8868;&amp;#x7684;&amp;#x662F;service&amp;#x7AEF;&amp;#x63A5;&amp;#x6536;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x56FE;&amp;#x7247;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;application/x-www-form-urlencoded&amp;#x3002;&amp;#x8FD9;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;body&amp;#x6765;&amp;#x8BF4;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x3002;&amp;#x53EA;&amp;#x6709;&amp;#x5339;&amp;#x914D;Content-Type&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x624D;&amp;#x80FD;&amp;#x6B63;&amp;#x786E;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&amp;#x53C2;&amp;#x6570;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x793A;&amp;#x4F8B;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;application/json&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;body&amp;#x4F7F;&amp;#x7528;Json.stringify()&amp;#x8FDB;&amp;#x884C;&amp;#x53C2;&amp;#x6570;&amp;#x8F6C;&amp;#x6362;&amp;#xFF0C;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;Content-Type&amp;#x4E3A;application/x-www-form-urlencoded&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;queryString.stringify()&amp;#x3002;&lt;/p&gt;
&lt;p&gt;Request&amp;#x4E2D;&amp;#x9664;&amp;#x4E86;method&amp;#x3001;headers&amp;#x4E0E;body&amp;#xFF0C;&amp;#x8FD8;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x5C5E;&amp;#x6027;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Request.cache: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x6A21;&amp;#x5F0F;(default/reload/no-cache)&lt;/li&gt;
&lt;li&gt;Request.context: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x4E0A;&amp;#x4E0B;&amp;#x6587;(audio/image/iframe)&lt;/li&gt;
&lt;li&gt;Request.credentials: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x8BC1;&amp;#x4E66;(omit/same-origin/include)&lt;/li&gt;
&lt;li&gt;Request.destination: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x63CF;&amp;#x8FF0;&amp;#x7C7B;&amp;#x578B;&lt;/li&gt;
&lt;li&gt;Request.integrity: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684; subresource integrity &lt;/li&gt;
&lt;li&gt;Request.mode: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x6A21;&amp;#x5F0F;(cors/no-cors/same-origin/navigate)&lt;/li&gt;
&lt;li&gt;Request.redirect: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x91CD;&amp;#x5B9A;&amp;#x5411;&amp;#x65B9;&amp;#x5F0F;(follow/error/manual)&lt;/li&gt;
&lt;li&gt;Request.referrer: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x6765;&amp;#x6E90;(client)&lt;/li&gt;
&lt;li&gt;Request.referrerPolicy: &amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x6765;&amp;#x6E90;&amp;#x653F;&amp;#x7B56;(no-referrer)&lt;/li&gt;
&lt;li&gt;Request.bodyUsed: &amp;#x58F0;&amp;#x660E;body&amp;#x662F;&amp;#x5426;&amp;#x4F7F;&amp;#x7528;&amp;#x5728;response&amp;#x4E2D;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8BF7;&amp;#x6C42;&amp;#x6210;&amp;#x529F;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;.then&amp;#x6765;&amp;#x8F6C;&amp;#x6362;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x591A;&amp;#x7684;&amp;#x662F;Body.json()&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x4F60;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7684;&amp;#x51E0;&amp;#x79CD;&amp;#x6570;&amp;#x636E;&amp;#x8F6C;&amp;#x6362;&amp;#x7C7B;&amp;#x578B;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Body.arrayBuffer&lt;/li&gt;
&lt;li&gt;Body.blob&lt;/li&gt;
&lt;li&gt;Body.formData&lt;/li&gt;
&lt;li&gt;Body.text&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x662F;fetch&amp;#x8BF7;&amp;#x6C42;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x4E0E;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x6240;&amp;#x4E86;&amp;#x89E3;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x606D;&amp;#x559C;&amp;#x4F60;&amp;#x5BF9;fetch&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8FC7;&amp;#x5173;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x5BF9;fetch&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;a href=&quot;#&amp;#x5C01;&amp;#x88C5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;/a&gt;&amp;#x5C01;&amp;#x88C5;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#xFF0C;url&amp;#x7684;host&amp;#x90FD;&amp;#x662F;&amp;#x76F8;&amp;#x540C;&amp;#x7684;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x73AF;&amp;#x5883;(debug|release)&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E5F;&amp;#x53EF;&amp;#x80FD;&amp;#x4E0D;&amp;#x540C;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x5728;debug&amp;#x73AF;&amp;#x5883;&amp;#x4E2D;&amp;#x4E3A;&amp;#x4E86;&amp;#x65B9;&amp;#x4FBF;&amp;#x8C03;&amp;#x8BD5;&amp;#x67E5;&amp;#x770B;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x5426;&amp;#x6B63;&amp;#x786E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;get&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5728;&amp;#x5C01;&amp;#x88C5;&amp;#x4E4B;&amp;#x524D;&amp;#x8981;&amp;#x660E;&amp;#x786E;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;&amp;#x4E0D;&amp;#x53D8;&amp;#x7684;&amp;#xFF0C;&amp;#x4EC0;&amp;#x4E48;&amp;#x662F;&amp;#x53D8;&amp;#x5316;&amp;#x7684;&amp;#xFF0C;&amp;#x6210;&amp;#x529F;&amp;#x4E0E;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x54CD;&amp;#x5E94;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7ECF;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x7F57;&amp;#x5217;&amp;#x4E00;&amp;#x4E0B;&amp;#x5C01;&amp;#x88C5;&amp;#x9700;&amp;#x8981;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x60C5;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x4E0D;&amp;#x53D8;&amp;#x7684;: host,headers,body.json()&lt;/li&gt;
&lt;li&gt;&amp;#x53D8;&amp;#x5316;&amp;#x7684;: url,method,body&lt;/li&gt;
&lt;li&gt;&amp;#x54CD;&amp;#x5E94;&amp;#x65B9;&amp;#x5F0F;: Promise(resolve/reject)&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function convertUrl(url, params) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    let realUrl = ApiModule.isDebug?&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        url + &amp;quot;?&amp;quot; + queryString.stringify(Object.assign({}, params, commonParams)) : url;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (ApiModule.isDebug) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        console.log(&amp;quot;request: &amp;quot; + realUrl);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return realUrl;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5BF9;url&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;params&amp;#x8FDB;&amp;#x884C;&amp;#x62FC;&amp;#x63A5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;debug&amp;#x6A21;&amp;#x5F0F;&amp;#x5C06;params&amp;#x62FC;&amp;#x63A5;&amp;#x5230;url&amp;#x540E;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;Object.assign()&amp;#x5C06;params&amp;#x4E0E;commonParams&amp;#x7EC4;&amp;#x5408;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;{}&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x6700;&amp;#x7EC8;&amp;#x901A;&amp;#x8FC7;queryString.stringify&amp;#x8F6C;&amp;#x5316;&amp;#x6210;string&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ApiModule.isDebug&amp;#x662F;&amp;#x539F;&amp;#x751F;&amp;#x4F20;&amp;#x9012;&amp;#x8FC7;&amp;#x6765;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;Android/IOS&amp;#x53EA;&amp;#x9700;&amp;#x4F20;&amp;#x9012;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;ApiModule&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function getMethod() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return ApiModule.isDebug? &amp;quot;get&amp;quot;: &amp;quot;post&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x8FF0;&amp;#x63D0;&amp;#x5230;&amp;#x7684;get&amp;#x4E0E;post&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x65F6;&amp;#x673A;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const headers = {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Accept: &amp;apos;application/json&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;quot;Content-Type&amp;quot;: &amp;quot;application/x-www-form-urlencoded;charset=UTF-8&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;};&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;headers&amp;#x4E2D;Content-Type&amp;#x7C7B;&amp;#x578B;&amp;#x4E3A;application/x-www-form-urlencode&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;function convertBody(params) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return ApiModule.isDebug? undefined : queryString.stringify(Object.assign({}, params, commonParams));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;debug&amp;#x6A21;&amp;#x5F0F;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;get&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4F46;get&amp;#x89C4;&amp;#x5B9A;&amp;#x662F;&amp;#x4E0D;&amp;#x80FD;&amp;#x6709;body&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;undefined&amp;#x6765;&amp;#x6807;&amp;#x8BC6;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x4E3A;&amp;#x4E86;&amp;#x5339;&amp;#x914D;headers&amp;#x4E2D;&amp;#x7684;Content-Type&amp;#xFF0C;params&amp;#x7684;&amp;#x8F6C;&amp;#x5316;&amp;#x5FC5;&amp;#x987B;&amp;#x4F7F;&amp;#x7528;queryString.stringify&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x63A5;&amp;#x53D7;&amp;#x7684;&amp;#x662F;json,&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;JSON.stringify&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5B9A;&amp;#x4E49;&amp;#x5B8C;&amp;#x4E4B;&amp;#x540E;fetch&amp;#x5BF9;&amp;#x5916;&amp;#x53EA;&amp;#x9700;&amp;#x63A5;&amp;#x53D7;params&amp;#x53C2;&amp;#x6570;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;async function fetchRequest(params){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    let body = convertBody(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fetch(convertUrl(baseUrl, params),{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        method: method,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        headers: headers,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        body: body&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .then((response) =&amp;gt; response.json())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .then((responseJson) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //todo success&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .catch((error) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (ApiModule.isDebug) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            console.error(&amp;quot;request error: &amp;quot; + error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //todo error&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;fetch&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x5C01;&amp;#x88C5;&amp;#x5B8C;&amp;#x6210;&amp;#xFF0C;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x6210;&amp;#x529F;&amp;#x4E0E;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x901A;&amp;#x77E5;&amp;#x7ED9;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD8;&amp;#x9700;&amp;#x8981;&amp;#x4E00;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x673A;&amp;#x5236;&amp;#x3002;Promise&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F02;&amp;#x6B65;&amp;#x64CD;&amp;#x4F5C;&amp;#x6700;&amp;#x7EC8;&amp;#x5B8C;&amp;#x6210;&amp;#x6216;&amp;#x8005;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x63A5;&amp;#x53D7;&amp;#x4E24;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;resolve&amp;#x3001;reject&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const p = new Promise((resolve, reject){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//success&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	resolve(&amp;apos;success&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//error&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	reject(&amp;apos;error&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//use&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;p.then(success =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		console.log(success);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	}, error =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  		console.log(error)	&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5C06;fetch&amp;#x8BF7;&amp;#x6C42;&amp;#x653E;&amp;#x5165;&amp;#x5230;Promise&amp;#x7684;&amp;#x5F02;&amp;#x6B65;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x65E6;&amp;#x6570;&amp;#x636E;&amp;#x6210;&amp;#x529F;&amp;#x8FD4;&amp;#x56DE;&amp;#x5C31;&amp;#x8C03;&amp;#x7528;resolve&amp;#x51FD;&amp;#x6570;&amp;#x56DE;&amp;#x8C03;&amp;#x7ED9;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#xFF1B;&amp;#x5931;&amp;#x8D25;&amp;#x8C03;&amp;#x7528;reject&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;&amp;#x5931;&amp;#x8D25;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&amp;#x800C;&amp;#x8C03;&amp;#x7528;&amp;#x8005;&amp;#x53EA;&amp;#x9700;&amp;#x4F7F;&amp;#x7528;Promise&amp;#x7684;.then&amp;#x65B9;&amp;#x6CD5;&amp;#x7B49;&amp;#x5019;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x901A;&amp;#x77E5;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B8C;&amp;#x6574;&amp;#x7684;fetch&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;async function fetchRequest(params){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    let body = convertBody(params);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return new Promise(function(resolve, reject){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fetch(convertUrl(baseUrl, params),{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            method: method,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            headers: headers,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            body: body&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .then((response) =&amp;gt; response.json())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .then((responseJson) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            resolve(responseJson);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .catch((error) =&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (ApiModule.isDebug) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                console.error(&amp;quot;request error: &amp;quot; + error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            reject(error);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x5BF9;fetch&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x5C31;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x4F20;&amp;#x5165;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fetchRequest({method: &amp;quot;goods.getInfo&amp;quot;, goodsId: 27021599158370074})&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;.then(res =&amp;gt;{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    this.setState({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        shareInfo: res.data.shareInfo&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x662F;&amp;#x6709;&amp;#x5173;fetch&amp;#x7684;&amp;#x5168;&amp;#x90E8;&amp;#x5185;&amp;#x5BB9;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x5728;React Native&amp;#x4E2D;&amp;#x8FD8;&amp;#x6709;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x7B2C;&amp;#x4E09;&amp;#x65B9;&amp;#x8BF7;&amp;#x6C42;&amp;#x5E93;&amp;#xFF1A;XMLHttpRequest&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x652F;&amp;#x6301;WebSockets&amp;#x3002;&amp;#x611F;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x53BB;&amp;#x4E86;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x4F1A;&amp;#x6709;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x6536;&amp;#x83B7;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x62C9;&amp;#x7C89;&amp;#x73AF;&amp;#x8282;&amp;#xFF1A;&amp;#x611F;&amp;#x89C9;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x6765;&amp;#x4E00;&amp;#x6CE2;&amp;#x5173;&amp;#x6CE8;&amp;#xFF0C;&amp;#x626B;&amp;#x63CF;&amp;#x4E0B;&amp;#x65B9;&amp;#x4E8C;&amp;#x7EF4;&amp;#x7801;&amp;#xFF0C;&amp;#x5173;&amp;#x6CE8;&amp;#x516C;&amp;#x4F17;&amp;#x53F7;&amp;#xFF0C;&amp;#x53CA;&amp;#x65F6;&amp;#x83B7;&amp;#x53D6;&amp;#x6700;&amp;#x65B0;&amp;#x77E5;&amp;#x8BC6;&amp;#x6280;&amp;#x5DE7;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/28/React-Native-Fetch&amp;#x5C01;&amp;#x88C5;&amp;#x90A3;&amp;#x70B9;&amp;#x4E8B;/wx_qr_code.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x6BCF;&amp;#x4E00;&amp;#x95E8;&amp;#x8BED;&amp;#x8A00;&amp;#x90FD;&amp;#x79BB;&amp;#x4E0D;&amp;#x5F00;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;
    
    </summary>
    
      <category term="react native" scheme="https://idisfkj.github.io/categories/react-native/"/>
    
    
      <category term="fetch" scheme="https://idisfkj.github.io/tags/fetch/"/>
    
  </entry>
  
  <entry>
    <title>5分钟吃透React Native Flexbox</title>
    <link href="https://idisfkj.github.io/2018/08/23/5%E5%88%86%E9%92%9F%E5%90%83%E9%80%8FReact-Native-Flexbox/"/>
    <id>https://idisfkj.github.io/2018/08/23/5分钟吃透React-Native-Flexbox/</id>
    <published>2018-08-23T15:43:13.000Z</published>
    <updated>2018-08-25T15:35:48.544Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x804A;&amp;#x804A;Flexbox&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x524D;&amp;#x7AEF;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E03;&amp;#x5C40;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5728;React Native&amp;#x4E2D;&amp;#x662F;&amp;#x4E3B;&amp;#x6D41;&amp;#x5E03;&amp;#x5C40;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x521A;&amp;#x521A;&amp;#x5165;&amp;#x95E8;React Native&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x6CA1;&amp;#x6709;&amp;#x591A;&amp;#x5C11;&amp;#x524D;&amp;#x7AEF;&amp;#x7684;&amp;#x6280;&amp;#x672F;&amp;#x7ECF;&amp;#x9A8C;&amp;#xFF0C;&amp;#x4EA6;&amp;#x6216;&amp;#x8005;&amp;#x5BF9;&amp;#x5176;&amp;#x534A;&amp;#x77E5;&amp;#x534A;&amp;#x89E3;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x5C06;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x4F60;&amp;#x53C2;&amp;#x900F;Flexbox&amp;#x7684;&amp;#x6574;&amp;#x4E2A;&amp;#x5168;&amp;#x8C8C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;purpose&quot;&gt;&lt;a href=&quot;#purpose&quot; class=&quot;headerlink&quot; title=&quot;purpose&quot;&gt;&lt;/a&gt;purpose&lt;/h2&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4F60;&amp;#x5C06;&amp;#x5FEB;&amp;#x901F;&amp;#x5403;&amp;#x900F;&amp;#x6574;&amp;#x4E2A;Flexbox&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5BF9;&amp;#x4E8E;Flexbox&amp;#x4F60;&amp;#x53EA;&amp;#x9700;&amp;#x638C;&amp;#x63E1;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x70B9;&amp;#x5C5E;&amp;#x6027;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;flex&lt;/li&gt;
&lt;li&gt;flexDirection&lt;/li&gt;
&lt;li&gt;justifyContent&lt;/li&gt;
&lt;li&gt;alignItems&lt;/li&gt;
&lt;li&gt;flexWrap&lt;/li&gt;
&lt;li&gt;alignSelf&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&quot;flex&quot;&gt;&lt;a href=&quot;#flex&quot; class=&quot;headerlink&quot; title=&quot;flex&quot;&gt;&lt;/a&gt;flex&lt;/h2&gt;&lt;p&gt;Flexbox&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x5F39;&amp;#x6027;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;&amp;#x5B83;&amp;#x6709;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;flex&amp;#x7528;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x5B83;&amp;#x7684;&amp;#x5F39;&amp;#x6027;&amp;#x3002;&amp;#x6709;&amp;#x70B9;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E0E;Android&amp;#x5E03;&amp;#x5C40;&amp;#x4E2D;&amp;#x7684;weight&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x4E0E;&amp;#x524D;&amp;#x7AEF;&amp;#x7684;css&amp;#x4E2D;&amp;#x7684;flex&amp;#x4E5F;&amp;#x6709;&amp;#x6240;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x5B83;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;number&amp;#x4E0D;&amp;#x662F;string&amp;#x3002;&amp;#x5B83;&amp;#x6709;&amp;#x4E09;&amp;#x79CD;&amp;#x72B6;&amp;#x6001;&amp;#xFF1A;&amp;#x6B63;&amp;#x6570;&amp;#x3001;&amp;#x96F6;&amp;#x4E0E;&amp;#x8D1F;&amp;#x6570;&amp;#x3002;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;import React, {Component} from &amp;apos;react&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;import {StyleSheet, Text, View} from &amp;apos;react-native&amp;apos;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;export default class App extends Component&amp;lt;Props&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  render() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return (&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;View style={styles.container}&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;View style={styles.red}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;View style={styles.blue}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;lt;View style={styles.orange}/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      &amp;lt;/View&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;const styles = StyleSheet.create({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    justifyContent: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alignItems: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  red: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;red&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  blue: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      flex: 2,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;blue&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  orange: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;orange&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x4F7F;&amp;#x7528;flex:1&amp;#x6765;&amp;#x6491;&amp;#x6EE1;&amp;#x6574;&amp;#x4E2A;&amp;#x5C4F;&amp;#x5E55;&amp;#xFF0C;orange&amp;#x662F;&amp;#x56FA;&amp;#x5B9A;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;view&amp;#xFF0C;&amp;#x800C;red&amp;#x4E0E;blue&amp;#x4F7F;&amp;#x7528;flex&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;flex&amp;#x7684;&amp;#x503C;&amp;#x8FDB;&amp;#x884C;&amp;#x7B49;&amp;#x6BD4;(1:2)&amp;#x5206;&amp;#x644A;&amp;#x5269;&amp;#x4F59;&amp;#x7684;&amp;#x7A7A;&amp;#x95F4;&amp;#x3002;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x8FD0;&amp;#x884C;&amp;#x6548;&amp;#x679C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_flex_positive.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E3A;&amp;#x6B63;&amp;#x6570;&amp;#x7684;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;flex:0&amp;#xFF0C;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x5C31;&amp;#x4F1A;&amp;#x6839;&amp;#x636E;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;width&amp;#x4E0E;height&amp;#x6765;&amp;#x56FA;&amp;#x5B9A;&amp;#x663E;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;flex:-1&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x7A7A;&amp;#x95F4;&amp;#x8DB3;&amp;#x591F;&amp;#xFF0C;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x4E5F;&amp;#x4F1A;&amp;#x6839;&amp;#x636E;width&amp;#x4E0E;height&amp;#x6765;&amp;#x5C55;&amp;#x793A;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E0D;&amp;#x8DB3;&amp;#xFF0C;&amp;#x4F1A;&amp;#x6839;&amp;#x636E;minWidth&amp;#x4E0E;minHeight&amp;#x6765;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x822C;&amp;#x90FD;&amp;#x4E0D;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;flex:-1&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x7ECF;&amp;#x8FC7;&amp;#x6D4B;&amp;#x8BD5;&amp;#xFF0C;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E0D;&amp;#x8DB3;&amp;#x65F6;minWidth&amp;#x4E0E;minHeight&amp;#x5E76;&amp;#x4E0D;&amp;#x4F1A;&amp;#x751F;&amp;#x6548;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x53D1;&amp;#x73B0;&amp;#x751F;&amp;#x6548;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x8BF7;&amp;#x52A1;&amp;#x5FC5;&amp;#x544A;&amp;#x77E5;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;flexDirection&quot;&gt;&lt;a href=&quot;#flexDirection&quot; class=&quot;headerlink&quot; title=&quot;flexDirection&quot;&gt;&lt;/a&gt;flexDirection&lt;/h2&gt;&lt;p&gt;&amp;#x5728;Flexbox&amp;#x4E2D;&amp;#x6709;&amp;#x4E3B;&amp;#x8F74;&amp;#x4E0E;&amp;#x526F;&amp;#x8F74;&amp;#x4E4B;&amp;#x5206;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8F74;&amp;#x63A7;&amp;#x5236;child&amp;#x7684;&amp;#x6392;&amp;#x5217;&amp;#x65B9;&amp;#x5411;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;column&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;flexDirection&amp;#x5C5E;&amp;#x6027;&amp;#x6539;&amp;#x53D8;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x3002;&amp;#x5B83;&amp;#x6709;&amp;#x56DB;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x503C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;row: child&amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x6392;&amp;#x5217;&lt;/li&gt;
&lt;li&gt;column: child&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x6392;&amp;#x5217;(&amp;#x9ED8;&amp;#x8BA4;)&lt;/li&gt;
&lt;li&gt;row-reverse: child&amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x53CD;&amp;#x5411;&amp;#x6392;&amp;#x5217;&lt;/li&gt;
&lt;li&gt;column-reverse: child&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x53CD;&amp;#x5411;&amp;#x6392;&amp;#x5217;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;demo&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x6539;&amp;#x53D8;style&amp;#x6837;&amp;#x5F0F;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;const styles = StyleSheet.create({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    justifyContent: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alignItems: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  red: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;red&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  blue: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;blue&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  },&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  orange: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      backgroundColor: &amp;apos;orange&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5206;&amp;#x522B;&amp;#x6539;&amp;#x53D8;container&amp;#x4E2D;flexDirection&amp;#x7684;&amp;#x503C;&amp;#xFF1A;row&amp;#x3001;row-reverse&amp;#x3001;column&amp;#x3001;column-reverse&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_flex_direction.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;justifyContent&quot;&gt;&lt;a href=&quot;#justifyContent&quot; class=&quot;headerlink&quot; title=&quot;justifyContent&quot;&gt;&lt;/a&gt;justifyContent&lt;/h2&gt;&lt;p&gt;&amp;#x56FA;&amp;#x5B9A;&amp;#x597D;&amp;#x4E3B;&amp;#x8F74;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;justifyContent&amp;#x6765;&amp;#x6307;&amp;#x5B9A;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;child&amp;#x7684;&amp;#x6392;&amp;#x5217;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x5B83;&amp;#x6709;&amp;#x516D;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x503C;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;flex-start: child&amp;#x5BF9;&amp;#x9F50;&amp;#x4E3B;&amp;#x8F74;&amp;#x7684;&amp;#x8D77;&amp;#x70B9;(&amp;#x9ED8;&amp;#x8BA4;)&lt;/li&gt;
&lt;li&gt;flex-end: child&amp;#x5BF9;&amp;#x9F50;&amp;#x4E3B;&amp;#x8F74;&amp;#x7684;&amp;#x7EC8;&amp;#x70B9;&lt;/li&gt;
&lt;li&gt;center: child&amp;#x5C45;&amp;#x4E2D;&amp;#x5BF9;&amp;#x9F50;&amp;#x4E3B;&amp;#x8F74;&lt;/li&gt;
&lt;li&gt;space-between: child&amp;#x5728;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x76F8;&amp;#x90BB;child&amp;#x7B49;&amp;#x95F4;&amp;#x8DDD;&amp;#x5BF9;&amp;#x9F50;&amp;#xFF0C;&amp;#x9996;&amp;#x5C3E;child&amp;#x4E0E;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x5BF9;&amp;#x9F50;&lt;/li&gt;
&lt;li&gt;space-around: child&amp;#x5728;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x76F8;&amp;#x90BB;child&amp;#x7B49;&amp;#x95F4;&amp;#x8DDD;&amp;#x5BF9;&amp;#x9F50;&amp;#xFF0C;&amp;#x9996;&amp;#x5C3E;child&amp;#x4E0E;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x7684;&amp;#x95F4;&amp;#x8DDD;&amp;#x76F8;&amp;#x7B49;&amp;#x4E14;&amp;#x4E3A;&amp;#x76F8;&amp;#x90BB;child&amp;#x95F4;&amp;#x8DDD;&amp;#x7684;&amp;#x4E00;&amp;#x534A;&lt;/li&gt;
&lt;li&gt;space-evenly: child&amp;#x5728;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x5747;&amp;#x5300;&amp;#x5206;&amp;#x5E03;&amp;#x3002;&amp;#x76F8;&amp;#x90BB;&amp;#x95F4;&amp;#x8DDD;&amp;#x4E0E;&amp;#x9996;&amp;#x5C3E;&amp;#x95F4;&amp;#x8DDD;&amp;#x76F8;&amp;#x7B49;&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  justifyContent: &amp;apos;flex-start&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F9D;&amp;#x6B21;&amp;#x6539;&amp;#x53D8;container&amp;#x4E2D;&amp;#x7684;justifyContent&amp;#xFF1A;flex-start&amp;#x3001;flex-end&amp;#x3001;center&amp;#x3001;space-between&amp;#x3001;space-around&amp;#x4E0E;space-evenly&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_justify_content_flex_start_end.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_justify_content_center_space_between.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_justify_content_space_around_evenly.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;alignItems&quot;&gt;&lt;a href=&quot;#alignItems&quot; class=&quot;headerlink&quot; title=&quot;alignItems&quot;&gt;&lt;/a&gt;alignItems&lt;/h2&gt;&lt;p&gt;&amp;#x4E3B;&amp;#x8F74;&amp;#x56FA;&amp;#x5B9A;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x526F;&amp;#x8F74;&amp;#xFF0C;alignItems&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x526F;&amp;#x8F74;&amp;#x4E0A;&amp;#x7684;child&amp;#x6392;&amp;#x5217;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5B83;&amp;#x6709;&amp;#x4E94;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x9879;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;flex-start: child&amp;#x5BF9;&amp;#x9F50;&amp;#x526F;&amp;#x8F74;&amp;#x8D77;&amp;#x70B9;(&amp;#x9ED8;&amp;#x8BA4;)&lt;/li&gt;
&lt;li&gt;flex-end: child&amp;#x5BF9;&amp;#x9F50;&amp;#x526F;&amp;#x8F74;&amp;#x7EC8;&amp;#x70B9;&lt;/li&gt;
&lt;li&gt;center: child&amp;#x5C45;&amp;#x4E2D;&amp;#x5BF9;&amp;#x9F50;&amp;#x526F;&amp;#x8F74;&lt;/li&gt;
&lt;li&gt;stretch: child&amp;#x4E3A;&amp;#x5F39;&amp;#x6027;&amp;#x5E03;&amp;#x5C40;&amp;#x65F6;(&amp;#x672A;&amp;#x8BBE;&amp;#x7F6E;&amp;#x526F;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x6216;&amp;#x8005;&amp;#x4E3A;auto)&amp;#xFF0C;&amp;#x62C9;&amp;#x4F38;&amp;#x5BF9;&amp;#x9F50;&amp;#x526F;&amp;#x8F74;&lt;/li&gt;
&lt;li&gt;baseline: &amp;#x6709;&amp;#x6587;&amp;#x672C;&amp;#x5B58;&amp;#x5728;&amp;#x65F6;&amp;#xFF0C;child&amp;#x5728;&amp;#x526F;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x57FA;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x672C;&amp;#x57FA;&amp;#x7EBF;&amp;#x5BF9;&amp;#x9F50;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6539;&amp;#x53D8;container&amp;#x7684;style&amp;#xFF0C;&amp;#x4E3B;&amp;#x8F74;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;row&amp;#xFF0C;&amp;#x4F9D;&amp;#x6B21;&amp;#x6539;&amp;#x53D8;alignItems&amp;#xFF1A;flex-start&amp;#x3001;flex-end&amp;#x3001;center&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  alignItems: &amp;apos;flex-start&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5C06;alignItems&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3A;stretch&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x6539;&amp;#x53D8;red&amp;#x7684;height&amp;#xFF0C;red&amp;#x4F1A;&amp;#x88AB;&amp;#x62C9;&amp;#x4F38;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  alignItems: &amp;apos;stretch&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;},&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;red: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    height: &amp;apos;auto&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;red&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_align_items_flex_start_end.jpg&quot; alt=&quot;&quot;&gt;&lt;br&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_align_items_center_stretch.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;alignItems: baseline&amp;#xFF0C;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x6587;&amp;#x672C;&amp;#x7684;&amp;#x6B63;&amp;#x4E2D;&amp;#x5FC3;&amp;#xFF0C;&amp;#x800C;&amp;#x662F;&amp;#x6587;&amp;#x672C;View&amp;#x7684;&amp;#x5BB9;&amp;#x5668;&amp;#x5E95;&amp;#x90E8;&amp;#x3002;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x57FA;&amp;#x7840;&amp;#x4E0A;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E00;&amp;#x4E2A;Text&amp;#xFF0C;&amp;#x8BA9;&amp;#x6587;&amp;#x672C;&amp;#x81EA;&amp;#x8EAB;&amp;#x5C45;&amp;#x4E2D;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  alignItems: &amp;apos;baseline&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;},&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;text: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    width: 80,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    height: 80,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fontSize: 20,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    color: &amp;apos;white&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    marginTop: 110,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;black&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    textAlign: &amp;apos;center&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    textAlignVertical: &amp;apos;center&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_align_items_baseline.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;flexWrap&quot;&gt;&lt;a href=&quot;#flexWrap&quot; class=&quot;headerlink&quot; title=&quot;flexWrap&quot;&gt;&lt;/a&gt;flexWrap&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x518D;&amp;#x589E;&amp;#x52A0;&amp;#x4E00;&amp;#x4E2A;View&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E0D;&amp;#x8DB3;&amp;#x5B83;&amp;#x4F1A;&amp;#x5C55;&amp;#x793A;&amp;#x4E0D;&amp;#x5168;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;flexWrap&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x652F;&amp;#x6301;&amp;#x81EA;&amp;#x52A8;&amp;#x6362;&amp;#x884C;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;nowrap: &amp;#x4E0D;&amp;#x6362;&amp;#x884C;(&amp;#x9ED8;&amp;#x8BA4;)&lt;/li&gt;
&lt;li&gt;wrap: &amp;#x81EA;&amp;#x52A8;&amp;#x6362;&amp;#x884C;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5728;container&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;flexWrap&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x518D;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E00;&amp;#x4E2A;green view&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;container: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flex: 1,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexDirection: &amp;apos;row&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  flexWrap: &amp;apos;wrap&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  justifyContent: &amp;apos;flex-start&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  backgroundColor: &amp;apos;#F5FCFF&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;},&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;green: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;green&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_flex_wrap.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;alignSelf&quot;&gt;&lt;a href=&quot;#alignSelf&quot; class=&quot;headerlink&quot; title=&quot;alignSelf&quot;&gt;&lt;/a&gt;alignSelf&lt;/h2&gt;&lt;p&gt;alignSelf&amp;#x5C5E;&amp;#x6027;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;alignItems&amp;#xFF0C;&amp;#x5B83;&amp;#x4E5F;&amp;#x662F;&amp;#x63A7;&amp;#x5236;&amp;#x526F;&amp;#x8F74;&amp;#x4E0A;&amp;#x7684;&amp;#x6392;&amp;#x5217;&amp;#x89C4;&amp;#x5219;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x662F;child&amp;#x81EA;&amp;#x5DF1;&amp;#x3002;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x6539;&amp;#x53D8;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;alignItems&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x63A7;&amp;#x5236;&amp;#x7684;child&amp;#x6392;&amp;#x5217;&amp;#x89C4;&amp;#x5219;&amp;#xFF0C;&amp;#x5728;&amp;#x526F;&amp;#x8F74;&amp;#x4E0A;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x6392;&amp;#x5217;&amp;#x89C4;&amp;#x5219;&amp;#x3002;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x4E3A;auto&amp;#xFF0C;&amp;#x7EE7;&amp;#x627F;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x7684;alignItems&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#x5B83;&amp;#x4E5F;&amp;#x6709;&amp;#x4E94;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x503C;&amp;#xFF1A;flex-start&amp;#x3001;flex-end&amp;#x3001;center&amp;#x3001;stretch&amp;#x4E0E;baseline&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3A;range&amp;#x6DFB;&amp;#x52A0;alignSelf&amp;#xFF0C;&amp;#x5176;&amp;#x5B83;&amp;#x7684;child&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x90FD;&amp;#x7EE7;&amp;#x627F;&amp;#x7236;&amp;#x5BB9;&amp;#x5668;&amp;#x7684;alignItems: flex-start&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;orange: {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    width: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    height: 100,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundColor: &amp;apos;orange&amp;apos;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    alignSelf: &amp;apos;flex-end&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/flexbox_align_self.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x53EF;&amp;#x9009;&amp;#x503C;&amp;#x5C31;&amp;#x4E0D;&amp;#x4E00;&amp;#x4E00;&amp;#x8BF4;&amp;#x660E;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x53C2;&amp;#x8003;alignItems&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;other&quot;&gt;&lt;a href=&quot;#other&quot; class=&quot;headerlink&quot; title=&quot;other&quot;&gt;&lt;/a&gt;other&lt;/h2&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x8FD8;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x6BD4;&amp;#x8F83;&amp;#x51B7;&amp;#x95E8;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4E00;&amp;#x4E00;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0E;&amp;#x8D34;&amp;#x56FE;&amp;#xFF0C;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BF4;&amp;#x4E0B;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#xFF0C;&amp;#x76F8;&amp;#x540C;&amp;#x70B9;&amp;#x662F;&amp;#x5B83;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&amp;#x5728;child&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x4E0E;alignSelf&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x57DF;&amp;#x4E00;&amp;#x6837;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;flexBasis: &amp;#x8BBE;&amp;#x7F6E;&amp;#x4E3B;&amp;#x8F74;&amp;#x65B9;&amp;#x5411;&amp;#x4E0A;&amp;#x7684;&amp;#x521D;&amp;#x59CB;&amp;#x503C;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;auto&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0E;width&amp;#x6216;&amp;#x8005;height&amp;#x540C;&amp;#x65F6;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x5219;&amp;#x4F1A;&amp;#x8986;&amp;#x76D6;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x503C;&lt;/li&gt;
&lt;li&gt;flexGrow: &amp;#x8BBE;&amp;#x7F6E;chid&amp;#x7684;&amp;#x653E;&amp;#x5927;&amp;#x6BD4;&amp;#x4F8B;&amp;#xFF0C;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E8E;flex&amp;#xFF0C;&amp;#x7A7A;&amp;#x95F4;&amp;#x5145;&amp;#x8DB3;&amp;#x65F6;&amp;#x81EA;&amp;#x52A8;&amp;#x6309;&amp;#x6BD4;&amp;#x4F8B;&amp;#x653E;&amp;#x5927;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;0&lt;/li&gt;
&lt;li&gt;flexShrink: &amp;#x8BBE;&amp;#x7F6E;chid&amp;#x7684;&amp;#x7F29;&amp;#x5C0F;&amp;#x6BD4;&amp;#x4F8B;&amp;#x3002;&amp;#x7A7A;&amp;#x95F4;&amp;#x4E0D;&amp;#x8DB3;&amp;#x65F6;&amp;#x81EA;&amp;#x52A8;&amp;#x6309;&amp;#x6BD4;&amp;#x4F8B;&amp;#x7F29;&amp;#x5C0F;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;0&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6709;&amp;#x5173;Flexbox&amp;#xFF0C;&amp;#x7EB5;&amp;#x89C2;&amp;#x5168;&amp;#x6587;&amp;#x53EA;&amp;#x9700;&amp;#x638C;&amp;#x63E1;&amp;#x5F00;&amp;#x5934;&amp;#x6240;&amp;#x5217;&amp;#x7684;&amp;#x516D;&amp;#x79CD;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;React Native&amp;#x4E2D;&amp;#x7684;&amp;#x7EDD;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x5E03;&amp;#x5C40;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E0D;&amp;#x6210;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x5BF9;&amp;#x4E8E;Flexbox&amp;#x662F;&amp;#x5426;&amp;#x6E05;&amp;#x6670;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x5462;&amp;#xFF1F;&amp;#x8D76;&amp;#x7D27;&amp;#x4EB2;&amp;#x81EA;&amp;#x53BB;&amp;#x8BD5;&amp;#x8BD5;&amp;#x5427;~&lt;/p&gt;
&lt;p&gt;&amp;#x611F;&amp;#x89C9;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x6765;&amp;#x4E00;&amp;#x6CE2;&amp;#x5173;&amp;#x6CE8;&amp;#xFF0C;&amp;#x626B;&amp;#x63CF;&amp;#x4E0B;&amp;#x65B9;&amp;#x4E8C;&amp;#x7EF4;&amp;#x7801;&amp;#xFF0C;&amp;#x5173;&amp;#x6CE8;&amp;#x516C;&amp;#x4F17;&amp;#x53F7;&amp;#xFF0C;&amp;#x53CA;&amp;#x65F6;&amp;#x83B7;&amp;#x53D6;&amp;#x6700;&amp;#x65B0;&amp;#x77E5;&amp;#x8BC6;&amp;#x6280;&amp;#x5DE7;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/23/5&amp;#x5206;&amp;#x949F;&amp;#x5403;&amp;#x900F;React-Native-Flexbox/wx_qr_code.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x804A;&amp;#x804A;Flexbox&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x524D;&amp;#x7AEF;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x5E03;&amp;#
    
    </summary>
    
    
      <category term="flexbox" scheme="https://idisfkj.github.io/tags/flexbox/"/>
    
  </entry>
  
  <entry>
    <title>ViewDragHelper之手势操作神器</title>
    <link href="https://idisfkj.github.io/2018/08/19/ViewDragHelper%E4%B9%8B%E6%89%8B%E5%8A%BF%E6%93%8D%E4%BD%9C%E7%A5%9E%E5%99%A8/"/>
    <id>https://idisfkj.github.io/2018/08/19/ViewDragHelper之手势操作神器/</id>
    <published>2018-08-19T08:06:46.000Z</published>
    <updated>2018-08-23T13:59:49.605Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/08/19/ViewDragHelper&amp;#x4E4B;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x795E;&amp;#x5668;/cover.jpg&quot; alt=&quot;cover&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Android&amp;#x4E2D;&amp;#x907F;&amp;#x514D;&amp;#x4E0D;&amp;#x4E86;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;ViewGroup&amp;#xFF0C;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x539F;&amp;#x751F;&amp;#x63A7;&amp;#x4EF6;&amp;#x6240;&amp;#x4E0D;&amp;#x80FD;&amp;#x6EE1;&amp;#x8DB3;&amp;#x7684;&amp;#x9700;&amp;#x6C42;&amp;#x3002;&amp;#x5C24;&amp;#x5176;&amp;#x662F;&amp;#x590D;&amp;#x6742;&amp;#x7684;ViewGroup&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x624B;&amp;#x52BF;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x662F;&amp;#x907F;&amp;#x514D;&amp;#x4E0D;&amp;#x4E86;&amp;#x7684;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x9488;&amp;#x5BF9;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;ViewGroup&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&lt;code&gt;onInterceptTouchEvent&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onTouchEvent&lt;/code&gt;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7B49;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x6709;&amp;#x6CA1;&amp;#x6709;&amp;#x4EC0;&amp;#x4E48;&amp;#x7B80;&amp;#x4FBF;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5462;&amp;#xFF1F;&amp;#x7B54;&amp;#x6848;&amp;#x662F;&amp;#x80AF;&amp;#x5B9A;&amp;#x7684;&amp;#xFF0C;ViewDragHelper&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x89E3;&amp;#x51B3;&amp;#x8D1F;&amp;#x8D23;&amp;#x7684;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x5B83;&amp;#x662F;&amp;#x5B98;&amp;#x65B9;&amp;#x6240;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E13;&amp;#x95E8;&amp;#x4E3A;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;ViewGroup&amp;#x5904;&amp;#x7406;&amp;#x62D6;&amp;#x62FD;&amp;#x7684;&amp;#x624B;&amp;#x52BF;&amp;#x7C7B;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x5B98;&amp;#x65B9;&amp;#x7684;&amp;#x539F;&amp;#x6587;&amp;#x5F15;&amp;#x7528;&amp;#x8BF4;&amp;#x660E;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ViewDragHelper is a utility class for writing custom ViewGroups. It offers a number of useful operations and state tracking for allowing a user to drag and reposition views within their parent ViewGroup.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Purpose&quot;&gt;&lt;a href=&quot;#Purpose&quot; class=&quot;headerlink&quot; title=&quot;Purpose&quot;&gt;&lt;/a&gt;Purpose&lt;/h2&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4F60;&amp;#x5C06;&amp;#x4F1A;&amp;#x638C;&amp;#x63E1;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x77E5;&amp;#x8BC6;&amp;#x70B9;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ViewDragHelper&amp;#x7684;&amp;#x7B80;&amp;#x5355;&amp;#x5165;&amp;#x95E8;&lt;/li&gt;
&lt;li&gt;ViewDragHelper&amp;#x7684;&amp;#x5173;&amp;#x952E;API&amp;#x7528;&amp;#x9014;&lt;/li&gt;
&lt;li&gt;&amp;#x4F7F;&amp;#x7528;ViewDragHelper&amp;#x5B9E;&amp;#x73B0;view&amp;#x7684;&amp;#x62D6;&amp;#x62FD;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;use&quot;&gt;&lt;a href=&quot;#use&quot; class=&quot;headerlink&quot; title=&quot;use&quot;&gt;&lt;/a&gt;use&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x9700;&amp;#x8981;&amp;#x6784;&amp;#x5EFA;ViewDragHelper&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x5B83;&amp;#x7684;&amp;#x9759;&amp;#x6001;&lt;code&gt;create&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x751F;&amp;#x6210;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mViewDragHelper = ViewDragHelper.create(this, object : ViewDragHelper.Callback() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun tryCaptureView(child: View?, pointerId: Int): Boolean {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        TODO(&amp;quot;not implemented&amp;quot;) //To change body of created functions use File | Settings | File Templates.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;})&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;ViewGroup&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;ViewDragHelper.Callback&lt;/code&gt;&amp;#x3002;Callback&amp;#x662F;&amp;#x5BF9;view&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x7EDD;&amp;#x5BF9;&amp;#x591A;&amp;#x6570;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x4E2D;&amp;#x5B8C;&amp;#x6210;&amp;#x3002;&lt;code&gt;tryCaptureView&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x5B83;&amp;#x552F;&amp;#x4E00;&amp;#x7684;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x9700;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x6839;&amp;#x636E;&amp;#x53C2;&amp;#x6570;child&amp;#x5224;&amp;#x65AD;&amp;#x7528;&amp;#x6237;&amp;#x89E6;&amp;#x6478;&amp;#x7684;view&amp;#x662F;&amp;#x5426;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x540E;&amp;#x7EED;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x8BA9;ViewDragHelper&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x7B80;&amp;#x5316;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD8;&amp;#x9700;&amp;#x4E3A;&amp;#x5B83;&amp;#x4F20;&amp;#x5165;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&lt;code&gt;MotionEvent&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun onInterceptTouchEvent(ev: MotionEvent?): Boolean {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return mViewDragHelper.shouldInterceptTouchEvent(ev)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;override fun onTouchEvent(event: MotionEvent?): Boolean {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mViewDragHelper.processTouchEvent(event)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;ViewDragHelper&amp;#x7684;&lt;code&gt;shouldInterceptTouchEvent&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;processTouchEvent&lt;/code&gt;&amp;#x6765;&amp;#x7B80;&amp;#x5316;&amp;#x624B;&amp;#x52BF;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x5224;&amp;#x65AD;&amp;#x3002;&amp;#x5C06;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x5168;&amp;#x90E8;&amp;#x4EA4;&amp;#x7531;ViewDragHelper&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x60EF;&amp;#x6027;&amp;#x6ED1;&amp;#x52A8;&amp;#xFF0C;&amp;#x518D;&amp;#x91CD;&amp;#x5199;&lt;code&gt;computeScroll&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun computeScroll() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (mViewDragHelper.continueSettling(true)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        invalidate()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ViewDragHelper&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x591A;&amp;#xFF0C;&amp;#x7B97;&amp;#x4E86;&amp;#x4E00;&amp;#x4E0B;&amp;#x4E5F;&amp;#x5C31;&amp;#x5341;&amp;#x51E0;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x7EC6;&amp;#x8282;&amp;#xFF0C;&amp;#x51CF;&amp;#x5C11;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x60F3;&amp;#x5FEB;&amp;#x901F;&amp;#x7B80;&amp;#x4FBF;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;ViewDragHelper&amp;#x662F;&amp;#x4E0D;&amp;#x4E8C;&amp;#x4E4B;&amp;#x9009;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Demo&quot;&gt;&lt;a href=&quot;#Demo&quot; class=&quot;headerlink&quot; title=&quot;Demo&quot;&gt;&lt;/a&gt;Demo&lt;/h2&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F8B;&amp;#x6765;&amp;#x5BF9;ViewDragHelper&amp;#x7684;&amp;#x4E3B;&amp;#x8981;Api&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x521D;&amp;#x6B65;&amp;#x6548;&amp;#x679C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/19/ViewDragHelper&amp;#x4E4B;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x795E;&amp;#x5668;/view_drag_helper.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;view&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x6C34;&amp;#x5E73;&amp;#x3001;&amp;#x7AD6;&amp;#x76F4;&amp;#x4E0E;&amp;#x4EFB;&amp;#x610F;&amp;#x4F4D;&amp;#x7F6E;&amp;#x6ED1;&amp;#x52A8;&amp;#x3002;&amp;#x800C;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x8FD9;&amp;#x79CD;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x5C31;&amp;#x662F;ViewDragHelper.Callback&amp;#x4E2D;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;tryCaptureView&quot;&gt;&lt;a href=&quot;#tryCaptureView&quot; class=&quot;headerlink&quot; title=&quot;tryCaptureView&quot;&gt;&lt;/a&gt;tryCaptureView&lt;/h3&gt;&lt;p&gt;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FD4;&amp;#x56DE;&amp;#x5E03;&amp;#x5C14;&amp;#x503C;&amp;#x6765;&amp;#x5224;&amp;#x65AD;&amp;#x5F53;&amp;#x524D;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;view&amp;#x662F;&amp;#x5426;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x6355;&amp;#x83B7;&amp;#x3002;demo&amp;#x4E2D;&amp;#x9700;&amp;#x8981;&amp;#x8FD9;&amp;#x4E09;&amp;#x4E2A;view&amp;#x90FD;&amp;#x80FD;&amp;#x88AB;&amp;#x6355;&amp;#x83B7;&amp;#x5230;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#x53EA;&amp;#x9700;&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;&amp;#x7684;child&amp;#x505A;&amp;#x5BF9;&amp;#x6BD4;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun tryCaptureView(child: View?, pointerId: Int): Boolean {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (mLeft == 0 || mTop == 0){&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mLeft = mFlexibleView.left&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mTop = mFlexibleView.top&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return child == mHorizontalView || child == mVerticalView || child == mFlexibleView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E86;&amp;#x4EFB;&amp;#x610F;&amp;#x6ED1;&amp;#x52A8;view&amp;#x7684;&amp;#x521D;&amp;#x59CB;left&amp;#x4E0E;top&amp;#xFF0C;&amp;#x4EE5;&amp;#x4FBF;&amp;#x540E;&amp;#x7EED;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;clampViewPositionHorizontal&quot;&gt;&lt;a href=&quot;#clampViewPositionHorizontal&quot; class=&quot;headerlink&quot; title=&quot;clampViewPositionHorizontal&quot;&gt;&lt;/a&gt;clampViewPositionHorizontal&lt;/h3&gt;&lt;p&gt;&amp;#x6709;&amp;#x4E86;view&amp;#x7684;&amp;#x6355;&amp;#x83B7;&amp;#x5224;&amp;#x65AD;&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x5BF9;&amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x8FDB;&amp;#x884C;&amp;#x5224;&amp;#x65AD;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun clampViewPositionHorizontal(child: View?, left: Int, dx: Int): Int {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (child != mVerticalView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return left&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return child.left&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x7684;&amp;#x5404;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x4E0E;&amp;#x8FD4;&amp;#x56DE;&amp;#x503C;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;child&amp;#xFF1A;&amp;#x5F53;&amp;#x524D;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;view&lt;/li&gt;
&lt;li&gt;left: &amp;#x5C06;&amp;#x8981;&amp;#x5230;&amp;#x8FBE;&amp;#x7684;&amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&lt;/li&gt;
&lt;li&gt;dx: &amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5F53;&amp;#x524D;&amp;#x4F4D;&amp;#x7F6E;&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&lt;/li&gt;
&lt;li&gt;return&amp;#xFF1A;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x6C34;&amp;#x5E73;&amp;#x8DDD;&amp;#x79BB;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x53EA;&amp;#x6709;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x7684;view&amp;#x4E0D;&amp;#x80FD;&amp;#x968F;&amp;#x610F;&amp;#x79FB;&amp;#x52A8;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5F53;&amp;#x6355;&amp;#x83B7;&amp;#x7684;view&amp;#x4E3A;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x65F6;&amp;#x5C31;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;child.left&amp;#x539F;&amp;#x6765;&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#xFF1B;&amp;#x53CD;&amp;#x4E4B;&amp;#x8FD4;&amp;#x56DE;left&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;clampViewPositionVertical&quot;&gt;&lt;a href=&quot;#clampViewPositionVertical&quot; class=&quot;headerlink&quot; title=&quot;clampViewPositionVertical&quot;&gt;&lt;/a&gt;clampViewPositionVertical&lt;/h3&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x5224;&amp;#x65AD;&amp;#x4E0E;&amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x540C;&amp;#x7406;&amp;#xFF0C;&amp;#x770B;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun clampViewPositionVertical(child: View?, top: Int, dy: Int): Int {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (child != mHorizontalView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return top&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return child.top&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6B64;&amp;#x65F6;&amp;#x8FD0;&amp;#x884C;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x8BE5;demo&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x57FA;&amp;#x672C;&amp;#x5B8C;&amp;#x6210;&amp;#xFF0C;&amp;#x4E09;&amp;#x4E2A;view&amp;#x90FD;&amp;#x80FD;&amp;#x9884;&amp;#x671F;&amp;#x62D6;&amp;#x52A8;&amp;#x3002;&amp;#x53EA;&amp;#x662F;&amp;#x8981;&amp;#x5230;&amp;#x8FBE;&amp;#x4EFB;&amp;#x610F;view&amp;#x62D6;&amp;#x52A8;&amp;#x4E4B;&amp;#x540E;&amp;#x56DE;&amp;#x5230;&amp;#x521D;&amp;#x59CB;&amp;#x4F4D;&amp;#x7F6E;&amp;#x8FD8;&amp;#x9700;&amp;#x91CD;&amp;#x5199;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;onViewReleased&quot;&gt;&lt;a href=&quot;#onViewReleased&quot; class=&quot;headerlink&quot; title=&quot;onViewReleased&quot;&gt;&lt;/a&gt;onViewReleased&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun onViewReleased(releasedChild: View?, xvel: Float, yvel: Float) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (releasedChild == mFlexibleView) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewDragHelper.settleCapturedViewAt(mLeft, mTop)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        invalidate()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onViewReleased(releasedChild, xvel, yvel)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x5BF9;view&amp;#x91CA;&amp;#x653E;&amp;#x540E;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x5BF9;view&amp;#x91CA;&amp;#x653E;&amp;#x540E;&amp;#x7684;&amp;#x8F68;&amp;#x8FF9;&amp;#x505A;&amp;#x6539;&amp;#x53D8;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x8FD9;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;releaseChild: &amp;#x5F53;&amp;#x524D;&amp;#x91CA;&amp;#x653E;&amp;#x7684;view&lt;/li&gt;
&lt;li&gt;xvel: &amp;#x6C34;&amp;#x5E73;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&lt;/li&gt;
&lt;li&gt;yvel: &amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x8FD8;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&lt;code&gt;settleCapturedViewAt&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x5C06;&amp;#x5F53;&amp;#x524D;view&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x6240;&amp;#x7ED9;&amp;#x7684;&amp;#x5750;&amp;#x6807;&amp;#x4F4D;&amp;#x7F6E;&amp;#x3002;&amp;#x5185;&amp;#x90E8;&amp;#x4F1A;&amp;#x56DE;&amp;#x5230;&lt;code&gt;continueSettling&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x6ED1;&amp;#x52A8;&amp;#x52A8;&amp;#x753B;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;xvel&amp;#x4E0E;yvel&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x91CA;&amp;#x653E;view&amp;#x540E;&amp;#x7684;&amp;#x60EF;&amp;#x6027;&amp;#x79FB;&amp;#x52A8;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x5934;&amp;#x5230;&amp;#x5C3E;&amp;#x53EA;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;ViewDragHelper.Callback&amp;#x4E2D;&amp;#x7684;&amp;#x56DB;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5C31;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;demo&amp;#x4E2D;&amp;#x7684;&amp;#x62D6;&amp;#x62FD;&amp;#x6548;&amp;#x679C;&amp;#x3002;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x7B80;&amp;#x5355;&amp;#x7A0B;&amp;#x5EA6;&amp;#x4E0D;&amp;#x8A00;&amp;#x800C;&amp;#x55BB;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x719F;&amp;#x7EC3;&amp;#x4F7F;&amp;#x7528;ViewDragHelper&amp;#x4E0D;&amp;#x4EC5;&amp;#x80FD;&amp;#x63D0;&amp;#x9AD8;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6548;&amp;#x7387;&amp;#x4E0E;&amp;#x4EE3;&amp;#x7801;&amp;#x8D28;&amp;#x91CF;&amp;#x8FD8;&amp;#x80FD;&amp;#x51CF;&amp;#x5C11;&amp;#x51FA;&amp;#x9519;&amp;#x7387;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5176;&amp;#x5B83;&amp;#x7684;Api&amp;#x90FD;&amp;#x662F;&amp;#x4E9B;&amp;#x72B6;&amp;#x6001;&amp;#x6539;&amp;#x53D8;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x4E2D;&amp;#x4E5F;&amp;#x7528;&amp;#x7684;&amp;#x5C11;&amp;#xFF0C;&amp;#x624B;&amp;#x52BF;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x903B;&amp;#x8F91;&amp;#x90FD;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5728;&amp;#x8FD9;&amp;#x4E9B;Api&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x4ECB;&amp;#x7ECD;&amp;#x3002;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;demo view&amp;#x62D6;&amp;#x62FD;&amp;#x8D85;&amp;#x51FA;&amp;#x8FB9;&amp;#x754C;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x56FA;&amp;#x5B9A;&amp;#x8FB9;&amp;#x754C;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x5728;clampViewPositionHorizontal&amp;#x4E0E;clampViewPositionVertical&amp;#x4E2D;&amp;#x8FB9;&amp;#x754C;&amp;#x5224;&amp;#x65AD;&amp;#x5373;&amp;#x53EF;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x7559;&amp;#x7ED9;&amp;#x8BFB;&amp;#x8005;&amp;#x601D;&amp;#x8003;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x70B9;&amp;#xFF1A;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;Button&amp;#x6216;&amp;#x8005;TextView&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;clickable=true&amp;#xFF0C;&amp;#x4F60;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;Demo&amp;#x4E2D;&amp;#x7684;view&amp;#x4E0D;&amp;#x80FD;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E86;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x539F;&amp;#x56E0;&amp;#x662F;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;view&amp;#x4E0D;&amp;#x6D88;&amp;#x8D39;&amp;#x89E6;&amp;#x6478;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5219;&amp;#x89E6;&amp;#x6478;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5C06;&amp;#x76F4;&amp;#x63A5;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;onTouchEvent&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;Down&amp;#x4E8B;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5C31;&amp;#x5DF2;&amp;#x7ECF;&amp;#x786E;&amp;#x5B9A;&amp;#x4E86;&amp;#x6355;&amp;#x83B7;&amp;#x7684;view&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x6D88;&amp;#x8D39;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;onInterceptTouchEvent&lt;/code&gt;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x53EF;&amp;#x4EE5;&amp;#x6355;&amp;#x83B7;&amp;#xFF0C;&amp;#x800C;&amp;#x5224;&amp;#x65AD;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4F1A;&amp;#x53BB;&amp;#x8C03;&amp;#x7528;&lt;code&gt;getViewHorizontalDragRange&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;getViewVerticalDragRange&lt;/code&gt;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FD4;&amp;#x56DE;&amp;#x5927;&amp;#x4E8E;0&amp;#x7684;&amp;#x503C;&amp;#x624D;&amp;#x80FD;&amp;#x88AB;&amp;#x6355;&amp;#x83B7;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x8981;&amp;#x89E3;&amp;#x51B3;&amp;#x62D6;&amp;#x62FD;&amp;#x4E0D;&amp;#x52A8;&amp;#x7684;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x91CD;&amp;#x5199;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;override fun getViewHorizontalDragRange(child: View?): Int {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return measuredWidth - (child?.measuredWidth?:0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;override fun getViewVerticalDragRange(child: View?): Int {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return measuredHeight - (child?.measuredHeight?:0)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;finally&quot;&gt;&lt;a href=&quot;#finally&quot; class=&quot;headerlink&quot; title=&quot;finally&quot;&gt;&lt;/a&gt;finally&lt;/h2&gt;&lt;p&gt;ok&amp;#xFF0C;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;ViewDragHelper&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x5168;&amp;#x5165;&amp;#x95E8;&amp;#x4E86;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x5173;&amp;#x952E;&amp;#x7684;Api&amp;#x4E5F;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4E86;&amp;#x7136;&amp;#x4E8E;&amp;#x80F8;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x5B9E;&amp;#x9645;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;ViewDragHelper&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#xFF0C;&amp;#x4E0E;&amp;#x997F;&amp;#x4E86;&amp;#x4E48;&amp;#x7684;&amp;#x5546;&amp;#x54C1;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&amp;#x6548;&amp;#x679C;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/19/ViewDragHelper&amp;#x4E4B;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x795E;&amp;#x5668;/view_drag_helper_real.gif&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x624B;&amp;#x52BF;&amp;#x52A8;&amp;#x753B;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;ViewDragHelper&amp;#xFF0C;&amp;#x800C;&amp;#x7528;&amp;#x5230;&amp;#x7684;Api&amp;#x4E5F;&amp;#x662F;&amp;#x5168;&amp;#x90E8;&amp;#x662F;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x3002;&amp;#x5E0C;&amp;#x671B;&amp;#x901A;&amp;#x8FC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;demo&amp;#x6548;&amp;#x679C;&amp;#x80FD;&amp;#x591F;&amp;#x52A0;&amp;#x6DF1;ViewDragHelper&amp;#x5BF9;&amp;#x5927;&amp;#x5BB6;&amp;#x7684;&amp;#x5F71;&amp;#x54CD;&amp;#x4E0E;&amp;#x5BF9;&amp;#x5B83;&amp;#x7684;&amp;#x671F;&amp;#x671B;&amp;#x5EA6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5E0C;&amp;#x671B;&amp;#x5728;&amp;#x65E5;&amp;#x5E38;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x5927;&amp;#x5BB6;&amp;#x8F7B;&amp;#x677E;&amp;#x89E3;&amp;#x51B3;&amp;#x624B;&amp;#x52BF;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&amp;#x4E2D;&lt;/a&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;code&gt;feat_viewdraghelper_dev&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&amp;#x516C;&amp;#x4F17;&amp;#x53F7;&amp;#xFF1A;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/08/19/ViewDragHelper&amp;#x4E4B;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x795E;&amp;#x5668;/wx.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/08/19/ViewDragHelper&amp;#x4E4B;&amp;#x624B;&amp;#x52BF;&amp;#x64CD;&amp;#x4F5C;&amp;#x795E;&amp;#x5668;/cover.jpg&quot; alt=&quot;cover&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Andro
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="ViewDragHelper" scheme="https://idisfkj.github.io/tags/ViewDragHelper/"/>
    
  </entry>
  
  <entry>
    <title>自定义Android注解Part3:绑定</title>
    <link href="https://idisfkj.github.io/2018/07/11/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part3-%E7%BB%91%E5%AE%9A/"/>
    <id>https://idisfkj.github.io/2018/07/11/自定义Android注解Part3-绑定/</id>
    <published>2018-07-11T13:15:13.000Z</published>
    <updated>2018-07-12T00:09:26.151Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/07/11/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3-&amp;#x7ED1;&amp;#x5B9A;/2018-07-11-2.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x4E00;&amp;#x8282;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5C06;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x6CE8;&amp;#x89E3;&amp;#x4EE3;&amp;#x7801;&amp;#x90E8;&amp;#x5206;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x4ECA;&amp;#x5929;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x662F;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;&amp;#x7CFB;&amp;#x5217;&amp;#x7684;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x3002;&amp;#x5E0C;&amp;#x671B;&amp;#x5927;&amp;#x5BB6;&amp;#x8FD9;&amp;#x4E00;&amp;#x8DEF;&amp;#x8D70;&amp;#x6765;&amp;#x6709;&amp;#x6240;&amp;#x6536;&amp;#x83B7;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7ECF;&amp;#x8FC7;&amp;#x524D;&amp;#x9762;&amp;#x7684;&amp;#x4E86;&amp;#x89E3;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E09;&amp;#x5927;&amp;#x90E8;&amp;#x5206;&amp;#xFF1A;butterknife-annotations&amp;#x3001;butterknife-compiler&amp;#x4E0E;butterknife-bind&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x5C31;&amp;#x5269;&amp;#x4E0B;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;butterknife-bind&amp;#x3002;&amp;#x8BE5;&amp;#x90E8;&amp;#x5206;&amp;#x662F;&amp;#x5BF9;&amp;#x6211;&amp;#x4EEC;&amp;#x524D;&amp;#x9762;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&amp;#x4E0E;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x8FDB;&amp;#x884C;&amp;#x7ED1;&amp;#x5B9A;&amp;#xFF0C;&amp;#x5373;&amp;#x8C03;&amp;#x7528;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;butterknife-bind&amp;#x6A21;&amp;#x677F;&amp;#x5E93;&amp;#x7684;&amp;#x7ED3;&amp;#x6784;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/07/11/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3-&amp;#x7ED1;&amp;#x5B9A;/2018-07-11-1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x53EA;&amp;#x6709;Butterknife&amp;#x4E00;&amp;#x4E2A;&amp;#x7C7B;&amp;#xFF0C;&amp;#x5728;&amp;#x8FD9;&amp;#x4E4B;&amp;#x524D;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x5C06;&amp;#x524D;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B9A;&amp;#x4E49;&amp;#x597D;&amp;#x7684;module&amp;#x5F15;&amp;#x5165;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    compile project(path: &amp;apos;:butterknife-annotations&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E86;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&lt;strong&gt;Make Project&lt;/strong&gt;&amp;#x9879;&amp;#x76EE;&amp;#x5DE5;&amp;#x7A0B;&amp;#xFF0C;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x627E;&amp;#x5230;MainActivity$Binding&amp;#x7C7B;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x76F4;&amp;#x63A5;&amp;#x5728;&lt;strong&gt;/app/build/generated/source/kapt/debug/&lt;/strong&gt;&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x67E5;&amp;#x627E;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Bind&quot;&gt;&lt;a href=&quot;#Bind&quot; class=&quot;headerlink&quot; title=&quot;Bind&quot;&gt;&lt;/a&gt;Bind&lt;/h2&gt;&lt;p&gt;MainActivity$Binding&amp;#x5728;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x5C31;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x9700;&amp;#x8981;&amp;#x7684;bindView&amp;#x4E0E;setOnClickListener&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#x53EA;&amp;#x9700;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&amp;#x4F46;&amp;#x7531;&amp;#x4E8E;&amp;#x6211;&amp;#x4EEC;&amp;#x662F;&amp;#x8BE5;&amp;#x7C7B;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x5668;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5E76;&amp;#x4E0D;&amp;#x77E5;&amp;#x9053;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x540D;&amp;#x5168;&amp;#x79F0;(&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x67E5;&amp;#x770B;&amp;#x4E86;&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x624D;&amp;#x77E5;&amp;#x9053;&amp;#x662F;&amp;#x4EE5;$Binding&amp;#x7ED3;&amp;#x5C3E;)&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x662F;&amp;#x4E0D;&amp;#x80FD;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;new&lt;/strong&gt;&amp;#x5173;&amp;#x952E;&amp;#x5B57;&amp;#x6765;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x3002;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53C8;&amp;#x8BE5;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x5B83;&amp;#x5462;&amp;#xFF1F;&amp;#x8FD9;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;butterknife-bind&amp;#x4E2D;&amp;#x7684;&amp;#x552F;&amp;#x4E00;&amp;#x7684;&amp;#x7C7B;Butterknife&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class Butterknife {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private Butterknife() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static &amp;lt;T extends Activity&amp;gt; void initialization(T target, String suffix) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Class&amp;lt;?&amp;gt; tClass = target.getClass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        String className = tClass.getName();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Class&amp;lt;?&amp;gt; bindingClass = tClass.getClassLoader().loadClass(className + suffix);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Constructor&amp;lt;?&amp;gt; constructor = bindingClass.getConstructor(tClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            constructor.newInstance(target);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (ClassNotFoundException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (NoSuchMethodException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (InstantiationException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (IllegalAccessException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (InvocationTargetException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static void bind(Activity activity) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        initialization(activity, ConstantUtils.BINDING_BUTTERKNIFE_SUFFIX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;initialization&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;java&amp;#x53CD;&amp;#x5C04;&lt;/strong&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x7684;MainActivity$Binding&amp;#x3002;&amp;#x65E2;&amp;#x7136;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x77E5;&amp;#x9053;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x662F;&amp;#x7531;&amp;#x539F;&amp;#x59CB;&amp;#x7C7B;(MainActivity)+&amp;#x540E;&amp;#x7F00;($Binding)&amp;#x7EC4;&amp;#x6210;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x53EF;&amp;#x4EE5;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;java&amp;#x53CD;&amp;#x5C04;&amp;#x6765;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5916;&amp;#x754C;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x53EA;&amp;#x9700;&amp;#x4F7F;&amp;#x7528;bind&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F20;&amp;#x5165;&amp;#x9700;&amp;#x8981;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;&amp;#x7C7B;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Use&quot;&gt;&lt;a href=&quot;#Use&quot; class=&quot;headerlink&quot; title=&quot;Use&quot;&gt;&lt;/a&gt;Use&lt;/h2&gt;&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x7684;&amp;#x51C6;&amp;#x5907;&amp;#x5DE5;&amp;#x4F5C;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x6210;&amp;#x3002;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5F00;&amp;#x59CB;&amp;#x5728;MainActivity&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x5C06;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x5E93;&amp;#x8FDB;&amp;#x884C;&amp;#x4F9D;&amp;#x8D56;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation project(&amp;apos;:butterknife-bind&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    kapt project(&amp;apos;:butterknife-compiler&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x5728;MainActivity&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class MainActivity : AppCompatActivity() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @BindView(R.id.public_service, R.string.public_service)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    lateinit var sName: TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @BindView(R.id.personal_wx, R.string.personal_wx)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    lateinit var sPhone: TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_main)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Butterknife.bind(this)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnClick(R.id.public_service)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun nameClick(view: View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Toast.makeText(this, getString(R.string.public_service_click_toast), Toast.LENGTH_LONG).show()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnClick(R.id.personal_wx)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun phoneClick(view: View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Toast.makeText(this, getString(R.string.personal_wx_click_toast), Toast.LENGTH_LONG).show()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;@BindView&amp;#x7ED1;&amp;#x5B9A;View&amp;#x7684;Id&amp;#x4E0E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#xFF1B;&amp;#x4F7F;&amp;#x7528;@OnClick&amp;#x7ED1;&amp;#x5B9A;&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF1B;&amp;#x4F7F;&amp;#x7528;Butterknife.bind(this)&amp;#x7ED1;&amp;#x5B9A;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#x4E0E;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;Butterknife&amp;#x76F8;&amp;#x4F3C;&amp;#x7684;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;progurad&quot;&gt;&lt;a href=&quot;#progurad&quot; class=&quot;headerlink&quot; title=&quot;progurad&quot;&gt;&lt;/a&gt;progurad&lt;/h2&gt;&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x4F60;&amp;#x5728;&amp;#x6A21;&amp;#x62DF;&amp;#x5668;&amp;#x6216;&amp;#x8005;&amp;#x771F;&amp;#x673A;&amp;#x4E0A;&amp;#x8DD1;&amp;#x7740;&amp;#x975E;&amp;#x5E38;&amp;#x5B8C;&amp;#x7F8E;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4F60;&amp;#x4E0D;&amp;#x5C0F;&amp;#x5FC3;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;strong&gt;release&lt;/strong&gt;&amp;#x7248;&amp;#x672C;&amp;#x5E76;&amp;#x4E14;&amp;#x5F00;&amp;#x542F;&amp;#x4E86;&lt;strong&gt;&amp;#x6DF7;&amp;#x6DC6;&lt;/strong&gt;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x4F60;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;mmp&amp;#x5C45;&amp;#x7136;&amp;#x6CA1;&amp;#x6709;&amp;#x6548;&amp;#x679C;&amp;#x3002;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;debug&amp;#x4E0E;release&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#xFF0C;&amp;#x7EDD;&amp;#x5927;&amp;#x6570;&amp;#x60C5;&amp;#x51B5;&amp;#x4E0B;&amp;#x90FD;&amp;#x662F;&amp;#x6DF7;&amp;#x6DC6;&amp;#x60F9;&amp;#x7684;&amp;#x7978;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;java&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E00;&amp;#x65E6;&amp;#x6DF7;&amp;#x6DC6;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;java&amp;#x53CD;&amp;#x5C04;&amp;#x5C31;&amp;#x627E;&amp;#x4E0D;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;&amp;#x7C7B;&amp;#x540D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x81EA;&amp;#x7136;&amp;#x4E5F;&amp;#x5C31;&amp;#x6CA1;&amp;#x6709;&amp;#x6548;&amp;#x679C;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x73B0;&amp;#x5728;&amp;#x53C8;&amp;#x8BE5;&amp;#x5982;&amp;#x4F55;&amp;#x89E3;&amp;#x51B3;&amp;#x5462;&amp;#xFF1F;&amp;#x522B;&amp;#x6025;&amp;#xFF0C;&amp;#x662F;&amp;#x5426;&amp;#x8FD8;&amp;#x8BB0;&amp;#x5F97;&amp;#x5728;&amp;#x7CFB;&amp;#x5217;&amp;#x7684;&lt;strong&gt;Part1&lt;/strong&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&lt;strong&gt;@Keep&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;MainActivity$Binding&amp;#x7C7B;&amp;#x4E0A;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;@Keep&amp;#x6765;&amp;#x6807;&amp;#x8BC6;&amp;#x8BE5;&amp;#x7C7B;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x8BE5;&amp;#x6807;&amp;#x8BC6;&amp;#x544A;&amp;#x8BC9;proguard&amp;#x4E0D;&amp;#x53BB;&amp;#x6DF7;&amp;#x6DC6;&amp;#x4F7F;&amp;#x7528;@Keep&amp;#x6807;&amp;#x8BB0;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&amp;#x8981;&amp;#x8FBE;&amp;#x5230;&amp;#x8FD9;&amp;#x79CD;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x7ECF;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E24;&amp;#x4E2A;&amp;#x6B65;&amp;#x9AA4;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;1.&amp;#x5728;butterknife-bind&amp;#x7684;proguard-rules.pro&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;-keep class com.idisfkj.butterknife.annotations.Keep**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-keep @com.idisfkj.butterknife.annotations.Keep public class *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;-keepclassmembers @com.idisfkj.butterknife.annotations.Keep class ** {*;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;2.&amp;#x4E3A;&amp;#x4E86;&amp;#x662F;&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x7684;&amp;#x6DF7;&amp;#x6DC6;&amp;#x751F;&amp;#x6548;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x4F7F;&amp;#x7528;consumerProguardFiles&amp;#x58F0;&amp;#x660E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;defaultConfig {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    consumerProguardFiles &amp;apos;proguard-rules.pro&amp;apos; //&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x6DF7;&amp;#x6DC6;&amp;#x751F;&amp;#x6548;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B8C;&amp;#x6210;&amp;#x8FD9;&amp;#x4E24;&amp;#x6B65;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x91CD;&amp;#x65B0;&amp;#x6784;&amp;#x5EFA;release&amp;#x7248;&amp;#x672C;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x7A0B;&amp;#x5E8F;&amp;#x5B8C;&amp;#x7F8E;&amp;#x8FD0;&amp;#x884C;&amp;#x3002;&amp;#x7EC8;&amp;#x4E8E;&amp;#x53EF;&amp;#x4EE5;&amp;#x8F7B;&amp;#x677E;&amp;#x7684;&amp;#x4F11;&amp;#x606F;&amp;#x4F1A;&amp;#x4E86;&amp;#xFF01;&lt;/p&gt;
&lt;h2 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h2&gt;&lt;p&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;&amp;#x7CFB;&amp;#x5217;&amp;#x5B8C;&amp;#x7F8E;&amp;#x6536;&amp;#x5DE5;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x4E09;&amp;#x90E8;&amp;#x66F2;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x5927;&amp;#x5BB6;&amp;#x5B66;&amp;#x4F1A;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x73B0;&amp;#x6CE8;&amp;#x89E3;&amp;#x5E93;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x5E0C;&amp;#x671B;&amp;#x5927;&amp;#x5BB6;&amp;#x70B9;&amp;#x8D5E;&amp;#x652F;&amp;#x6301;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF0C;&amp;#x8C22;&amp;#x8C22;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;strong&gt;feat_annotation_processing&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/01/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part1-%E6%B3%A8%E8%A7%A3%E5%8F%98%E9%87%8F/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1:&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/04/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part2-%E4%BB%A3%E7%A0%81%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2:&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&amp;#x516C;&amp;#x4F17;&amp;#x53F7;&amp;#xFF1A;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/07/11/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3-&amp;#x7ED1;&amp;#x5B9A;/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/07/11/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3-&amp;#x7ED1;&amp;#x5B9A;/2018-07-11-2.jpeg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Annotation Processing" scheme="https://idisfkj.github.io/tags/Android-Annotation-Processing/"/>
    
  </entry>
  
  <entry>
    <title>自定义Android注解Part2:代码自动生成</title>
    <link href="https://idisfkj.github.io/2018/07/04/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part2-%E4%BB%A3%E7%A0%81%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90/"/>
    <id>https://idisfkj.github.io/2018/07/04/自定义Android注解Part2-代码自动生成/</id>
    <published>2018-07-04T13:49:52.000Z</published>
    <updated>2018-07-11T15:32:44.622Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/07/04/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2-&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;/2018-07-10.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x4E00;&amp;#x671F;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x628A;butterknife-annotations&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&amp;#x90FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B9A;&amp;#x4E49;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;BindView&amp;#x3001;OnClick&amp;#x4E0E;Keep&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x6B21;&amp;#x8FDB;&amp;#x5165;&amp;#x672C;&amp;#x7CFB;&amp;#x5217;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x5F3A;&amp;#x70C8;&amp;#x63A8;&amp;#x8350;&amp;#x8DF3;&amp;#x5230;&amp;#x6587;&amp;#x7AE0;&amp;#x672B;&amp;#x5C3E;&amp;#x67E5;&amp;#x770B;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x8981;&amp;#x4E0D;&amp;#x7136;&amp;#x4F60;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x6709;&amp;#x70B9;&amp;#x4E91;&amp;#x91CC;&amp;#x96FE;&amp;#x91CC;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x5728;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x5F15;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x4E0E;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;ButterKnife&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class MainActivity : AppCompatActivity() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @BindView(R.id.public_service, R.string.public_service)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    lateinit var sName: TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @BindView(R.id.personal_wx, R.string.personal_wx)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    lateinit var sPhone: TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_main)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Butterknife.bind(this)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnClick(R.id.public_service)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun nameClick(view: View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Toast.makeText(this, getString(R.string.public_service_click_toast), Toast.LENGTH_LONG).show()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnClick(R.id.personal_wx)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun phoneClick(view: View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Toast.makeText(this, getString(R.string.personal_wx_click_toast), Toast.LENGTH_LONG).show()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;@BindView&amp;#x6765;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6211;&amp;#x7684;View&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;@OnClick&amp;#x6765;&amp;#x7ED1;&amp;#x5B9A;View&amp;#x7684;&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;Butterknife.bind&amp;#x6765;&amp;#x7ED1;&amp;#x5B9A;&amp;#x8BE5;Class&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;(&amp;#x8BE5;&amp;#x90E8;&amp;#x5206;&amp;#x4E0B;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x5C06;&amp;#x63D0;&amp;#x53CA;)&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x7ED1;&amp;#x5B9A;&amp;#x6CE8;&amp;#x89E3;&amp;#x5E93;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;1/3&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x5C06;&amp;#x5B9E;&amp;#x73B0;&amp;#x5B83;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;&amp;#x5C31;&amp;#x5230;&amp;#x4E86;&amp;#x4E0A;&amp;#x671F;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;Module&amp;#xFF1A;butterknife-compiler&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/07/04/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2-&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;/1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NameUtils&lt;/strong&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E9B;&amp;#x5E38;&amp;#x91CF;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;final class NameUtils {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    static String getAutoGeneratorTypeName(String typeName) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return typeName + ConstantUtils.BINDING_BUTTERKNIFE_SUFFIX;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    static class Package{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String ANDROID_VIEW = &amp;quot;android.view&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    static class Class {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String CLASS_VIEW = &amp;quot;View&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String CLASS_ON_CLICK_LISTENER = &amp;quot;OnClickListener&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    static class Method{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String BIND_VIEW = &amp;quot;bindView&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String SET_ON_CLICK_LISTENER = &amp;quot;setOnClickListener&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String ON_CLICK = &amp;quot;onClick&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    static class Variable{&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        static final String ANDROID_ACTIVITY = &amp;quot;activity&amp;quot;;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;NameUitls&amp;#x5305;&amp;#x542B;&amp;#x4E86;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x540D;&amp;#x79F0;&amp;#xFF0C;&amp;#x5305;&amp;#x540D;&amp;#xFF0C;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#xFF0C;&amp;#x53D8;&amp;#x91CF;&amp;#x540D;&amp;#x3002;&amp;#x603B;&amp;#x4E4B;&amp;#x5C31;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x4EE3;&amp;#x7801;&amp;#x66F4;&amp;#x5065;&amp;#x5168;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x7C7B;Processor&amp;#x662F;&amp;#x4ECA;&amp;#x5929;&amp;#x7684;&amp;#x91CD;&amp;#x4E2D;&amp;#x4E4B;&amp;#x91CD;&amp;#x3002;&amp;#x4E5F;&amp;#x662F;&amp;#x6CE8;&amp;#x89E3;&amp;#x5E93;&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x6CE8;&amp;#x89E3;&amp;#x8FDB;&amp;#x7A0B;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;AbstractProcessor&lt;/strong&gt;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x9700;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;init&amp;#xFF1A;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&lt;/li&gt;
&lt;li&gt;getSupportedAnnotationTypes&amp;#xFF1A;&amp;#x6240;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&lt;/li&gt;
&lt;li&gt;process&amp;#xFF1A;&amp;#x89E3;&amp;#x6790;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x7F16;&amp;#x5199;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;init&quot;&gt;&lt;a href=&quot;#init&quot; class=&quot;headerlink&quot; title=&quot;init&quot;&gt;&lt;/a&gt;init&lt;/h2&gt;&lt;p&gt;&amp;#x4ECE;&amp;#x7B80;&amp;#x5355;&amp;#x5230;&amp;#x5BB9;&amp;#x6613;&amp;#xFF0C;&amp;#x5148;&amp;#x662F;init&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public synchronized void init(ProcessingEnvironment processingEnv) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    super.init(processingEnv);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mFiler = processingEnv.getFiler();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mMessager = processingEnv.getMessager();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mElementUtils = processingEnv.getElementUtils();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C2;&amp;#x6570;processingEnv&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x63D0;&amp;#x4F9B;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x73AF;&amp;#x5883;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x901A;&amp;#x8FC7;getFiler()&amp;#x3001;getMessager()&amp;#x4E0E;getElementUthis()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x83B7;&amp;#x53D6;&amp;#x521B;&amp;#x5EFA;&amp;#x6E90;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;Filer&amp;#x3001;&amp;#x6D88;&amp;#x606F;&amp;#x53D1;&amp;#x9001;&amp;#x5668;Messager(&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x4E8E;&amp;#x5411;&amp;#x5916;&amp;#x754C;&amp;#x53D1;&amp;#x9001;&amp;#x9519;&amp;#x8BEF;&amp;#x4FE1;&amp;#x606F;)&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&amp;#x6CE8;&amp;#x89E3;&amp;#x5143;&amp;#x7D20;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x901A;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6784;&amp;#x5EFA;&amp;#x597D;&amp;#x4E86;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Filter&amp;#x6765;&amp;#x5C06;&amp;#x4EE3;&amp;#x7801;&amp;#x5199;&amp;#x5165;&amp;#x5230;java&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5982;&amp;#x9047;&amp;#x9519;&amp;#x8BEF;&amp;#x4F7F;&amp;#x7528;Messager&amp;#x5C06;&amp;#x9519;&amp;#x8BEF;&amp;#x4FE1;&amp;#x606F;&amp;#x53D1;&amp;#x9001;&amp;#x51FA;&amp;#x53BB;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x5199;&amp;#x5165;java&amp;#x6587;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    JavaFile.builder(packageName, typeBuilder.build()).build().writeTo(mFiler)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;} catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mMessager.printMessage(Diagnostic.Kind.ERROR, e.getMessage(), typeElement);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x7684;JavaFile&amp;#x4E0E;typeBuilder&amp;#x90FD;&amp;#x662F;JavaPoet&amp;#x4E2D;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;JavaPote&amp;#x4E3B;&amp;#x8981;&amp;#x63D0;&amp;#x4F9B;Java API&amp;#x6765;&amp;#x5E2E;&amp;#x52A9;&amp;#x751F;&amp;#x6210;&lt;code&gt;.java&lt;/code&gt;&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;getSupportedAnnotationTypes&quot;&gt;&lt;a href=&quot;#getSupportedAnnotationTypes&quot; class=&quot;headerlink&quot; title=&quot;getSupportedAnnotationTypes&quot;&gt;&lt;/a&gt;getSupportedAnnotationTypes&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public Set&amp;lt;String&amp;gt; getSupportedAnnotationTypes() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return new TreeSet&amp;lt;&amp;gt;(Arrays.asList(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            BindView.class.getCanonicalName(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            OnClick.class.getCanonicalName(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Keep.class.getCanonicalName())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    );&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x770B;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x5C31;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;&amp;#x6240;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x5C06;&amp;#x5176;&amp;#x901A;&amp;#x8FC7;set&amp;#x96C6;&amp;#x5408;&amp;#x6765;&amp;#x8FD4;&amp;#x56DE;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C06;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0A;&amp;#x4E00;&amp;#x671F;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;set&amp;#x96C6;&amp;#x5408;&amp;#x4E2D;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;process&quot;&gt;&lt;a href=&quot;#process&quot; class=&quot;headerlink&quot; title=&quot;process&quot;&gt;&lt;/a&gt;process&lt;/h2&gt;&lt;p&gt;&amp;#x5230;&amp;#x4E86;&amp;#x672C;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x7684;&amp;#x6838;&amp;#x5FC3;&amp;#xFF0C;process&amp;#x7528;&amp;#x6765;&amp;#x751F;&amp;#x6210;&amp;#x4E0E;&amp;#x6CE8;&amp;#x89E3;&amp;#x76F8;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x89E3;&amp;#x6790;Class&amp;#x4E2D;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x751F;&amp;#x6210;&amp;#x4E0E;&amp;#x6CE8;&amp;#x89E3;&amp;#x76F8;&amp;#x5173;&amp;#x8054;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public boolean process(Set&amp;lt;? extends TypeElement&amp;gt; annotations, RoundEnvironment roundEnv) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF1A;annotations&amp;#x4E0E;roundEnv&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4EE3;&amp;#x8868;&amp;#x9700;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4EE3;&amp;#x8868;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF1B;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x5668;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x73AF;&amp;#x5883;&amp;#xFF0C;&amp;#x5E2E;&amp;#x52A9;&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x6790;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x5F00;&amp;#x59CB;&amp;#x89E3;&amp;#x6790;&amp;#x6CE8;&amp;#x89E3;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5E94;&amp;#x8BE5;&amp;#x5148;&amp;#x8FC7;&amp;#x6EE4;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&amp;#x56DE;&amp;#x5934;&amp;#x770B;getSupportedAnnotationTypes&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x652F;&amp;#x6301;BindView&amp;#x3001;OnClick&amp;#x4E0E;Keep&amp;#x8FD9;&amp;#x4E09;&amp;#x4E2A;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x89E3;&amp;#x6790;&amp;#x51FA;&amp;#x76F8;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C06;&amp;#x8FD9;&amp;#x4E2A;&amp;#x903B;&amp;#x8F91;&amp;#x5355;&amp;#x72EC;&amp;#x62BD;&amp;#x79BB;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x4EA4;&amp;#x7531;getTypeElementsByAnnotationType&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Set&amp;lt;TypeElement&amp;gt; getTypeElementsByAnnotationType(Set&amp;lt;? extends TypeElement&amp;gt; annotations, Set&amp;lt;? extends Element&amp;gt; elements) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Set&amp;lt;TypeElement&amp;gt; result = new HashSet&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x904D;&amp;#x5386;&amp;#x5305;&amp;#x542B;&amp;#x7684; package class method&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    for (Element element : elements) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5339;&amp;#x914D; class or interface&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (element instanceof TypeElement) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            boolean found = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x904D;&amp;#x5386;class&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x7684; filed method constructors&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            for (Element subElement : element.getEnclosedElements()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x904D;&amp;#x5386;element&amp;#x4E2D;&amp;#x5305;&amp;#x542B;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                for (AnnotationMirror annotationMirror : subElement.getAnnotationMirrors()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    for (TypeElement annotation : annotations) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        //&amp;#x5339;&amp;#x914D;&amp;#x6CE8;&amp;#x91CA;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (annotationMirror.getAnnotationType().asElement().equals(annotation)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            result.add((TypeElement) element);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            found = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (found) break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (found) break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x7406;&amp;#x89E3;Element&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;Element&amp;#x4EE3;&amp;#x8868;&amp;#x7A0B;&amp;#x5E8F;&amp;#x4E2D;&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#x3001;&amp;#x7C7B;&amp;#x3001;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&amp;#x6CE8;&amp;#x89E3;&amp;#x6240;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x56DE;&amp;#x5230;&amp;#x4EE3;&amp;#x7801;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5DF2;&amp;#x7ECF;&amp;#x7ED9;&amp;#x51FA;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4EE3;&amp;#x7801;&amp;#x6CE8;&amp;#x91CA;&amp;#x3002;&lt;br&gt;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x6709;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;class&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E24;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;getEnclosedElements()&amp;#xFF1A;&amp;#x83B7;&amp;#x5143;&amp;#x7D20;&amp;#x4E2D;&amp;#x7684;&amp;#x95ED;&amp;#x5305;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5143;&amp;#x7D20;&amp;#xFF0C;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#x4E2D;&amp;#x5143;&amp;#x7D20;&amp;#x4E3A;MainActivity(TypeElement&amp;#xFF0C;Type&amp;#x4EE3;&amp;#x8868;Class)&amp;#xFF0C;&amp;#x800C;&amp;#x95ED;&amp;#x5305;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5143;&amp;#x7D20;&amp;#x5219;&amp;#x4E3A;sName&amp;#x3001;sPhone&amp;#x3001;nameClick&amp;#x3001;phoneClick&amp;#x4E0E;onCreate&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x5C31;&amp;#x662F;&amp;#x83B7;&amp;#x53D6;&amp;#x6709;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#x540D;&amp;#x3001;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&lt;/li&gt;
&lt;li&gt;getAnnotationMirrors()&amp;#xFF1A;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0A;&amp;#x8FF0;&amp;#x95ED;&amp;#x5305;&amp;#x5143;&amp;#x7D20;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;sName&amp;#x4E0E;sPhone&amp;#x4E0A;&amp;#x7684;@BindeView&amp;#x3001;nameClick&amp;#x4E0E;phoneClick&amp;#x4E0A;&amp;#x7684;@OnClick&amp;#x3001;onCreate&amp;#x4E0A;&amp;#x7684;@Override&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x6700;&amp;#x7EC8;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x5C31;&amp;#x662F;MainActivity&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x88AB;&amp;#x8F6C;&amp;#x5316;&amp;#x4E3A;TypeElement&amp;#x7C7B;&amp;#x578B;&amp;#x8FD4;&amp;#x56DE;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5C06;&amp;#x7531;processing&amp;#x6765;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x56DE;&amp;#x5230;process&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;getTypeElementsByAnnotationType()&amp;#x65B9;&amp;#x6CD5;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;TypeElement(MainActivity)&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x83B7;&amp;#x53D6;&amp;#x4E0E;annotation&amp;#x76F8;&amp;#x5339;&amp;#x914D;&amp;#x7684;TypeElement,&amp;#x5373;&amp;#x6709;&amp;#x6CE8;&amp;#x91CA;&amp;#x58F0;&amp;#x660E;&amp;#x7684;class&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;Set&amp;lt;TypeElement&amp;gt; elements = getTypeElementsByAnnotationType(annotations, roundEnv.getRootElements());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x83B7;&amp;#x53D6;&amp;#x6784;&amp;#x5EFA;&amp;#x7C7B;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x5305;&amp;#x540D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;String packageName = mElementUtils.getPackageOf(typeElement).getQualifiedName().toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x7C7B;&amp;#x540D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;String typeName = typeElement.getSimpleName().toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x5168;&amp;#x79F0;&amp;#x7C7B;&amp;#x540D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ClassName className = ClassName.get(packageName, typeName);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7C7B;&amp;#x5168;&amp;#x79F0;&amp;#x540D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ClassName autoGenerationClassName = ClassName.get(packageName,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        NameUtils.getAutoGeneratorTypeName(typeName));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6784;&amp;#x5EFA;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;TypeSpec.Builder typeBuilder = TypeSpec.classBuilder(autoGenerationClassName)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addModifiers(Modifier.PUBLIC)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addAnnotation(Keep.class);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5212;&amp;#x5206;&amp;#x6E05;&amp;#x695A;&amp;#x4E86;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5206;&amp;#x4E3A;&amp;#x56DB;&amp;#x4E2A;&amp;#x6B65;&amp;#x9AA4;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x5BF9;&amp;#x5E94;typeElement&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#xFF08;&amp;#x8FD9;&amp;#x91CC;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x662F;com.idisfkj.androidapianalysis&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x83B7;&amp;#x53D6;typeElement&amp;#x7684;SimpleName&amp;#xFF08;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3A;MainActivity&amp;#x5B57;&amp;#x7B26;&amp;#x4E32;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x8FF0;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x5305;&amp;#x540D;&amp;#x4E0E;SimpleName&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;ClassName&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x540E;&amp;#x7EED;&amp;#x58F0;&amp;#x660E;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x7C7B;&amp;#x578B;&amp;#xFF08;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3A;MainActivity&amp;#x7C7B;&amp;#xFF0C;&amp;#x6CE8;&amp;#x610F;&amp;#x662F;MainActivity&amp;#x7C7B;&amp;#x578B;&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&amp;#x6784;&amp;#x5EFA;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;ClassName&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;NameUtils.getAutoGeneratorTypeName&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x7EDF;&amp;#x4E00;&amp;#x547D;&amp;#x540D;&amp;#xFF08;&amp;#x8FD9;&amp;#x91CC;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x540D;&amp;#x4E3A;MainActivity$Binding&amp;#xFF0C;&amp;#x90FD;&amp;#x4EE5;&amp;#x539F;&amp;#x59CB;&amp;#x7C7B;&amp;#x540D;&amp;#x540E;&amp;#x9762;&amp;#x52A0;$Binding&amp;#xFF09;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6240;&amp;#x6709;&amp;#x4FE1;&amp;#x606F;&amp;#x51C6;&amp;#x5907;&amp;#x5B8C;&amp;#x6BD5;&amp;#x540E;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5F00;&amp;#x59CB;&amp;#x5B9A;&amp;#x4E49;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;TypeSpec.Builder&lt;/strong&gt;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x3002;&amp;#x5B83;&amp;#x662F;JavaPoet&amp;#x4E2D;&amp;#x7684;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;JavaPoet&quot;&gt;&lt;a href=&quot;#JavaPoet&quot; class=&quot;headerlink&quot; title=&quot;JavaPoet&quot;&gt;&lt;/a&gt;JavaPoet&lt;/h2&gt;&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;JavaFileObject&amp;#x751F;&amp;#x6210;.java&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x9EBB;&amp;#x70E6;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;JavaPoet&amp;#x3002;JavaPoet&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x6765;&amp;#x5E2E;&amp;#x52A9;&amp;#x65B9;&amp;#x4FBF;&amp;#x5FEB;&amp;#x6377;&amp;#x7684;&amp;#x751F;&amp;#x6210;.java&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x3002;&amp;#x60F3;&amp;#x8981;&amp;#x5168;&amp;#x9762;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&lt;a href=&quot;https://github.com/square/javapoet&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x94FE;&amp;#x63A5;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x5E2E;&amp;#x52A9;&amp;#x5FEB;&amp;#x901F;&amp;#x8BFB;&amp;#x61C2;&amp;#x8BE5;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5BF9;&amp;#x5176;&amp;#x4E2D;&amp;#x51E0;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x4ECB;&amp;#x7ECD;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x524D;&amp;#x8FD8;&amp;#x9700;&amp;#x5728;butterknife-compiler&amp;#x4E2D;&amp;#x7684;builder.gradle&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation fileTree(dir: &amp;apos;libs&amp;apos;, include: [&amp;apos;*.jar&amp;apos;])&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation project(&amp;apos;:butterknife-annotations&amp;apos;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;apos;com.squareup:javapoet:1.11.1&amp;apos;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x5C06;&amp;#x4E0A;&amp;#x4E00;&amp;#x671F;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;Module&amp;#x5F15;&amp;#x5165;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TypeSpec.Builder: &amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x7C7B;&lt;/li&gt;
&lt;li&gt;addModifiers: &amp;#x5B9A;&amp;#x4E49;private&amp;#x3001;public&amp;#x4E0E;protected&amp;#x7C7B;&amp;#x578B;&lt;/li&gt;
&lt;li&gt;addAnnotation: &amp;#x5BF9;Element&amp;#x5143;&amp;#x7D20;&amp;#x6DFB;&amp;#x52A0;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;@Keep&lt;/li&gt;
&lt;li&gt;TypeSpec.Builder -&amp;gt; addMethod: &amp;#x6DFB;&amp;#x52A0;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;li&gt;MethodSpec -&amp;gt; addParameter: &amp;#x4E3A;&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&amp;#x53C2;&amp;#x6570;&amp;#x7C7B;&amp;#x578B;&amp;#x4E0E;&amp;#x53C2;&amp;#x6570;&amp;#x540D;&lt;/li&gt;
&lt;li&gt;MethodSpec -&amp;gt; addStatement: &amp;#x5728;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x4EE3;&amp;#x7801;&amp;#x5757;&amp;#x3002;&amp;#x800C;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x52A8;&amp;#x6001;&amp;#x7C7B;&amp;#x578B;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x5360;&amp;#x4F4D;&amp;#x7B26;&amp;#x66FF;&amp;#x4EE3;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;addStatement(&amp;#x201C;$N($N)&amp;#x201D;, &amp;#x201C;bindView&amp;#x201D;, &amp;#x201C;activity&amp;#x201D;)&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x4F1A;&amp;#x751F;&amp;#x6210;bindView(activity)&amp;#x3002;&amp;#x5360;&amp;#x4F4D;&amp;#x7B26;&amp;#xFF1A;$N -&amp;gt; name, $T -&amp;gt; type(ClassName), $L -&amp;gt; literals&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E86;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6784;&amp;#x5EFA;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;TypeSpec.Builder typeBuilder = TypeSpec.classBuilder(autoGenerationClassName)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addModifiers(Modifier.PUBLIC)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addAnnotation(Keep.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6DFB;&amp;#x52A0;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;typeBuilder.addMethod(MethodSpec.constructorBuilder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addModifiers(Modifier.PUBLIC)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addParameter(className, NameUtils.Variable.ANDROID_ACTIVITY)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addStatement(&amp;quot;$N($N)&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Method.BIND_VIEW,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addStatement(&amp;quot;$N($N)&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Method.SET_ON_CLICK_LISTENER,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .build());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x901A;&amp;#x8FC7;TypeSpec.Builder&amp;#x6784;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x7C7B;&amp;#xFF0C;&amp;#x7C7B;&amp;#x540D;&amp;#x4E3A;autoGenerationClassName(MainActivity$Binding)&amp;#xFF0C;&amp;#x7C7B;&amp;#x7684;&amp;#x8BBF;&amp;#x95EE;&amp;#x7EA7;&amp;#x522B;&amp;#x4E3A;public&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x4E3A;&amp;#x4E86;&amp;#x9632;&amp;#x6B62;&amp;#x6DF7;&amp;#x6DC6;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;@Keep&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x6765;&amp;#x6DFB;&amp;#x52A0;&amp;#x7C7B;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;addMethod&amp;#x3001;addModifiers&amp;#x3001;addParameter&amp;#x4E0E;addStatement&amp;#x5206;&amp;#x522B;&amp;#x6784;&amp;#x5EFA;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x3001;&amp;#x65B9;&amp;#x6CD5;&amp;#x8BBF;&amp;#x95EE;&amp;#x7EA7;&amp;#x522B;&amp;#x3001;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C2;&amp;#x6570;&amp;#x4E0E;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6267;&amp;#x884C;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x5757;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x6700;&amp;#x7EC8;&amp;#x5C06;&amp;#x4F1A;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Keep&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public class MainActivity$Binding {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  public MainActivity$Binding(MainActivity activity) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    bindView(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setOnClickListener(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7C7B;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x7684;bindView&amp;#x4E0E;setOnClickListener&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6784;&amp;#x5EFA;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;bindView&quot;&gt;&lt;a href=&quot;#bindView&quot; class=&quot;headerlink&quot; title=&quot;bindView&quot;&gt;&lt;/a&gt;bindView&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6DFB;&amp;#x52A0;bindView&amp;#x6210;&amp;#x5458;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MethodSpec.Builder bindViewBuilder = MethodSpec.methodBuilder(NameUtils.Method.BIND_VIEW)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addModifiers(Modifier.PRIVATE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .returns(TypeName.VOID)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addParameter(className, NameUtils.Variable.ANDROID_ACTIVITY);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6DFB;&amp;#x52A0;&amp;#x65B9;&amp;#x6CD5;&amp;#x5185;&amp;#x5BB9;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;for (VariableElement variableElement : ElementFilter.fieldsIn(typeElement.getEnclosedElements())) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    BindView bindView = variableElement.getAnnotation(BindView.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (bindView != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bindViewBuilder.addStatement(&amp;quot;$N.$N=($T)$N.findViewById($L)&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                variableElement.getSimpleName(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                variableElement,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                bindView.value()[0]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ).addStatement(&amp;quot;$N.$N.setText($N.getString($L))&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                variableElement.getSimpleName(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                bindView.value()[1]);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;typeBuilder.addMethod(bindViewBuilder.build());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;MethodSpec.Builder&amp;#x6765;&amp;#x521B;&amp;#x5EFA;bindView&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x90FD;&amp;#x4E0E;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;returns&amp;#x4E3A;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FD4;&amp;#x56DE;void&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x904D;&amp;#x5386;MainActivity&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x627E;&amp;#x5230;&amp;#x4E0E;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;BindView&amp;#x76F8;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x5206;&amp;#x522B;&amp;#x5411;bindView&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;findViewById&amp;#x4E0E;setText&amp;#x4EE3;&amp;#x7801;&amp;#x5757;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5C06;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;typeBuilder&amp;#x4E2D;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6267;&amp;#x884C;&amp;#x5B8C;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x540E;&amp;#x5728;MainActivity$Binding&amp;#x4E2D;&amp;#x5C55;&amp;#x793A;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void bindView(MainActivity activity) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.sName=(TextView)activity.findViewById(2131165265);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.sName.setText(activity.getString(2131427362));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.sPhone=(TextView)activity.findViewById(2131165262);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.sPhone.setText(activity.getString(2131427360));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x6700;&amp;#x521D;&amp;#x7684;View&amp;#x7684;&amp;#x7ED1;&amp;#x5B9A;&amp;#x4E0E;TextView&amp;#x7684;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;setOnClickListener&quot;&gt;&lt;a href=&quot;#setOnClickListener&quot; class=&quot;headerlink&quot; title=&quot;setOnClickListener&quot;&gt;&lt;/a&gt;setOnClickListener&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6DFB;&amp;#x52A0;setOnClickListener&amp;#x6210;&amp;#x5458;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MethodSpec.Builder setOnClickListenerBuilder = MethodSpec.methodBuilder(NameUtils.Method.SET_ON_CLICK_LISTENER)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addModifiers(Modifier.PRIVATE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .returns(TypeName.VOID)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .addParameter(className, NameUtils.Variable.ANDROID_ACTIVITY, Modifier.FINAL);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6DFB;&amp;#x52A0;&amp;#x65B9;&amp;#x6CD5;&amp;#x5185;&amp;#x5BB9;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ClassName viewClassName = ClassName.get(NameUtils.Package.ANDROID_VIEW, NameUtils.Class.CLASS_VIEW);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;ClassName onClickListenerClassName = ClassName.get(NameUtils.Package.ANDROID_VIEW, NameUtils.Class.CLASS_VIEW, NameUtils.Class.CLASS_ON_CLICK_LISTENER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;for (ExecutableElement executableElement : ElementFilter.methodsIn(typeElement.getEnclosedElements())) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    OnClick onClick = executableElement.getAnnotation(OnClick.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (onClick != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x6784;&amp;#x5EFA;&amp;#x533F;&amp;#x540D;class&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        TypeSpec typeSpec = TypeSpec.anonymousClassBuilder(&amp;quot;&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addSuperinterface(onClickListenerClassName)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .addMethod(MethodSpec.methodBuilder(NameUtils.Method.ON_CLICK)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        .addModifiers(Modifier.PUBLIC)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        .addParameter(viewClassName, NameUtils.Class.CLASS_VIEW)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        .returns(TypeName.VOID)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        .addStatement(&amp;quot;$N.$N($N)&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                executableElement.getSimpleName(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                NameUtils.Class.CLASS_VIEW)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        .build())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setOnClickListenerBuilder.addStatement(&amp;quot;$N.findViewById($L).setOnClickListener($L)&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NameUtils.Variable.ANDROID_ACTIVITY,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                onClick.value(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                typeSpec);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;typeBuilder.addMethod(setOnClickListenerBuilder.build());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0E;bindView&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&amp;#x533F;&amp;#x540D;&amp;#x7C7B;OnClickListener&amp;#x4E0E;&amp;#x7C7B;View&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E5F;&amp;#x8981;&amp;#x5B9A;&amp;#x4E49;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;ClassName&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x4F7F;&amp;#x7528;TypeSpec&amp;#x6765;&amp;#x751F;&amp;#x6210;&amp;#x533F;&amp;#x540D;&amp;#x7C7B;&amp;#x3002;&amp;#x751F;&amp;#x6210;&amp;#x4E4B;&amp;#x540E;&amp;#x518D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;setOnClickListener&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x5C06;setOnClickListener&amp;#x65B9;&amp;#x6CD5;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;MainActivity$Binding&amp;#x4E2D;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x7EC8;&amp;#x5C55;&amp;#x793A;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void setOnClickListener(final MainActivity activity) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.findViewById(2131165265).setOnClickListener(new View.OnClickListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void onClick(View View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      activity.nameClick(View);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  activity.findViewById(2131165262).setOnClickListener(new View.OnClickListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void onClick(View View) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      activity.phoneClick(View);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;MainActivity$Binding&amp;#x7C7B;&amp;#x5C31;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B9A;&amp;#x4E49;&amp;#x5B8C;&amp;#x6210;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x5199;&amp;#x5165;&amp;#x5230;java&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x5199;&amp;#x5165;java&amp;#x6587;&amp;#x4EF6;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    JavaFile.builder(packageName, typeBuilder.build()).build().writeTo(mFiler);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;} catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mMessager.printMessage(Diagnostic.Kind.ERROR, e.getMessage(), typeElement);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;services&quot;&gt;&lt;a href=&quot;#services&quot; class=&quot;headerlink&quot; title=&quot;services&quot;&gt;&lt;/a&gt;services&lt;/h2&gt;&lt;p&gt;&amp;#x5728;butterknife-compiler&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;&amp;#x76EE;&amp;#x5F55;&amp;#xFF1A;&lt;br&gt;&lt;code&gt;butterknife-compiler/src/main/resources/META-INF/services&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;services&amp;#x76EE;&amp;#x5F55;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x6587;&amp;#x4EF6;&amp;#xFF1A;&lt;code&gt;javax.annotation.processing.Processor&lt;/code&gt;&amp;#xFF0C;&amp;#x8BE5;&amp;#x6587;&amp;#x4EF6;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x544A;&amp;#x8BC9;&amp;#x7F16;&amp;#x8BD1;&amp;#x5668;&amp;#xFF0C;&amp;#x5F53;&amp;#x5B83;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6B63;&amp;#x5904;&amp;#x4E8E;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x4E2D;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x544A;&amp;#x8BC9;&amp;#x6CE8;&amp;#x89E3;&amp;#x5904;&amp;#x7406;&amp;#x5668;&amp;#x6765;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x54EA;&amp;#x4E9B;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x5C06;&amp;#x6DFB;&amp;#x52A0;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;Processor&amp;#x8DEF;&amp;#x5F84;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;com.idisfkj.butterknife.compiler.Processor&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x6CE8;&amp;#x89E3;&amp;#x5668;&amp;#x5C31;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x8BE5;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;Processor&amp;#x3002;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x6574;&amp;#x4E2A;butterknife-compiler&amp;#x5C31;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&lt;code&gt;Make Project&lt;/code&gt;&amp;#x4E00;&amp;#x4E0B;&amp;#x5DE5;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5B8C;&amp;#x6210;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5168;&amp;#x5C40;&amp;#x641C;&amp;#x7D22;&amp;#x5230;MainActivity$Binding&amp;#x6587;&amp;#x4EF6;&amp;#x4E86;&amp;#x3002;&amp;#x6216;&amp;#x8005;&amp;#x5728;&amp;#x5982;&amp;#x4E0B;&amp;#x8DEF;&amp;#x5F84;&amp;#x4E2D;&amp;#x67E5;&amp;#x770B;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/app/build/generated/source/kapt/debug/com/idisfkj/androidapianalysis/MainActivity$Binding.java&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;strong&gt;feat_annotation_processing&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/01/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part1-%E6%B3%A8%E8%A7%A3%E5%8F%98%E9%87%8F/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1:&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/11/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part3-%E7%BB%91%E5%AE%9A/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3:&amp;#x7ED1;&amp;#x5B9A;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/07/04/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2-&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/07/04/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2-&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;/2018-07-10.jp
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Annotation Processing" scheme="https://idisfkj.github.io/tags/Android-Annotation-Processing/"/>
    
  </entry>
  
  <entry>
    <title>自定义Android注解Part1:注解变量</title>
    <link href="https://idisfkj.github.io/2018/07/01/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part1-%E6%B3%A8%E8%A7%A3%E5%8F%98%E9%87%8F/"/>
    <id>https://idisfkj.github.io/2018/07/01/自定义Android注解Part1-注解变量/</id>
    <published>2018-07-01T08:31:15.000Z</published>
    <updated>2018-07-11T15:31:59.007Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/07/01/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1-&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;Android&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x6216;&amp;#x591A;&amp;#x6216;&amp;#x5C11;&amp;#x90FD;&amp;#x6709;&amp;#x4E00;&amp;#x70B9;&amp;#x63A5;&amp;#x89E6;&amp;#xFF0C;&amp;#x4F46;&amp;#x76F8;&amp;#x4FE1;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x4EBA;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x5176;&amp;#x5B83;&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x63A5;&amp;#x89E6;&amp;#x7684;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x6709;&amp;#x4E9B;&amp;#x5E93;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x60F3;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x5C31;&amp;#x5FC5;&amp;#x987B;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x6240;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;ButterKnife&amp;#x3001;Dagger2&amp;#x3001;Room&amp;#x7B49;&amp;#x7B49;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x4E3A;&amp;#x4F55;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF1F;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&amp;#x7684;&amp;#x5E94;&amp;#x8BE5;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x6700;&amp;#x660E;&amp;#x663E;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x65B9;&amp;#x4FBF;&amp;#x3001;&amp;#x7B80;&amp;#x6D01;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x7F16;&amp;#x8BD1;&amp;#x9636;&amp;#x6BB5;&amp;#xFF0C;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x4E00;&amp;#x4E9B;&amp;#x91CD;&amp;#x590D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x51CF;&amp;#x8F7B;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x8D1F;&amp;#x62C5;&amp;#x3002;&amp;#x5178;&amp;#x578B;&amp;#x7684;ButterKnife&amp;#x672C;&amp;#x8D28;&amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Android&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x89E3;&amp;#x6765;&amp;#x51CF;&amp;#x5C11;&amp;#x6211;&amp;#x4EEC;&amp;#x5BF9;view.findViewById&amp;#x7684;&amp;#x7F16;&amp;#x5199;&amp;#xFF0C;&amp;#x63D0;&amp;#x9AD8;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x6548;&amp;#x7387;&amp;#x3002;&amp;#x4E0A;&amp;#x4E00;&amp;#x4E2A;&amp;#x7CFB;&amp;#x5217;(AAC)&amp;#x7684;Room&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x56DE;&amp;#x987E;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Entity(tableName = &amp;quot;contacts&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;data class ContactsModel(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @PrimaryKey&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;contacts_id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val id: Int,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;name&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val name: String,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;phone&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val phone: String&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x4F53;&amp;#x8868;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;10&amp;#x884C;&amp;#x5DE6;&amp;#x53F3;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x6211;&amp;#x4EEC;&amp;#x5168;&amp;#x90E8;&amp;#x81EA;&amp;#x5DF1;&amp;#x5199;&amp;#x90A3;&amp;#x7EDD;&amp;#x5BF9;&amp;#x8981;&amp;#x4E24;&amp;#x4E09;&amp;#x767E;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x4E86;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x5176;&amp;#x4E2D;&amp;#x8FD8;&amp;#x53EF;&amp;#x80FD;&amp;#x51FA;&amp;#x9519;&amp;#xFF0C;&amp;#x53C8;&amp;#x8981;&amp;#x6539;bug&amp;#x7B49;&amp;#x7B49;&amp;#x3002;&amp;#x6548;&amp;#x7387;&amp;#x5C31;&amp;#x4E25;&amp;#x91CD;&amp;#x964D;&amp;#x4F4E;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x5982;&amp;#x679C;&amp;#x90FD;&amp;#x8FD9;&amp;#x4E48;&amp;#x9EBB;&amp;#x70E6;&amp;#x4E5F;&amp;#x5C31;&amp;#x4E0D;&amp;#x4F1A;&amp;#x6709;&amp;#x4EBA;&amp;#x7528;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x5982;&amp;#x4F55;&amp;#x5224;&amp;#x65AD;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F9D;&amp;#x8D56;&amp;#x5E93;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x89E3;&amp;#x5462;&amp;#xFF1F;&amp;#x5176;&amp;#x5B9E;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x8BB0;&amp;#x4F4F;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E24;&amp;#x70B9;&amp;#x5373;&amp;#x53EF;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x9700;&amp;#x8981;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0D;&amp;#x80FD;&amp;#x4E0E;&amp;#x9879;&amp;#x76EE;&amp;#x903B;&amp;#x8F91;&amp;#x6709;&amp;#x5173;&lt;/li&gt;
&lt;li&gt;Android&amp;#x6CE8;&amp;#x89E3;&amp;#x53EA;&amp;#x80FD;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E0D;&amp;#x80FD;&amp;#x4FEE;&amp;#x6539;&amp;#x4EE3;&amp;#x7801;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x900F;&amp;#x9732;&amp;#x4E00;&amp;#x4E0B;&amp;#xFF0C;Android&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x672C;&amp;#x8D28;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Java&amp;#x7684;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x4F1A;&amp;#x8BE6;&amp;#x7EC6;&amp;#x8BF4;&amp;#x660E;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&quot;&gt;&lt;a href=&quot;#&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&quot;&gt;&lt;/a&gt;&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&lt;/h2&gt;&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;ButterKnife&amp;#x5E94;&amp;#x8BE5;&amp;#x6709;&amp;#x63A5;&amp;#x89E6;&amp;#x8FC7;&amp;#x5427;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x7684;&amp;#x4E5F;&amp;#x6CA1;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x6B63;&amp;#x662F;&amp;#x65F6;&amp;#x5019;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;BindView&amp;#x4E0E;OnClick&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;ButterKnife&amp;#x4E2D;&amp;#x7684;&amp;#x5BF9;&amp;#x5E94;&amp;#x6CE8;&amp;#x89E3;&amp;#x529F;&amp;#x80FD;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6574;&amp;#x4F53;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/07/01/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1-&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;/1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x9879;&amp;#x76EE;&amp;#x56FE;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x6E05;&amp;#x6670;&amp;#x7684;&amp;#x770B;&amp;#x5230;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x4E3A;&amp;#x4E09;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;butterknife-annotations&amp;#xFF1A;&amp;#x6CE8;&amp;#x89E3;&amp;#x5E93;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;BindView&amp;#x4E0E;OnClick&amp;#x7B49;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&lt;/li&gt;
&lt;li&gt;butterknife-bind&amp;#xFF1A;&amp;#x7ED1;&amp;#x5B9A;&amp;#x5E93;&amp;#xFF0C;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x4E0E;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x7C7B;&amp;#x7ED1;&amp;#x5B9A;&lt;/li&gt;
&lt;li&gt;butterknife-compiler: &amp;#x89E3;&amp;#x6790;&amp;#x7F16;&amp;#x8BD1;&amp;#x751F;&amp;#x6210;&amp;#x5E93;&amp;#xFF0C;&amp;#x89E3;&amp;#x6790;&amp;#x58F0;&amp;#x660E;&amp;#x7C7B;&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x65F6;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x5E2E;&amp;#x52A9;&amp;#x5927;&amp;#x5BB6;&amp;#x80FD;&amp;#x591F;&amp;#x66F4;&amp;#x8F7B;&amp;#x677E;&amp;#x7684;&amp;#x7406;&amp;#x89E3;Android&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x4ECA;&amp;#x5929;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;&amp;#x7684;&amp;#x5C31;&amp;#x662F;butterknife-annotations&amp;#x8FD9;&amp;#x4E2A;&amp;#x6CE8;&amp;#x89E3;&amp;#x5E93;&amp;#x3002;&amp;#x5E26;&amp;#x5927;&amp;#x5BB6;&amp;#x4E00;&amp;#x8D77;&amp;#x6765;&amp;#x58F0;&amp;#x660E;&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;BindView&quot;&gt;&lt;a href=&quot;#BindView&quot; class=&quot;headerlink&quot; title=&quot;BindView&quot;&gt;&lt;/a&gt;BindView&lt;/h2&gt;&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;butterknife&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&amp;#x7ED1;&amp;#x5B9A;id&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;BindView&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x5177;&amp;#x4F53;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Retention(RetentionPolicy.SOURCE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Target(ElementType.FIELD)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public @interface BindView {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @IdRes int[] value();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x55EF;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5BF9;&amp;#x5427;&amp;#x3002;&amp;#x4E5F;&amp;#x5C31;5&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x89E3;&amp;#x51B3;BindView&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x518D;&amp;#x6765;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5256;&amp;#x6790;&amp;#x8FD9;5&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;Retention&quot;&gt;&lt;a href=&quot;#Retention&quot; class=&quot;headerlink&quot; title=&quot;Retention&quot;&gt;&lt;/a&gt;Retention&lt;/h3&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;Retention&amp;#xFF0C;&amp;#x770B;&amp;#x5B83;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#x5C31;&amp;#x80FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x5B83;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x58F0;&amp;#x660E;&amp;#x4E86;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Documented&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Retention(RetentionPolicy.RUNTIME)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Target(ElementType.ANNOTATION_TYPE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public @interface Retention {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Returns the retention policy.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @return the retention policy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    RetentionPolicy value();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x6E90;&amp;#x7801;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x51FA;&amp;#x8BE5;&amp;#x6CE8;&amp;#x89E3;&amp;#x53EA;&amp;#x63A5;&amp;#x6536;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x8BE5;&amp;#x53C2;&amp;#x6570;&amp;#x4E3A;RetentionPolicy&amp;#x7C7B;&amp;#x578B;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x6DF1;&amp;#x5165;RetentionPolicy&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public enum RetentionPolicy {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Annotations are to be discarded by the compiler.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SOURCE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Annotations are to be recorded in the class file by the compiler&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * but need not be retained by the VM at run time.  This is the default&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * behavior.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CLASS,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Annotations are to be recorded in the class file by the compiler and&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * retained by the VM at run time, so they may be read reflectively.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @see java.lang.reflect.AnnotatedElement&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    RUNTIME&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x5176;&amp;#x5B9E;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x679A;&amp;#x4E3E;&amp;#xFF0C;&amp;#x5728;&amp;#x679A;&amp;#x4E3E;&amp;#x4E2D;&amp;#x652F;&amp;#x6301;&amp;#x4E09;&amp;#x4E2A;&amp;#x5E38;&amp;#x91CF;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;SOURCE&amp;#x3001;CLASS&amp;#x4E0E;RUNTIME&amp;#x3002;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x4F5C;&amp;#x7528;&amp;#x7684;&amp;#x5468;&amp;#x671F;&amp;#x8303;&amp;#x56F4;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x518D;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E09;&amp;#x4E2A;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x8FDB;&amp;#x884C;&amp;#x7FFB;&amp;#x8BD1;&amp;#x4E00;&amp;#x904D;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;SOURCE&amp;#xFF1A; &amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x6807;&amp;#x660E;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5C06;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x9636;&amp;#x6BB5;&amp;#x5C31;&amp;#x88AB;&amp;#x629B;&amp;#x5F03;&amp;#x6389;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;CLASS&amp;#xFF1A;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x6807;&amp;#x660E;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5C06;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x9636;&amp;#x6BB5;&amp;#x8BB0;&amp;#x5F55;&amp;#x5230;&amp;#x751F;&amp;#x6210;&amp;#x7684;class&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4F46;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x9636;&amp;#x6BB5;&amp;#x65F6;&amp;#x53C8;&amp;#x4F1A;&amp;#x88AB;VM&amp;#x629B;&amp;#x5F03;&amp;#x3002;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x8BE5;&amp;#x6A21;&amp;#x5F0F;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;RUNTIME&amp;#xFF1A;&amp;#x4F7F;&amp;#x7528;&amp;#x8BE5;&amp;#x6807;&amp;#x660E;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5C06;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x9636;&amp;#x6BB5;&amp;#x88AB;&amp;#x4FDD;&amp;#x5B58;&amp;#x5728;&amp;#x751F;&amp;#x6210;&amp;#x7684;class&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x9636;&amp;#x6BB5;&amp;#x65F6;&amp;#x4F1A;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;VM&amp;#x4E2D;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x8BE5;&amp;#x6CE8;&amp;#x89E3;&amp;#x5C06;&amp;#x4E00;&amp;#x76F4;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x80FD;&amp;#x591F;&amp;#x901A;&amp;#x8FC7;java&amp;#x7684;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x8FDB;&amp;#x884C;&amp;#x8BFB;&amp;#x53D6;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x65F6;&amp;#x957F;&amp;#x4E3A;SOURCE &amp;lt; CLASS &amp;lt; RUNTIME&amp;#x3002;&amp;#x77E5;&amp;#x9053;&amp;#x4E86;&amp;#x5B83;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x8303;&amp;#x56F4;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x65F6;&amp;#x5C31;&amp;#x8981;&amp;#x5C3D;&amp;#x91CF;&amp;#x8F83;&amp;#x5C0F;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x8303;&amp;#x56F4;&amp;#xFF0C;&amp;#x63D0;&amp;#x9AD8;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x7F16;&amp;#x8BD1;&amp;#x4E0E;&amp;#x8FD0;&amp;#x884C;&amp;#x901F;&amp;#x5EA6;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x56E0;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;BindView&amp;#x6CE8;&amp;#x89E3;&amp;#x53EA;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x8FDB;&amp;#x884C;Viwe&amp;#x7684;&amp;#x7ED1;&amp;#x5B9A;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x65E0;&amp;#x9700;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;CLASS&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x6807;&amp;#x660E;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;Target&quot;&gt;&lt;a href=&quot;#Target&quot; class=&quot;headerlink&quot; title=&quot;Target&quot;&gt;&lt;/a&gt;Target&lt;/h3&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6765;&amp;#x770B;&amp;#x7B2C;&amp;#x4E8C;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x6CE8;&amp;#x89E3;Target&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Documented&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Retention(RetentionPolicy.RUNTIME)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Target(ElementType.ANNOTATION_TYPE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public @interface Target {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Returns an array of the kinds of elements an annotation type&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * can be applied to.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @return an array of the kinds of elements an annotation type&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * can be applied to&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ElementType[] value();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x90FD;&amp;#x975E;&amp;#x5E38;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x63A5;&amp;#x6536;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;ElementType&amp;#x6570;&amp;#x7EC4;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;ElementType&amp;#x4E0D;&amp;#x96BE;&amp;#x731C;&amp;#x51FA;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x679A;&amp;#x4E3E;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public enum ElementType {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Class, interface (including annotation type), or enum declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TYPE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Field declaration (includes enum constants) */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FIELD,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Method declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    METHOD,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Formal parameter declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PARAMETER,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Constructor declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CONSTRUCTOR,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Local variable declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    LOCAL_VARIABLE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Annotation type declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ANNOTATION_TYPE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /** Package declaration */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PACKAGE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Type parameter declaration&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @since 1.8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TYPE_PARAMETER,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Use of a type&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @since 1.8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    TYPE_USE&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ElementType&amp;#x4E2D;&amp;#x867D;&amp;#x7136;&amp;#x6709;10&amp;#x5E38;&amp;#x91CF;&amp;#xFF0C;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9E;&amp;#x9645;&amp;#x771F;&amp;#x6B63;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x524D;&amp;#x9762;8&amp;#x79CD;&amp;#x3002;&amp;#x5B83;&amp;#x4EEC;&amp;#x4EE3;&amp;#x8868;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x80FD;&amp;#x591F;&amp;#x4F5C;&amp;#x7528;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;TYPE: &amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x7C7B;&amp;#x3001;&amp;#x63A5;&amp;#x53E3;&amp;#x6216;&amp;#x8005;&amp;#x679A;&amp;#x4E3E;&lt;/li&gt;
&lt;li&gt;FIELD&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x7C7B;&amp;#x4E2D;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#x6216;&amp;#x8005;&amp;#x679A;&amp;#x4E3E;&amp;#x4E2D;&amp;#x7684;&amp;#x5E38;&amp;#x91CF;&lt;/li&gt;
&lt;li&gt;METHOD&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;PARAMETER&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x53C2;&amp;#x6570;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;CONSTRUCTOR&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x6784;&amp;#x9020;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;LOCAL_VARIABLE&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x5C40;&amp;#x90E8;&amp;#x53D8;&amp;#x91CF;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;ANNOTATION_TYPE&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x6CE8;&amp;#x89E3;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;PACKAGE&amp;#xFF1A;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x5305;&amp;#x7684;&amp;#x58F0;&amp;#x660E;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;TYPE_PARAMETER&amp;#xFF1A;java 1.8&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x7C7B;&amp;#x578B;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;li&gt;TYPE_USE&amp;#xFF1A;java 1.8&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x4EFB;&amp;#x610F;&amp;#x8BED;&amp;#x53E5;&amp;#x4E2D;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x7ED3;&amp;#x5408;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;BindView&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x5BF9;View&amp;#x8FDB;&amp;#x884C;id&amp;#x7ED1;&amp;#x5B9A;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x4F5C;&amp;#x7528;&amp;#x4E0E;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#x4E0A;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5728;BindView&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;FIELD&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x7B2C;&amp;#x56DB;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@IdRes int[] value()&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E86;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x63A5;&amp;#x89E6;&amp;#xFF0C;&amp;#x4E0D;&amp;#x96BE;&amp;#x7406;&amp;#x89E3;&amp;#x8FD9;&amp;#x662F;&amp;#x6807;&amp;#x660E;BindView&amp;#x5C06;&amp;#x63A5;&amp;#x6536;&amp;#x4E00;&amp;#x4E2A;int&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x7EC4;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5F00;&amp;#x6E90;&amp;#x5E93;butterknife&amp;#x4E2D;&amp;#x7684;BindView&amp;#x662F;&amp;#x63A5;&amp;#x6536;&amp;#x9700;&amp;#x8981;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;View&amp;#x7684;id&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x505A;&amp;#x4E00;&amp;#x4E2A;&amp;#x6539;&amp;#x7248;&amp;#xFF0C;&amp;#x518D;&amp;#x63A5;&amp;#x6536;&amp;#x4E00;&amp;#x4E2A;String&amp;#x7684;id&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x4E3A;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;View&amp;#x8BBE;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x503C;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x7684;BindView&amp;#x6CE8;&amp;#x91CA;&amp;#x5C31;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;OnClick&quot;&gt;&lt;a href=&quot;#OnClick&quot; class=&quot;headerlink&quot; title=&quot;OnClick&quot;&gt;&lt;/a&gt;OnClick&lt;/h2&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;OnClick&amp;#x70B9;&amp;#x51FB;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#xFF0C;&amp;#x7ECF;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x8111;&amp;#x6D77;&amp;#x4E2D;&amp;#x60F3;&amp;#x60F3;Retention&amp;#x4E0E;Target&amp;#x5206;&amp;#x522B;&amp;#x4EC0;&amp;#x4E48;&amp;#x503C;&amp;#xFF1F;&lt;/p&gt;
&lt;p&gt;&amp;#x60F3;&amp;#x597D;&amp;#x4E86;&amp;#x4E4B;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6765;&amp;#x8FC7;&amp;#x4E00;&amp;#x904D;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Retention(RetentionPolicy.SOURCE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Target(ElementType.METHOD)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public @interface OnClick {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @IdRes int value();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Retention&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x8303;&amp;#x56F4;&amp;#x4E0E;BindView&amp;#x4E00;&amp;#x6837;&amp;#x9996;&amp;#x9875;SOURCE&amp;#xFF0C;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x65E0;&amp;#x9700;&amp;#x5B58;&amp;#x5728;&amp;#xFF1B;Target&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x5BF9;&amp;#x8C61;&amp;#x4E0E;BindView&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x65E2;&amp;#x7136;&amp;#x662F;&amp;#x70B9;&amp;#x51FB;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x70B9;&amp;#x51FB;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x4F5C;&amp;#x7528;&amp;#x5728;&amp;#x64CD;&amp;#x4F5C;&amp;#x903B;&amp;#x8F91;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0A;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;METHOD&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;keep&quot;&gt;&lt;a href=&quot;#keep&quot; class=&quot;headerlink&quot; title=&quot;keep&quot;&gt;&lt;/a&gt;keep&lt;/h2&gt;&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x5F00;&amp;#x5934;&amp;#x6709;&amp;#x63D0;&amp;#x53CA;&amp;#x5230;&amp;#x672C;&amp;#x8D28;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x89E3;&amp;#x6765;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x4E3A;&amp;#x6211;&amp;#x4EEC;&amp;#x521B;&amp;#x5EFA;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x5F00;&amp;#x53D1;&amp;#x4E2D;&amp;#x4E00;&amp;#x65E6;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#x6DF7;&amp;#x6DC6;&amp;#x4E86;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C06;&amp;#x4F1A;&amp;#x5BFC;&amp;#x81F4;&amp;#x81EA;&amp;#x52A8;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x7C7B;&amp;#x5931;&amp;#x6548;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x5BFC;&amp;#x81F4;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x6CE8;&amp;#x89E3;&amp;#x5931;&amp;#x6548;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x4E3A;&amp;#x4E86;&amp;#x9632;&amp;#x6B62;&amp;#x5176;&amp;#x5931;&amp;#x6548;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x518D;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x6CE8;&amp;#x89E3;keep&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Retention(RetentionPolicy.CLASS)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@Target(ElementType.TYPE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public @interface Keep {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Retention&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x8303;&amp;#x56F4;&amp;#x662F;&amp;#x5728;class&amp;#x6587;&amp;#x4EF6;&amp;#x4E2D;&amp;#x8FD8;&amp;#x8981;&amp;#x80FD;&amp;#x591F;&amp;#x88AB;&amp;#x5176;&amp;#x5B83;class&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;CLASS&amp;#xFF1B;Target&amp;#x4F5C;&amp;#x7528;&amp;#x5BF9;&amp;#x8C61;&amp;#x662F;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;TYPE&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x53C2;&amp;#x6570;&amp;#x5219;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EA;&amp;#x662F;&amp;#x4E3A;&amp;#x4E86;&amp;#x6807;&amp;#x660E;&amp;#x7C7B;&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x5176;&amp;#x88AB;&amp;#x6DF7;&amp;#x6DC6;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;butterknife-annotations&amp;#x5E93;&amp;#x4E2D;&amp;#x7684;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x6CE8;&amp;#x89E3;&amp;#x5C31;&amp;#x5B8C;&amp;#x6210;&amp;#x4E86;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6CE8;&amp;#x610F;&amp;#x70B9;&amp;#x4E3B;&amp;#x8981;&amp;#x5F52;&amp;#x7ED3;&amp;#x4E8E;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E09;&amp;#x70B9;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Retention: &amp;#x660E;&amp;#x786E;&amp;#x6CE8;&amp;#x89E3;&amp;#x4F5C;&amp;#x7528;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x65F6;&amp;#x957F;&amp;#xFF0C;&amp;#x5C3D;&amp;#x65E9;&amp;#x7684;&amp;#x6D88;&amp;#x9664;&lt;/li&gt;
&lt;li&gt;Target: &amp;#x660E;&amp;#x786E;&amp;#x6CE8;&amp;#x89E3;&amp;#x4F5C;&amp;#x7528;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&lt;/li&gt;
&lt;li&gt;Keep: &amp;#x9632;&amp;#x6B62;&amp;#x540E;&amp;#x7EED;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x7684;&amp;#x7C7B;&amp;#x88AB;&amp;#x6DF7;&amp;#x6DC6;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#x5C31;&amp;#x5230;&amp;#x8FD9;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;feat_annotation_processing&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x656C;&amp;#x8BF7;&amp;#x5173;&amp;#x6CE8;&amp;#x4E0B;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&lt;strong&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2:&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/04/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part2-%E4%BB%A3%E7%A0%81%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part2:&amp;#x4EE3;&amp;#x7801;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/07/11/%E8%87%AA%E5%AE%9A%E4%B9%89Android%E6%B3%A8%E8%A7%A3Part3-%E7%BB%91%E5%AE%9A/&quot;&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part3:&amp;#x7ED1;&amp;#x5B9A;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/07/01/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1-&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;/wx.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/07/01/&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;Android&amp;#x6CE8;&amp;#x89E3;Part1-&amp;#x6CE8;&amp;#x89E3;&amp;#x53D8;&amp;#x91CF;/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Annotation Processing" scheme="https://idisfkj.github.io/tags/Android-Annotation-Processing/"/>
    
  </entry>
  
  <entry>
    <title>Android Architecture Components Part4:ViewModel</title>
    <link href="https://idisfkj.github.io/2018/06/22/Android-Architecture-Components-Part4-ViewModel/"/>
    <id>https://idisfkj.github.io/2018/06/22/Android-Architecture-Components-Part4-ViewModel/</id>
    <published>2018-06-22T00:20:04.000Z</published>
    <updated>2018-06-23T15:51:30.729Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/06/22/Android-Architecture-Components-Part4-ViewModel/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Android Architecture Components(AAC)&amp;#x4E2D;ViewMode&amp;#x662F;&amp;#x4E3A;&amp;#x754C;&amp;#x9762;&amp;#x7EC4;&amp;#x4EF6;&amp;#x63D0;&amp;#x4F9B;&amp;#x6570;&amp;#x636E;&amp;#x5E76;&amp;#x53EF;&amp;#x5728;&amp;#x754C;&amp;#x9762;&amp;#x914D;&amp;#x7F6E;&amp;#x66F4;&amp;#x6539;&amp;#x540E;&amp;#x7EE7;&amp;#x7EED;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x65CB;&amp;#x8F6C;&amp;#x5BFC;&amp;#x81F4;&amp;#x754C;&amp;#x9762;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&amp;#x6539;&amp;#x53D8;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E3A;&amp;#x754C;&amp;#x9762;&amp;#x63D0;&amp;#x4F9B;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x77E5;&amp;#x9053;&amp;#x7684;&amp;#x4E5F;&amp;#x6709;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;MVP&amp;#x7684;Presenter&amp;#x4E0E;MVVM&amp;#x4E2D;&amp;#x7684;ViewModel&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x4E2A;&amp;#x5047;&amp;#x8BBE;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;Activity&amp;#x53D1;&amp;#x751F;&amp;#x754C;&amp;#x9762;&amp;#x65CB;&amp;#x8F6C;&amp;#xFF0C;&amp;#x6B64;&amp;#x65F6;&amp;#x4E0A;&amp;#x8FF0;&amp;#x7684;&amp;#x63D0;&amp;#x4F9B;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x6A21;&amp;#x5F0F;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x4EC0;&amp;#x4E48;&amp;#x5462;&amp;#xFF1F;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x5BF9;&amp;#x4E8E;Activity&amp;#x7684;&amp;#x91CD;&amp;#x5EFA;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x63D0;&amp;#x4F9B;ui&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5FC5;&amp;#x987B;&amp;#x91CD;&amp;#x65B0;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;(&amp;#x7F51;&amp;#x7EDC;&amp;#x6216;&amp;#x8005;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;)&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x4FDD;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4E5F;&amp;#x8981;&amp;#x91CD;&amp;#x65B0;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x5B58;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x5728;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F60;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x5904;&amp;#x7406;&amp;#x4E00;&amp;#x4E9B;&amp;#x53EF;&amp;#x80FD;&amp;#x9020;&amp;#x6210;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4EE5;&amp;#x4E0A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;ViewModel&amp;#x90FD;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x89E3;&amp;#x51B3;&amp;#x3002;&amp;#x53EA;&amp;#x8981;Activity&amp;#x6CA1;&amp;#x6709;&amp;#x5F7B;&amp;#x5E95;&amp;#x88AB;&amp;#x9500;&amp;#x6BC1;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;ViewModel&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5B83;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x4E0E;&amp;#x9500;&amp;#x6BC1;&amp;#x6211;&amp;#x4EEC;&amp;#x65E0;&amp;#x9700;&amp;#x8FDB;&amp;#x884C;&amp;#x7EF4;&amp;#x62A4;&amp;#x7BA1;&amp;#x7406;&amp;#xFF0C;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x4FDD;&amp;#x8BC1;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x91CA;&amp;#x653E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x8FD9;&amp;#x5F20;&amp;#x56FE;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x89C2;&amp;#x5BDF;&amp;#x5B83;&amp;#x5728;Activity&amp;#x4E2D;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/06/22/Android-Architecture-Components-Part4-ViewModel/viewmodel.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;ViewModel&amp;#x8D2F;&amp;#x7A7F;Activity&amp;#x7684;&amp;#x6574;&amp;#x4E2A;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x5F53;Activity&amp;#x5F7B;&amp;#x5E95;&amp;#x91CA;&amp;#x653E;&amp;#x65F6;&amp;#x624D;&amp;#x4F1A;&amp;#x5C06;&amp;#x5176;&amp;#x9500;&amp;#x6BC1;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x80FD;&amp;#x591F;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9E;&amp;#x73B0;&amp;#x6301;&amp;#x4E45;&amp;#x5316;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x63D0;&amp;#x9AD8;App&amp;#x7684;&amp;#x6027;&amp;#x80FD;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x6709;&amp;#x70B9;&amp;#x597D;&amp;#x5947;&amp;#x4E86;&amp;#x5462;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x7B80;&amp;#x5355;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B83;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x8BF4;&amp;#x7B80;&amp;#x5355;&amp;#x5462;&amp;#xFF1F;&amp;#x56E0;&amp;#x4E3A;&amp;#x771F;&amp;#x7684;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#x2026;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;&amp;#x89E3;&amp;#x8FC7;&amp;#x4E0A;&amp;#x7BC7;&amp;#x5173;&amp;#x4E8E;Lifecycle&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/&quot;&gt;(Android Architecture Components Part3:Lifecycle)&lt;/a&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x8DF3;&amp;#x8FC7;&amp;#x4F9D;&amp;#x8D56;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x7684;&amp;#x6211;&amp;#x4EEC;&amp;#x7EE7;&amp;#x7EED;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;ViewModel&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5728;App&amp;#x6216;&amp;#x8005;Module&amp;#x7684;build.gradle&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    def lifecycle_version = &amp;quot;1.1.1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // ViewModel and LiveData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.lifecycle:extensions:$lifecycle_version&amp;quot;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    annotationProcessor &amp;quot;android.arch.lifecycle:compiler:$lifecycle_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x4F9D;&amp;#x8D56;&amp;#x5DF2;&amp;#x7ECF;&amp;#x51C6;&amp;#x5907;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x901A;&amp;#x8FC7;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsViewModel(application: Application, private val defTitle: String = &amp;quot;Contacts&amp;quot;) : AndroidViewModel(application) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val message: MutableLiveData&amp;lt;String&amp;gt; by lazy { MutableLiveData&amp;lt;String&amp;gt;() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val contactsList: MutableLiveData&amp;lt;List&amp;lt;ContactsModel&amp;gt;&amp;gt; = MutableLiveData()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun getContacts(refresh: Boolean): LiveData&amp;lt;List&amp;lt;ContactsModel&amp;gt;&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        message.value = &amp;quot;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (refresh) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getDataFromRemote()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (contactsList.value == null || contactsList.value?.size ?: 0 &amp;lt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            message.value = &amp;quot;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8BF7;&amp;#x7A0D;&amp;#x540E;&amp;#xFF01;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mLocalData.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getDataFromLocal()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return contactsList&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x521B;&amp;#x5EFA;ContactsViewModel&amp;#xFF0C;&amp;#x8BA9;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;AndroidViewModel&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x5BF9;&amp;#x62BD;&amp;#x8C61;ViewModel&amp;#x7684;&amp;#x6269;&amp;#x5C55;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x65F6;&amp;#x9700;&amp;#x8981;&amp;#x4F20;&amp;#x5165;Application&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x4E00;&amp;#x4E9B;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;ViewModel&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x662F;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x6301;&amp;#x4E45;&amp;#x5316;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x4E0D;&amp;#x80FD;&amp;#x6301;&amp;#x6709;&amp;#x4E0E;Activity&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x5F15;&amp;#x7528;(Context)&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x5E94;&amp;#x7528;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x7ED1;&amp;#x5B9A;&amp;#x7684;Application&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;ContactsViewModel&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x7ED3;&amp;#x5408;MutableLiveData&amp;#x6765;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x66F4;&amp;#x65B0;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;ViewModel&amp;#x521B;&amp;#x5EFA;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x53EA;&amp;#x5269;&amp;#x4E0B;&amp;#x5728;Activity&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsActivity : AppCompatActivity() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private lateinit var mViewModel: ContactsViewModel&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_contacts_layout)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setupViewModel()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private fun setupViewModel() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel = ViewModelProviders.of(this)[ContactsViewModel::class.java]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //active STARTED&amp;#x3001;RESUMED&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel.getContacts(true).observe(this,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observer {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel.message.observe(this,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observer {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B9E;&amp;#x9645;&amp;#x4E0A;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x9700;&amp;#x4E00;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;ViewModel&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;ViewModelProviders.of()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F20;&amp;#x5165;Activity&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F1A;&amp;#x8FD4;&amp;#x56DE;&amp;#x4E00;&amp;#x4E2A;ViewModelProvider&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;strong&gt;get()&lt;/strong&gt;&amp;#x6765;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;ViewModel&amp;#x7684;Class&amp;#x5BF9;&amp;#x8C61;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;ViewModel&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x53EA;&amp;#x8981;Activity&amp;#x5BF9;&amp;#x8C61;&amp;#x6CA1;&amp;#x6709;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x90FD;&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;ViewModel&amp;#x7684;Class&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x65E0;&amp;#x8BBA;&amp;#x4F55;&amp;#x65F6;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;ViewModel&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x8FD9;&amp;#x5C31;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x5728;Activity&amp;#x4E2D;&amp;#x7684;ViewModel&amp;#x6301;&amp;#x4E45;&amp;#x5316;&amp;#x7279;&amp;#x6027;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;ViewModel&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x5B83;&amp;#x91CC;&amp;#x9762;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x4E5F;&amp;#x662F;&amp;#x540C;&amp;#x4E00;&amp;#x4EFD;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5F97;&amp;#x5230;ViewModel&amp;#x540E;&amp;#xFF0C;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E0E;&amp;#x54CD;&amp;#x5E94;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x7ED3;&amp;#x5408;&amp;#x4E86;LiveData&amp;#x6240;&amp;#x4EE5;&amp;#x65B9;&amp;#x4FBF;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LiveData&amp;#x4E4B;&amp;#x524D;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&amp;#x5982;&amp;#x9700;&amp;#x4E86;&amp;#x89E3;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x6587;&amp;#x7AE0;&amp;#x672B;&amp;#x7684;&amp;#x94FE;&amp;#x63A5;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ViewModelProvider&quot;&gt;&lt;a href=&quot;#ViewModelProvider&quot; class=&quot;headerlink&quot; title=&quot;ViewModelProvider&quot;&gt;&lt;/a&gt;ViewModelProvider&lt;/h2&gt;&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x60F3;&amp;#x4F60;&amp;#x5FC3;&amp;#x4E2D;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ViewModel&amp;#x5B83;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x7684;&amp;#xFF0C;&amp;#x5BF9;&amp;#x8C61;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x7684;&lt;/li&gt;
&lt;li&gt;&amp;#x5982;&amp;#x4F55;&amp;#x5411;ViewModel&amp;#x4E2D;&amp;#x4F20;&amp;#x9012;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&amp;#x90FD;&amp;#x5C06;&amp;#x7531;ViewModelProvider&amp;#x6765;&amp;#x89E3;&amp;#x51B3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x56DE;&amp;#x5230;&amp;#x83B7;&amp;#x53D6;ViewModelProvider&amp;#x7684;&lt;strong&gt;ViewModelProviders.of()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FDB;&amp;#x5165;&amp;#x6E90;&amp;#x7801;&amp;#x67E5;&amp;#x770B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@NonNull&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;@MainThread&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public static ViewModelProvider of(@NonNull FragmentActivity activity,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Nullable Factory factory) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Application application = checkApplication(activity);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (factory == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        factory = ViewModelProvider.AndroidViewModelFactory.getInstance(application);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return new ViewModelProvider(ViewModelStores.of(activity), factory);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x6CA1;&amp;#x6709;&amp;#x53D1;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x53D1;&amp;#x73B0;factory&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x83B7;&amp;#x53D6;ViewModel&amp;#x65F6;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x4F20;&amp;#x5165;factory&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x4F1A;&amp;#x8D70;&amp;#x7A7A;&amp;#x5224;&amp;#x65AD;&amp;#x91CC;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;factory&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x8FDB;&amp;#x5165;ViewModelProvider&amp;#x4E2D;&amp;#x67E5;&amp;#x770B;&amp;#x9759;&amp;#x6001;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;AndroidViewModelFactory&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static class AndroidViewModelFactory extends ViewModelProvider.NewInstanceFactory {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @NonNull&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public &amp;lt;T extends ViewModel&amp;gt; T create(@NonNull Class&amp;lt;T&amp;gt; modelClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (AndroidViewModel.class.isAssignableFrom(modelClass)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //noinspection TryWithIdenticalCatches&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return modelClass.getConstructor(Application.class).newInstance(mApplication);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (NoSuchMethodException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new RuntimeException(&amp;quot;Cannot create an instance of &amp;quot; + modelClass, e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (IllegalAccessException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new RuntimeException(&amp;quot;Cannot create an instance of &amp;quot; + modelClass, e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (InstantiationException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new RuntimeException(&amp;quot;Cannot create an instance of &amp;quot; + modelClass, e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (InvocationTargetException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new RuntimeException(&amp;quot;Cannot create an instance of &amp;quot; + modelClass, e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return super.create(modelClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x770B;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;NewInstanceFactory&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&lt;strong&gt;create()&lt;/strong&gt;&amp;#x3002;AndroidViewModelFactory&amp;#x91CD;&amp;#x65B0;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;strong&gt;create()&lt;/strong&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x91CD;&amp;#x5199;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x627E;&amp;#x5230;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B83;&amp;#x901A;&amp;#x8FC7;Class&amp;#x7684;&lt;strong&gt;getConstructor()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x5339;&amp;#x914D;&amp;#x7684;Constructor&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;newInstance()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;ViewModel&amp;#x5B9E;&amp;#x4F8B;&amp;#x5C31;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&amp;#x5C31;&amp;#x6B64;&amp;#x89E3;&amp;#x51B3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x7591;&amp;#x95EE;&amp;#xFF0C;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x8BDD;&amp;#x4E0D;&amp;#x96BE;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x5728;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;newInstance()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x65F6;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4F20;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x7684;&amp;#x53C2;&amp;#x6570;mApplication&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x518D;&amp;#x4F20;&amp;#x5165;&amp;#x5176;&amp;#x5B83;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x5B9E;&amp;#x73B0;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&lt;strong&gt;create()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8981;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;strong&gt;create()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x8981;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;factory&amp;#xFF0C;&amp;#x7EE7;&amp;#x627F;NewInstanceFactory&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x5B9E;&amp;#x73B0;ContactsViewModel&amp;#x5728;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x65F6;&amp;#x4F20;&amp;#x5165;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;title&amp;#x503C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsFactory(private val application: Application) : ViewModelProvider.NewInstanceFactory() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @SuppressLint(&amp;quot;StaticFieldLeak&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        private var instance: ContactsFactory? = null&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fun getInstance(application: Application): ContactsFactory {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (instance == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                instance = ContactsFactory(application)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return instance as ContactsFactory&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun &amp;lt;T : ViewModel?&amp;gt; create(modelClass: Class&amp;lt;T&amp;gt;): T {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (modelClass.isAssignableFrom(ContactsViewModel::class.java)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return ContactsViewModel(application, &amp;quot;Factory Contacts&amp;quot;) as T&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return super.create(modelClass)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x91CD;&amp;#x70B9;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&lt;strong&gt;create()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;isAssignableFrom()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5224;&amp;#x65AD;&amp;#x9700;&amp;#x8981;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x591F;&amp;#x660E;&amp;#x786E;&amp;#x5230;&amp;#x5177;&amp;#x4F53;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x7C7B;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;factory&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x83B7;&amp;#x53D6;ViewModel&amp;#x65F6;&amp;#x4F20;&amp;#x5165;&amp;#x5373;&amp;#x53EF;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mViewModel = ViewModelProviders.of(this, ContactsFactory.getInstance(application))[ContactsViewModel::class.java]&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;ViewModel&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x4F46;&amp;#x5B83;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x6301;&amp;#x4E45;&amp;#x5316;&amp;#x5374;&amp;#x5F02;&amp;#x5E38;&amp;#x7A81;&amp;#x51FA;&amp;#x3002;&amp;#x662F;&amp;#x5426;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8FEB;&amp;#x4E0D;&amp;#x53CA;&amp;#x5F85;&amp;#x4E86;&amp;#x5462;&amp;#xFF1F;&amp;#x8D76;&amp;#x7D27;&amp;#x6765;&amp;#x8BD5;&amp;#x8BD5;&amp;#x5B83;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x5427;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;Android Architecture Components(AAC)&amp;#x7CFB;&amp;#x5217;&amp;#x5230;&amp;#x6B64;&amp;#x5C31;&amp;#x544A;&amp;#x4E00;&amp;#x6BB5;&amp;#x843D;&amp;#x4E86;&amp;#xFF0C;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x56DE;&amp;#x987E;&amp;#x4E00;&amp;#x4E0B;AAC&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x901A;&amp;#x8FC7;Room&amp;#x53EF;&amp;#x4EE5;&amp;#x5FEB;&amp;#x901F;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5B58;&amp;#x50A8;&amp;#xFF1B;&amp;#x7ED3;&amp;#x5408;LiveData&amp;#x6765;&amp;#x89C2;&amp;#x6D4B;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#x53D8;&amp;#x5316;&amp;#x4E0E;&amp;#x53CA;&amp;#x65F6;&amp;#x53CD;&amp;#x6620;&amp;#x5230;UI&amp;#x5C42;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#x4F7F;&amp;#x7528;Lifecycle&amp;#x6765;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x6216;&amp;#x6570;&amp;#x636E;&amp;#x5BB9;&amp;#x5668;&amp;#x7684;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x51CF;&amp;#x5C11;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x4E0E;&amp;#x5F02;&amp;#x5E38;&amp;#x9519;&amp;#x8BEF;&amp;#x7684;&amp;#x53D1;&amp;#x751F;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x5C06;&amp;#x754C;&amp;#x9762;&amp;#x6570;&amp;#x636E;&amp;#x5B58;&amp;#x50A8;&amp;#x5230;ViewModel&amp;#x4E2D;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;&amp;#x6570;&amp;#x636E;&amp;#x8FBE;&amp;#x5230;&amp;#x6301;&amp;#x4E45;&amp;#x5316;&amp;#xFF0C;&amp;#x51CF;&amp;#x5C11;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x8D44;&amp;#x6E90;&amp;#x6D88;&amp;#x8017;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x80FD;&amp;#x591F;&amp;#x521D;&amp;#x6B65;&amp;#x4F53;&amp;#x73B0;&amp;#x4F7F;&amp;#x7528;AAC&amp;#x540E;&amp;#x7684;App&amp;#x9879;&amp;#x76EE;&amp;#x67B6;&amp;#x6784;&amp;#x5F62;&amp;#x6001;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/06/22/Android-Architecture-Components-Part4-ViewModel/architectureComponents.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x611F;&amp;#x8C22;&amp;#x5927;&amp;#x5BB6;&amp;#x5BF9;AAC&amp;#x67B6;&amp;#x6784;&amp;#x7CFB;&amp;#x5217;&amp;#x7684;&amp;#x652F;&amp;#x6301;&amp;#xFF01;&amp;#x540C;&amp;#x65F6;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;feat_architecture_components&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/07/Android-Architecture-Components-Part1-Room/&quot;&gt;Android Architecture Components Part1:Room&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/&quot;&gt;Android Architecture Components Part2:LiveData&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/&quot;&gt;Android Architecture Components Part3:Lifecycle&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/06/22/Android-Architecture-Components-Part4-ViewModel/wx.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/06/22/Android-Architecture-Components-Part4-ViewModel/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;Android Architecture Components(A
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Architecture Components" scheme="https://idisfkj.github.io/tags/Android-Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android Architecture Components Part3:Lifecycle</title>
    <link href="https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/"/>
    <id>https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/</id>
    <published>2018-06-14T14:16:28.000Z</published>
    <updated>2018-06-23T14:31:08.921Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x671F;&amp;#x6587;&amp;#x7AE0;&amp;#x6211;&amp;#x4EEC;&amp;#x8BB2;&amp;#x89E3;&amp;#x4E86;LiveData&amp;#xFF0C;&amp;#x77E5;&amp;#x9053;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x89C2;&amp;#x5BDF;&amp;#x5BB9;&amp;#x5668;&amp;#x540C;&amp;#x65F6;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x53C8;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x5B9E;&amp;#x73B0;&amp;#x5462;&amp;#xFF1F;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;LiveData&amp;#x8FDB;&amp;#x884C;&amp;#x6CE8;&amp;#x518C;observer&amp;#x65F6;&amp;#xFF0C;&amp;#x662F;&amp;#x5426;&amp;#x8BB0;&amp;#x5F97;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x3002;&amp;#x5176;&amp;#x4E00;&amp;#x662F;Observer&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x5C31;&amp;#x662F;LifecycleOwner&amp;#x3002;&amp;#x5B83;&amp;#x5C31;&amp;#x5C5E;&amp;#x4E8E;Lifecycle&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x90E8;&amp;#x5206;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;Activity/Fragment&amp;#x5C31;&amp;#x662F;&amp;#x5177;&amp;#x6709;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x800C;&amp;#x4E14;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x90FD;&amp;#x662F;&amp;#x7531;&amp;#x64CD;&amp;#x4F5C;&amp;#x7CFB;&amp;#x7EDF;&amp;#x6216;&amp;#x8005;framework&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;App&amp;#x4E2D;&amp;#x662F;&amp;#x5F88;&amp;#x96BE;&amp;#x6765;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x9075;&amp;#x5FAA;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#xFF0C;&amp;#x5C06;&amp;#x4F1A;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x5BFC;&amp;#x81F4;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x591F;&amp;#x5B9E;&amp;#x73B0;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5C06;&amp;#x4F1A;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x4E0E;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x6709;&amp;#x5173;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#xFF0C;&amp;#x800C;Lifecycle&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x4E2A;&amp;#x7EC4;&amp;#x4EF6;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Lifecycle&quot;&gt;&lt;a href=&quot;#Lifecycle&quot; class=&quot;headerlink&quot; title=&quot;Lifecycle&quot;&gt;&lt;/a&gt;Lifecycle&lt;/h2&gt;&lt;p&gt;Lifecycle&amp;#x53EF;&amp;#x4EE5;&amp;#x4E3A;&amp;#x754C;&amp;#x9762;/&amp;#x975E;&amp;#x754C;&amp;#x9762;&amp;#x7EC4;&amp;#x4EF6;&amp;#x6DFB;&amp;#x52A0;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x72B6;&amp;#x6001;&amp;#x611F;&amp;#x77E5;&amp;#xFF0C;&amp;#x5141;&amp;#x8BB8;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x53BB;&amp;#x76D1;&amp;#x542C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x3002;Lifecycle&amp;#x4E3B;&amp;#x8981;&amp;#x901A;&amp;#x8FC7;&amp;#x4E24;&amp;#x4E2A;&amp;#x679A;&amp;#x4E3E;&amp;#x6765;&amp;#x8FFD;&amp;#x8E2A;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Event&amp;#xFF1A;&amp;#x4EE3;&amp;#x8868;&amp;#x751F;&amp;#x547D;&amp;#x4E8B;&amp;#x4EF6;&amp;#xFF0C;&amp;#x662F;&amp;#x7531;framework&amp;#x5C42;&amp;#x5206;&amp;#x53D1;&amp;#x8FC7;&amp;#x6765;&amp;#x7684;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x4E8B;&amp;#x4EF6;&amp;#x4E0E;Activity/Fragment&amp;#x4E2D;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x56DE;&amp;#x8C03;&amp;#x76F8;&amp;#x5339;&amp;#x914D;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;State&amp;#xFF1A;&amp;#x4EE3;&amp;#x8868;&amp;#x5F53;&amp;#x524D;&amp;#x8FFD;&amp;#x8E2A;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Event&amp;#x4E0E;State&amp;#x7684;&amp;#x8054;&amp;#x7CFB;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x6765;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x4E86;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/lifecycle.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;Lifecycle&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5728;App&amp;#x6216;&amp;#x8005;Module&amp;#x7684;build.gradle&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    def lifecycle_version = &amp;quot;1.1.1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // ViewModel and LiveData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.lifecycle:extensions:$lifecycle_version&amp;quot;   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    annotationProcessor &amp;quot;android.arch.lifecycle:compiler:$lifecycle_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;LifecycleObserver&quot;&gt;&lt;a href=&quot;#LifecycleObserver&quot; class=&quot;headerlink&quot; title=&quot;LifecycleObserver&quot;&gt;&lt;/a&gt;LifecycleObserver&lt;/h2&gt;&lt;p&gt;LifecycleObserver&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5B83;&amp;#x6CA1;&amp;#x6709;&amp;#x4EFB;&amp;#x4F55;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F5C;&amp;#x4E3A;&amp;#x6807;&amp;#x5FD7;&amp;#x4F5C;&amp;#x7528;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x751F;&amp;#x6210;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x9996;&amp;#x5148;&amp;#x6765;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;MyLifeCycleObserver&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class MyLifeCycleObserver(private val lifecycle: Lifecycle) : LifecycleObserver {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnLifecycleEvent(Lifecycle.Event.ON_CREATE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun create() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (lifecycle.currentState.isAtLeast(Lifecycle.State.CREATED)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;           //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @OnLifecycleEvent(Lifecycle.Event.ON_START)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun start() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x9700;&amp;#x8981;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0A;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;@OnLifecycleEvent&lt;/strong&gt;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0E;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x72B6;&amp;#x6001;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x56DE;&amp;#x8C03;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;Lifecycle.Event&lt;/strong&gt;&amp;#xFF0C;&amp;#x5373;Event&amp;#x679A;&amp;#x4E3E;&amp;#xFF0C;&amp;#x6765;&amp;#x7CBE;&amp;#x786E;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x67D0;&amp;#x4E00;&amp;#x4E2A;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x5206;&amp;#x522B;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;&amp;#x4E86;ON_CREATE&amp;#x4E0E;ON_START&amp;#xFF0C;&amp;#x5373;Activity/Fragment&amp;#x7684;&lt;strong&gt;onCreate()&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;onStart()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x540C;&amp;#x65F6;Lifecycle&amp;#x63D0;&amp;#x4F9B;&lt;strong&gt;getCurrentState()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x65F6;&amp;#x523B;&amp;#x67E5;&amp;#x8BE2;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#xFF1B;&amp;#x800C;&lt;strong&gt;isAtLeast()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5219;&amp;#x53EF;&amp;#x4EE5;&amp;#x6BD4;&amp;#x8F83;&amp;#x5F53;&amp;#x524D;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x662F;&amp;#x5426;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;&amp;#x67D0;&amp;#x4E00;&amp;#x4E2A;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x80FD;&amp;#x591F;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x8F85;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;LifecycleOwner&quot;&gt;&lt;a href=&quot;#LifecycleOwner&quot; class=&quot;headerlink&quot; title=&quot;LifecycleOwner&quot;&gt;&lt;/a&gt;LifecycleOwner&lt;/h2&gt;&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;MyLifeCycleObserver&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x8981;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x8FDB;&amp;#x884C;&amp;#x6CE8;&amp;#x518C;&amp;#x76D1;&amp;#x542C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsActivity : AppCompatActivity() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_contacts_layout)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        lifecycle.addObserver(MyLifeCycleObserver(lifecycle))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x83B7;&amp;#x53D6;Lifecycle&amp;#x5BF9;&amp;#x8C61;&amp;#x6765;&amp;#x6DFB;&amp;#x52A0;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#xFF0C;&amp;#x5C06;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0A;&amp;#x9762;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;MyLifeCycleObserver&amp;#x52A0;&amp;#x5165;&amp;#x89C2;&amp;#x5BDF;&amp;#x961F;&amp;#x5217;&amp;#x3002;&amp;#x800C;&lt;strong&gt;getLifecycle()&lt;/strong&gt;&amp;#x662F;LifecycleOwner&amp;#x63A5;&amp;#x53E3;&amp;#x4E2D;&amp;#x552F;&amp;#x4E00;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;AppCompatActivity/Fragment&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;LifecycleOwner&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&amp;#x5185;&amp;#x90E8;&amp;#x901A;&amp;#x8FC7;LifecycleRegistry&amp;#x6765;&amp;#x6CE8;&amp;#x518C;&amp;#x4E86;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x65E6;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x53D1;&amp;#x751F;&amp;#x4E86;&amp;#x6539;&amp;#x53D8;&amp;#xFF0C;&amp;#x5C31;&amp;#x4F1A;&amp;#x901A;&amp;#x77E5;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;MyLifeCycleObserver&amp;#xFF0C;&amp;#x5373;&amp;#x56DE;&amp;#x8C03;MyLifeCycleObserver&amp;#x4E2D;&amp;#x6240;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0D;&amp;#x77E5;&amp;#x4E0D;&amp;#x89C9;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;Lifecycle&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5C06;&amp;#x4E0E;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x62BD;&amp;#x79BB;&amp;#x5230;&amp;#x4E86;MyLifeCycleObserver&amp;#x4E2D;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x5BF9;Activity/Fragemnt&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x89E3;&amp;#x8026;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;LifecycleOwner&quot;&gt;&lt;a href=&quot;#&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;LifecycleOwner&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;LifecycleOwner&quot;&gt;&lt;/a&gt;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;LifecycleOwner&lt;/h2&gt;&lt;p&gt;Activity/Fragment&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;LifecycleOwner&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x4F46;&amp;#x5FC5;&amp;#x987B;&amp;#x662F;&amp;#x5728;&lt;strong&gt;Support Library 26.1.0&lt;/strong&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x624D;&amp;#x652F;&amp;#x6301;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x5728;&amp;#x5B83;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x7248;&amp;#x672C;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x81EA;&amp;#x5DF1;&amp;#x5B9E;&amp;#x73B0;LifecycleOwner&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class LifecycleActivity : Activity(), LifecycleOwner {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private lateinit var mMyLifecycle: LifecycleRegistry&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_contacts_layout)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mMyLifecycle = LifecycleRegistry(this)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mMyLifecycle.markState(Lifecycle.State.CREATED)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        lifecycle.addObserver(MyLifeCycleObserver(lifecycle))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onStart() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onStart()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mMyLifecycle.markState(Lifecycle.State.STARTED)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun getLifecycle(): Lifecycle = mMyLifecycle&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;class&amp;#x5B9E;&amp;#x73B0;LifecycleOwner&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x501F;&amp;#x52A9;LifecycleRegistry&amp;#x6765;&amp;#x751F;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&amp;#x5B9E;&amp;#x73B0;Lifecycle&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x6DFB;&amp;#x52A0;&amp;#x7684;Observer&amp;#x80FD;&amp;#x591F;&amp;#x4E0E;&amp;#x4E4B;&amp;#x524D;&amp;#x4E00;&amp;#x6837;&amp;#x5339;&amp;#x914D;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x9700;&amp;#x4E3A;&amp;#x751F;&amp;#x6210;&amp;#x7684;Lifecycle&amp;#x5728;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x6807;&amp;#x8BB0;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x4E0A;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x5728;&lt;strong&gt;onCreate()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;makeState()&lt;/strong&gt;&amp;#x6765;&amp;#x7ED1;&amp;#x5B9A;Lifecycle.State.CREATED&amp;#x72B6;&amp;#x6001;&amp;#x3002;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x5728;Activity&amp;#x7684;onCreate&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;MyLifeCycleObserver&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;onCreate&amp;#x65B9;&amp;#x6CD5;&amp;#x4E5F;&amp;#x4F1A;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x7ED3;&amp;#x5408;LifecycleObserver&amp;#x3001;LifecycleOwner&amp;#x4E0E;LifecycleRegistry&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E3A;&amp;#x4EFB;&amp;#x610F;&amp;#x975E;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#x5B9E;&amp;#x73B0;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4E00;&amp;#x6765;&amp;#x5C31;&amp;#x80FD;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x5BF9;&amp;#x7EC4;&amp;#x4EF6;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x8FDB;&amp;#x884C;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&amp;#x51CF;&amp;#x5C11;&amp;#x903B;&amp;#x8F91;&amp;#x5904;&amp;#x7406;&amp;#x4E0E;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x5F02;&amp;#x5E38;&amp;#x53D1;&amp;#x751F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Lifecycle-amp-LiveData&quot;&gt;&lt;a href=&quot;#Lifecycle-amp-LiveData&quot; class=&quot;headerlink&quot; title=&quot;Lifecycle &amp;amp; LiveData&quot;&gt;&lt;/a&gt;Lifecycle &amp;amp; LiveData&lt;/h2&gt;&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x518D;&amp;#x56DE;&amp;#x5230;&amp;#x6587;&amp;#x7AE0;&amp;#x6700;&amp;#x521D;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;LiveData&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5206;&amp;#x6790;LiveData&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x501F;&amp;#x52A9;Lifecycle&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x5047;&amp;#x8BBE;&amp;#x4F60;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5BF9;LiveData&amp;#x6709;&amp;#x4E00;&amp;#x5B9A;&amp;#x7684;&amp;#x4E86;&amp;#x89E3;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x4F60;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&lt;a href=&quot;https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/&quot;&gt;Android Architecture Components Part2:LiveData&lt;/a&gt;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x4E86;&amp;#x89E3;LiveData&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;LiveData&amp;#x7684;observer&amp;#x65B9;&amp;#x6CD5;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@MainThread&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&amp;lt;T&amp;gt; observer) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (owner.getLifecycle().getCurrentState() == DESTROYED) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // ignore&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    LifecycleBoundObserver wrapper = new LifecycleBoundObserver(owner, observer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ObserverWrapper existing = mObservers.putIfAbsent(observer, wrapper);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (existing != null &amp;amp;&amp;amp; !existing.isAttachedTo(owner)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throw new IllegalArgumentException(&amp;quot;Cannot add the same observer&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                + &amp;quot; with different lifecycles&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (existing != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    owner.getLifecycle().addObserver(wrapper);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x770B;&amp;#x5230;&amp;#x4E86;&amp;#x8BB8;&amp;#x591A;&amp;#x719F;&amp;#x6089;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x663E;&amp;#x800C;&amp;#x6613;&amp;#x89C1;&amp;#x5B83;&amp;#x4E5F;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;LifecycleBoundObserver&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x5C06;&amp;#x5176;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;Lifecycle&amp;#x7684;&amp;#x76D1;&amp;#x542C;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x3002;&amp;#x4E00;&amp;#x65E6;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#x5C31;&amp;#x4F1A;&amp;#x56DE;&amp;#x8C03;LifecycleBoundObserver&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x800C;LifecycleBoundObserver&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;GenericLifecycleObserver&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface GenericLifecycleObserver extends LifecycleObserver {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * Called when a state transition event happens.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     *&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param source The source of the event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     * @param event The event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    void onStateChanged(LifecycleOwner source, Lifecycle.Event event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;GenericLifecycleObserver&amp;#x6211;&amp;#x4EEC;&amp;#x770B;&amp;#x5230;&amp;#x4E86;&amp;#x719F;&amp;#x6089;&amp;#x7684;LifecycleObserver&amp;#x3002;&amp;#x672C;&amp;#x8D28;&amp;#x4E0E;&amp;#x6587;&amp;#x7AE0;&amp;#x4E4B;&amp;#x524D;&amp;#x6211;&amp;#x4EEC;&amp;#x81EA;&amp;#x5DF1;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;MyLifeCycleObserver&amp;#x76F8;&amp;#x540C;&amp;#x3002;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&lt;strong&gt;onStateChanged()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x662F;Lifecycle&amp;#x89C2;&amp;#x5BDF;&amp;#x5230;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x6539;&amp;#x53D8;&amp;#x65F6;&amp;#x901A;&amp;#x77E5;Observer&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;Observer&amp;#x660E;&amp;#x767D;&amp;#x4E86;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6700;&amp;#x521D;&amp;#x7684;Lifecycle&amp;#x5230;&amp;#x5E95;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#xFF1F;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x77E5;&amp;#x9053;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x6765;&amp;#x81EA;&amp;#x4E8E;Activity/Fragment&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5230;Activity&amp;#x4E2D;&amp;#x5BFB;&amp;#x627E;(Fragment&amp;#x4E5F;&amp;#x662F;&amp;#x4E00;&amp;#x6837;)&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x5728;&amp;#x7EE7;&amp;#x627F;&amp;#x7684;SupportActivity&amp;#x4E2D;&amp;#x627E;&amp;#x5230;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class SupportActivity extends Activity implements LifecycleOwner {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private LifecycleRegistry mLifecycleRegistry = new LifecycleRegistry(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @CallSuper&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onSaveInstanceState(Bundle outState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mLifecycleRegistry.markState(Lifecycle.State.CREATED);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onSaveInstanceState(outState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public Lifecycle getLifecycle() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return mLifecycleRegistry;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x4E00;&amp;#x6B21;&amp;#x770B;&amp;#x5230;&amp;#x4E86;LifecycleRegistry&amp;#x4E0E;LifecycleOwner&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x7528;&amp;#x6CD5;&amp;#x4E5F;&amp;#x4E0E;&amp;#x4E0A;&amp;#x9762;&amp;#x63D0;&amp;#x53CA;&amp;#x7684;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;LifecycleOwner&amp;#x5982;&amp;#x51FA;&amp;#x4E00;&amp;#x8F99;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x505A;&amp;#x8BF4;&amp;#x660E;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x4E0E;Observer&amp;#x7684;&amp;#x8FDE;&amp;#x63A5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x4E0A;&amp;#x6240;&amp;#x793A;&amp;#x5F53;Activity&amp;#x7684;onSaveInstanceState&amp;#x56DE;&amp;#x8C03;&amp;#x65F6;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;markState()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x800C;&amp;#x5728;&amp;#x5176;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&amp;#x5185;&amp;#x90E8;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4F1A;&amp;#x6765;&amp;#x5230;ObserverWithState&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;static class ObserverWithState {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    State mState;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    GenericLifecycleObserver mLifecycleObserver;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ObserverWithState(LifecycleObserver observer, State initialState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mLifecycleObserver = Lifecycling.getCallback(observer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mState = initialState;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    void dispatchEvent(LifecycleOwner owner, Event event) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        State newState = getStateAfter(event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mState = min(mState, newState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mLifecycleObserver.onStateChanged(owner, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mState = newState;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;dispatchEvent()&lt;/strong&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x8C03;&amp;#x7528;mLifecycleObserver&amp;#xFF0C;&amp;#x4ED4;&amp;#x7EC6;&amp;#x770B;&amp;#x8FD9;&amp;#x4E2A;Observer&amp;#x5C31;&amp;#x662F;GenericLifecycleObserver&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;onStateChanged()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;LifecycleObserver&amp;#x4E0E;LifecycleOwner&amp;#x5C31;&amp;#x5B8C;&amp;#x7F8E;&amp;#x7ED3;&amp;#x5408;&amp;#x5728;&amp;#x4E00;&amp;#x8D77;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E3A;LiveData&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x751F;&amp;#x547D;&amp;#x72B6;&amp;#x6001;&amp;#x7684;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;LiveData&amp;#x4E0E;Lifecycle&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x770B;&amp;#x5230;&amp;#x4E86;Lifecycle&amp;#x7684;&amp;#x7075;&amp;#x6D3B;&amp;#x6027;&amp;#x4E0E;&amp;#x5B83;&amp;#x7684;&amp;#x5F3A;&amp;#x5927;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E3A;&amp;#x4EFB;&amp;#x610F;&amp;#x4E00;&amp;#x4E2A;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7EC4;&amp;#x4EF6;&amp;#x6216;&amp;#x8005;&amp;#x5176;&amp;#x4ED6;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5BB9;&amp;#x5668;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;Lifecycle&amp;#x7684;&amp;#x5F3A;&amp;#x5927;&amp;#x6BCB;&amp;#x5EB8;&amp;#x7F6E;&amp;#x7591;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5176;&amp;#x6B21;&amp;#x8981;&amp;#x8BF4;&amp;#x660E;&amp;#x7684;&amp;#x662F;LiveData&amp;#x4E0E;Lifecycle&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&amp;#x4E0D;&amp;#x4EC5;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x8FD9;&amp;#x53EA;&amp;#x662F;&amp;#x5B83;&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&amp;#x76D1;&amp;#x542C;&amp;#xFF0C;&amp;#x800C;&amp;#x6211;&amp;#x4EEC;&amp;#x771F;&amp;#x6B63;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x7684;&lt;strong&gt;postValue()&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;setValue()&lt;/strong&gt;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x672C;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5206;&amp;#x6790;Lifecycle&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x591A;&amp;#x505A;&amp;#x5206;&amp;#x6790;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;feat_architecture_components&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x505A;&amp;#x4E2A;&amp;#x9884;&amp;#x544A;&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x4E86;&amp;#x89E3;&amp;#x7684;&amp;#x662F;AAC&amp;#x4E2D;&amp;#x7684;ViewModel&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x4F60;&amp;#x4E5F;&amp;#x4F1A;&amp;#x9A6C;&amp;#x4E0A;&amp;#x559C;&amp;#x6B22;&amp;#x4E0A;&amp;#x5B83;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/07/Android-Architecture-Components-Part1-Room/&quot;&gt;Android Architecture Components Part1:Room&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/&quot;&gt;Android Architecture Components Part2:LiveData&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/22/Android-Architecture-Components-Part4-ViewModel/&quot;&gt;Android Architecture Components Part4:ViewModel&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/wx.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x671F;&amp;#x6587;&amp;#x7AE0;&amp;#x6211;&amp;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Architecture Components" scheme="https://idisfkj.github.io/tags/Android-Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android Architecture Components Part2:LiveData</title>
    <link href="https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/"/>
    <id>https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/</id>
    <published>2018-06-10T00:29:22.000Z</published>
    <updated>2018-06-23T14:31:23.407Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/06/10/Android-Architecture-Components-Part2-LiveData/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x611F;&amp;#x8C22;&amp;#x4F60;&amp;#x7684;&amp;#x518D;&amp;#x6B21;&amp;#x5149;&amp;#x4E34;&amp;#xFF0C;&amp;#x6B22;&amp;#x8FCE;&amp;#x6765;&amp;#x5230;Android Architecture Components&amp;#xFF08;ACC&amp;#xFF09;&amp;#x7CFB;&amp;#x5217;&amp;#x6587;&amp;#x7AE0;&amp;#x3002;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x8D77;&amp;#x8BA8;&amp;#x8BBA;&amp;#x4E86;Room&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;Room&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x591F;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;App&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x7684;App&amp;#x5BF9;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x6709;&amp;#x6240;&amp;#x4F9D;&amp;#x8D56;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;Room&amp;#x4F60;&amp;#x503C;&amp;#x5F97;&amp;#x62E5;&amp;#x6709;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x7EE7;&amp;#x7EED;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x7684;&amp;#x6B65;&amp;#x4F10;&amp;#xFF0C;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x8D77;&amp;#x6765;&amp;#x5168;&amp;#x9762;&amp;#x4E86;&amp;#x89E3;ACC&amp;#x53E6;&amp;#x4E00;&amp;#x5F3A;&amp;#x5927;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;LiveData&amp;#x3002;&amp;#x76F8;&amp;#x4FE1;&amp;#x4F60;&amp;#x9A6C;&amp;#x4E0A;&amp;#x4F1A;&amp;#x559C;&amp;#x6B22;&amp;#x4E0A;&amp;#x5979;&amp;#xFF01;&amp;#x1F60D;&amp;#x1F60D;&amp;#x1F60D;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;a href=&quot;#&amp;#x7B80;&amp;#x8FF0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7B80;&amp;#x8FF0;&quot;&gt;&lt;/a&gt;&amp;#x7B80;&amp;#x8FF0;&lt;/h2&gt;&lt;p&gt;LiveData&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x53EF;&amp;#x89C2;&amp;#x6D4B;&amp;#x6570;&amp;#x636E;&amp;#x5BB9;&amp;#x5668;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F1A;&amp;#x5728;&amp;#x6570;&amp;#x636E;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#x901A;&amp;#x77E5;&amp;#x89C2;&amp;#x6D4B;&amp;#x5668;&amp;#xFF0C;&amp;#x4EE5;&amp;#x4FBF;&amp;#x66F4;&amp;#x65B0;&amp;#x9875;&amp;#x9762;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#x5B83;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x65F6;&amp;#x89C2;&amp;#x5BDF;Activity/Fragment&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x5B83;&amp;#x662F;&amp;#x53EF;&amp;#x89C2;&amp;#x5BDF;&amp;#x6570;&amp;#x636E;&amp;#x5BB9;&amp;#x5668;&amp;#x4E0E;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x7684;&amp;#x4F18;&amp;#x70B9;&amp;#x4E5F;&amp;#x5F88;&amp;#x660E;&amp;#x663E;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5F52;&amp;#x7EB3;&amp;#x4E0E;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x70B9;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&amp;#x786E;&amp;#x4FDD;ui&amp;#x8DDF;&amp;#x968F;&amp;#x6570;&amp;#x636E;&amp;#x66F4;&amp;#x65B0;&lt;/li&gt;
&lt;li&gt;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x4ECE;&amp;#x800C;&amp;#x51CF;&amp;#x5C11;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&lt;/li&gt;
&lt;li&gt;&amp;#x9632;&amp;#x6B62;&amp;#x5F02;&amp;#x5E38;crashs&lt;/li&gt;
&lt;li&gt;&amp;#x65E0;&amp;#x9700;&amp;#x7BA1;&amp;#x7406;&amp;#x7ED1;&amp;#x5B9A;&amp;#x8005;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&lt;/li&gt;
&lt;li&gt;ui&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x662F;&amp;#x6700;&amp;#x8FD1;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#x6570;&amp;#x636E;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&amp;#x573A;&amp;#x666F;&lt;/h2&gt;&lt;p&gt;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x76D1;&amp;#x542C;&amp;#x67D0;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#xFF0C;LiveData&amp;#x5C06;&amp;#x5927;&amp;#x663E;&amp;#x8EAB;&amp;#x624B;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x754C;&amp;#x9762;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#xFF0C;&amp;#x5F53;&amp;#x6570;&amp;#x636E;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x901A;&amp;#x77E5;&amp;#x754C;&amp;#x9762;&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x65B0;ui&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;LiveData&amp;#x5728;&amp;#x5F53;&amp;#x524D;Activity/Fragment&amp;#x4E2D;&amp;#x5BF9;&amp;#x8BE5;&amp;#x6570;&amp;#x636E;&amp;#x6CE8;&amp;#x518C;&amp;#x4E00;&amp;#x4E2A;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#xFF0C;&amp;#x5B9E;&amp;#x65F6;&amp;#x76D1;&amp;#x542C;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4EFB;&amp;#x4F55;&amp;#x6539;&amp;#x52A8;&amp;#x3002;&amp;#x6BCF;&amp;#x4E00;&amp;#x6B21;&amp;#x6539;&amp;#x52A8;LiveData&amp;#x90FD;&amp;#x4F1A;&amp;#x53D1;&amp;#x9001;&amp;#x901A;&amp;#x77E5;&amp;#x7ED9;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x53E6;&amp;#x4E00;&amp;#x65B9;&amp;#x9762;&amp;#xFF0C;LiveData&amp;#x611F;&amp;#x77E5;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EA;&amp;#x6709;&amp;#x5728;&amp;#x754C;&amp;#x9762;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x7684;&lt;strong&gt;STARTED&lt;/strong&gt;&amp;#x6216;&amp;#x8005;&lt;strong&gt;RESUMED&lt;/strong&gt;&amp;#x72B6;&amp;#x6001;&amp;#x624D;&amp;#x4F1A;&amp;#x901A;&amp;#x77E5;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4E00;&amp;#x76F4;&amp;#x5904;&amp;#x4E8E;&amp;#x540E;&amp;#x53F0;&amp;#x4E14;&amp;#x6570;&amp;#x636E;&amp;#x4E00;&amp;#x76F4;&amp;#x5728;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;LiveData&amp;#x662F;&amp;#x4E0D;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x901A;&amp;#x77E5;&amp;#xFF0C;&amp;#x53EA;&amp;#x6709;&amp;#x5728;&amp;#x754C;&amp;#x9762;&amp;#x518D;&amp;#x4E00;&amp;#x6B21;&amp;#x56DE;&amp;#x5230;&amp;#x524D;&amp;#x53F0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;LiveData&amp;#x624D;&amp;#x4F1A;&amp;#x53D1;&amp;#x751F;&amp;#x901A;&amp;#x77E5;&amp;#x4E14;&amp;#x53EA;&amp;#x4F1A;&amp;#x53D1;&amp;#x9001;&amp;#x4E00;&amp;#x6B21;&amp;#xFF0C;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#x53D6;&amp;#x7684;&amp;#x662F;&amp;#x6700;&amp;#x540E;&amp;#x4E00;&amp;#x6B21;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x6570;&amp;#x636E;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x6709;&amp;#x6548;&amp;#x7684;&amp;#x907F;&amp;#x514D;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x4E0E;ui&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#x65F6;&amp;#x5BFC;&amp;#x81F4;&amp;#x7684;&lt;strong&gt;NullPointerException&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x9875;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;app&amp;#x4E0B;&amp;#x7684;build.gradle&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5982;&amp;#x4E0B;&amp;#x4F9D;&amp;#x8D56;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    def lifecycle_version = &amp;quot;1.1.1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // ViewModel and LiveData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.lifecycle:extensions:$lifecycle_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // alternatively - just LiveData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.lifecycle:livedata:$lifecycle_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    annotationProcessor &amp;quot;android.arch.lifecycle:compiler:$lifecycle_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7136;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x80FD;&amp;#x6B63;&amp;#x5F0F;&amp;#x4F7F;&amp;#x7528;LiveData&amp;#xFF0C;&amp;#x770B;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsViewModel(application: Application, private val defTitle: String = &amp;quot;Contacts&amp;quot;) : AndroidViewModel(application) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val message: MutableLiveData&amp;lt;String&amp;gt; by lazy { MutableLiveData&amp;lt;String&amp;gt;() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val contactsList: MutableLiveData&amp;lt;List&amp;lt;ContactsModel&amp;gt;&amp;gt; = MutableLiveData()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   fun getContacts(refresh: Boolean): LiveData&amp;lt;List&amp;lt;ContactsModel&amp;gt;&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        message.value = &amp;quot;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (refresh) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            getDataFromRemote()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (contactsList.value == null || contactsList.value?.size ?: 0 &amp;lt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            message.value = &amp;quot;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8BF7;&amp;#x7A0D;&amp;#x540E;&amp;#xFF01;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mLocalData.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getDataFromLocal()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return contactsList&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private fun getDataFromLocal() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val runnable = Runnable {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            val dao = mContactsDao.getAllContacts()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (dao.isNotEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                contactsList.postValue(dao)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getDataFromRemote()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mExecutors.disIoExecutor.execute(runnable)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private fun getDataFromRemote() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Handler().postDelayed({&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            contactsList.value = mRemoteData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mLocalData = mRemoteData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            saveContacts(mRemoteData)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Thread(Runnable {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                title.postValue(&amp;quot;Remote Contacts&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }).start()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            message.value = &amp;quot;&amp;#x6570;&amp;#x636E;&amp;#x52A0;&amp;#x8F7D;&amp;#x5B8C;&amp;#x6210;~&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }, MDELAY_MILLIS)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;MutableLiveDat&amp;#x5BF9;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x5305;&amp;#x88F9;&amp;#xFF0C;MutableLiveData&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E0E;LiveData&amp;#xFF0C;&amp;#x66B4;&amp;#x9732;&amp;#x4E86;&lt;strong&gt;postValue()&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;setValue()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4E00;&amp;#x65E6;MutableLiveData&amp;#x6240;&amp;#x5305;&amp;#x88F9;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;postValue()&lt;/strong&gt;(asynchronously)&amp;#x4E0E;&lt;strong&gt;setValue()&lt;/strong&gt;(synchronously)&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x503C;&amp;#x4E0E;&amp;#x53D1;&amp;#x9001;&amp;#x901A;&amp;#x77E5;&amp;#xFF0C;&amp;#x544A;&amp;#x8BC9;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6570;&amp;#x636E;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6539;&amp;#x53D8;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&lt;strong&gt;getDataFromLocal()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;Room&amp;#x6765;&amp;#x64CD;&amp;#x4F5C;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x76F4;&amp;#x63A5;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD4;&amp;#x56DE;LiveData&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;Room&amp;#x4E0E;LiveData&amp;#x5B8C;&amp;#x7F8E;&amp;#x7ED3;&amp;#x5408;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x770B;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class ContactsActivity : AppCompatActivity() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private lateinit var mViewModel: ContactsViewModel&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun onCreate(savedInstanceState: Bundle?) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        super.onCreate(savedInstanceState)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setContentView(R.layout.activity_contacts_layout)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        setupViewModel()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private fun setupViewModel() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel = ViewModelProviders.of(this, ContactsFactory.getInstance(application))[ContactsViewModel::class.java]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //active STARTED&amp;#x3001;RESUMED&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel.getContacts(true).observe(this,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observer {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mViewModel.message.observe(this,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observer {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    //todo ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }   &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3A;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x89C2;&amp;#x5BDF;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6DFB;&amp;#x52A0;&amp;#x4E86;observer&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x662F;LifecyleOwner&amp;#xFF0C;&amp;#x4EE5;&amp;#x4FBF;&amp;#x8BA9;LiveData&amp;#x5177;&amp;#x6709;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x8981;&amp;#x611F;&amp;#x77E5;&amp;#x7684;&amp;#x662F;ContactsActivity&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F20;&amp;#x5165;this&amp;#x5373;&amp;#x53EF;&amp;#x3002;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4E00;&amp;#x65E6;&amp;#x6570;&amp;#x636E;&amp;#x53D1;&amp;#x751F;&amp;#x53D8;&amp;#x5316;&amp;#x5B83;&amp;#x7684;&lt;strong&gt;onChanged()&lt;/strong&gt;&amp;#x5C31;&amp;#x4F1A;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x5E76;&amp;#x5C06;&amp;#x6570;&amp;#x636E;&amp;#x5E26;&amp;#x56DE;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x754C;&amp;#x9762;&amp;#x5C31;&amp;#x80FD;&amp;#x5B9E;&amp;#x65F6;&amp;#x66F4;&amp;#x65B0;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x7531;&amp;#x4E8E;LiveData&amp;#x662F;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x65E0;&amp;#x9700;&amp;#x62C5;&amp;#x5FC3;&amp;#x4ED6;&amp;#x7684;register/unregister&lt;/p&gt;
&lt;h2 id=&quot;Extend&quot;&gt;&lt;a href=&quot;#Extend&quot; class=&quot;headerlink&quot; title=&quot;Extend&quot;&gt;&lt;/a&gt;Extend&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x77E5;&amp;#x9053;LiveData&amp;#x4F1A;&amp;#x5BF9;&amp;#x5904;&amp;#x4E8E;STATERD&amp;#x6216;&amp;#x8005;RESUMED&amp;#x72B6;&amp;#x6001;&amp;#x8FDB;&amp;#x884C;&amp;#x53D1;&amp;#x9001;&amp;#x901A;&amp;#x77E5;&amp;#xFF0C;&lt;strong&gt;&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x72B6;&amp;#x6001;&amp;#x4E0B;&amp;#x5B58;&amp;#x5728;observer&amp;#xFF0C;&amp;#x7531;&amp;#x65E0;&amp;#x5230;&amp;#x6709;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x79F0;&amp;#x4E4B;&amp;#x4E3A;active&amp;#xFF0C;&amp;#x53CD;&amp;#x6B63;&amp;#x79F0;&amp;#x4E4B;&amp;#x4E3A;inactive&lt;/strong&gt;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x591F;&amp;#x77E5;&amp;#x9053;&amp;#x4F55;&amp;#x65F6;&amp;#x4E3A;active&amp;#x4E0E;&amp;#x4F55;&amp;#x65F6;&amp;#x4E3A;inactive&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;LiveData&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x89E3;&amp;#x51B3;&amp;#x8FD9;&amp;#x4E2A;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;LiveData&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;strong&gt;onActive()&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;onInactive()&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5982;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x4E3A;&amp;#x4E00;&amp;#x4E2A;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x5B9E;&amp;#x73B0;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8FDB;&amp;#x884C;&amp;#x5982;&amp;#x4E0B;&amp;#x64CD;&amp;#x4F5C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class StockLiveData extends LiveData&amp;lt;BigDecimal&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private static StockLiveData sInstance;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private StockManager mStockManager;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private SimplePriceListener mListener = new SimplePriceListener() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onPriceChanged(BigDecimal price) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            setValue(price);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @MainThread&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public static StockLiveData get(String symbol) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (sInstance == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            sInstance = new StockLiveData(symbol);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return sInstance;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private StockLiveData(String symbol) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mStockManager = new StockManager(symbol);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onActive() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mStockManager.requestPriceUpdates(mListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onInactive() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mStockManager.removeUpdates(mListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x65E6;observer&amp;#x7531;&amp;#x65E0;&amp;#x5230;&amp;#x6709;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x5728;&lt;strong&gt;onActive()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&amp;#x3002;observer&amp;#x7531;&amp;#x6709;&amp;#x5230;&amp;#x65E0;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;strong&gt;onInactive()&lt;/strong&gt;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x6CE8;&amp;#x9500;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x5177;&amp;#x5907;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&amp;#x907F;&amp;#x514D;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x6CC4;&amp;#x9732;&amp;#x6216;&amp;#x8005;&amp;#x4E00;&amp;#x6B21;crash&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x4E00;&amp;#x65E6;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x751F;&amp;#x6548;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53C8;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;LiveData&amp;#x7684;&lt;strong&gt;setValue()&lt;/strong&gt;&amp;#x6765;&amp;#x5BF9;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x8FDB;&amp;#x884C;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x66F4;&amp;#x65B0;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public class MyFragment extends Fragment {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public void onActivityCreated(Bundle savedInstanceState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        StockLiveData.get(getActivity()).observe(this, price -&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Update the UI.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x73B0;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;StockLiveData&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&amp;#x76D1;&amp;#x542C;&amp;#x5668;&amp;#x5171;&amp;#x4EAB;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x591A;&amp;#x4E2A;&amp;#x754C;&amp;#x9762;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;StockLiveData&amp;#x8FDB;&amp;#x884C;&amp;#x6DFB;&amp;#x52A0;observer&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x5728;Activity&amp;#x4E2D;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;observer&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x5C06;&amp;#x4E00;&amp;#x76F4;&amp;#x76D1;&amp;#x542C;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x53D8;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6848;&amp;#x4F8B;&amp;#xFF1A;&amp;#x5BF9;&amp;#x4E8E;App&amp;#x7EDF;&amp;#x8BA1;&amp;#x9700;&amp;#x6C42;&amp;#xFF0C;&amp;#x4E00;&amp;#x65E6;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x591A;&amp;#x4E2A;&amp;#x9875;&amp;#x9762;&amp;#x95F4;&amp;#x7684;&amp;#x7EDF;&amp;#x8BA1;&amp;#x53C2;&amp;#x6570;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x6269;&amp;#x5C55;LiveData&amp;#x6765;&amp;#x5168;&amp;#x5C40;&amp;#x76D1;&amp;#x542C;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&amp;#x4E0E;&amp;#x53D8;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Transform&quot;&gt;&lt;a href=&quot;#Transform&quot; class=&quot;headerlink&quot; title=&quot;Transform&quot;&gt;&lt;/a&gt;Transform&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x901A;&amp;#x77E5;&amp;#x89C2;&amp;#x5BDF;&amp;#x8005;&amp;#x6570;&amp;#x636E;&amp;#x6539;&amp;#x53D8;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x60F3;&amp;#x6539;&amp;#x53D8;LiveData&amp;#x4E2D;&amp;#x7684;&amp;#x503C;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;Transformations&lt;/p&gt;
&lt;h3 id=&quot;Transformations-map&quot;&gt;&lt;a href=&quot;#Transformations-map&quot; class=&quot;headerlink&quot; title=&quot;Transformations.map()&quot;&gt;&lt;/a&gt;Transformations.map()&lt;/h3&gt;&lt;p&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x539F;&amp;#x6709;&amp;#x7C7B;&amp;#x578B;&amp;#x4E2D;&amp;#x7684;&amp;#x67D0;&amp;#x4E2A;&amp;#x7279;&amp;#x5B9A;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x503C;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x6BD4;&amp;#x55BB;&amp;#x4E3A;&amp;#x89E3;&amp;#x5305;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;map()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;User&amp;gt; userLiveData = ...;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;String&amp;gt; userName = Transformations.map(userLiveData, user -&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    user.name + &amp;quot; &amp;quot; + user.lastName&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;});&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;Transformations-switchMap&quot;&gt;&lt;a href=&quot;#Transformations-switchMap&quot; class=&quot;headerlink&quot; title=&quot;Transformations.switchMap()&quot;&gt;&lt;/a&gt;Transformations.switchMap()&lt;/h3&gt;&lt;p&gt;&amp;#x4E0E;map&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x662F;&lt;strong&gt;switchMap()&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x662F;&amp;#x6253;&amp;#x5305;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private LiveData&amp;lt;User&amp;gt; getUser(String id) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ...;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;String&amp;gt; userId = ...;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;User&amp;gt; user = Transformations.switchMap(userId, id -&amp;gt; getUser(id) );&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;MediatorLiveData&quot;&gt;&lt;a href=&quot;#MediatorLiveData&quot; class=&quot;headerlink&quot; title=&quot;MediatorLiveData&quot;&gt;&lt;/a&gt;MediatorLiveData&lt;/h2&gt;&lt;p&gt;&amp;#x4E0E;LiveData&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;MediatorLiveData&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#xFF1A;&amp;#x53EF;&amp;#x4EE5;&amp;#x540C;&amp;#x65F6;&amp;#x76D1;&amp;#x542C;&amp;#x591A;&amp;#x4E2A;LiveData&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x540C;&amp;#x65F6;&amp;#x76D1;&amp;#x542C;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x4E0E;&amp;#x8FDC;&amp;#x7A0B;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; usersFromDatabase;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; usersFromNetwork;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;MediatorLiveData&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; usersLiveData = &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    new MediatorLiveData&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;usersLiveData.addSource(usersFromDatabase, newUserList -&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    usersLiveData.setValue(value));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;usersLiveData.addSource(usersFromNetwork, newUserList -&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    usersLiveData.setValue(value));&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x65E6;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;&amp;#x53D1;&amp;#x9001;&amp;#x53D8;&amp;#x5316;&amp;#xFF0C;MediatorLiveData&amp;#x90FD;&amp;#x4F1A;&amp;#x53D1;&amp;#x9001;&amp;#x901A;&amp;#x77E5;&amp;#x7ED9;observer&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x662F;&amp;#x5426;&amp;#x611F;&amp;#x89C9;LiveData&amp;#x5F88;&amp;#x5F3A;&amp;#x5927;&amp;#x5462;&amp;#xFF1F;&amp;#x90A3;&amp;#x4E48;&amp;#x8D76;&amp;#x7D27;&amp;#x884C;&amp;#x52A8;&amp;#x8D77;&amp;#x6765;&amp;#x5427;&amp;#xFF0C;&amp;#x8BA9;&amp;#x4F60;&amp;#x7684;App&amp;#x4E2D;&amp;#x6570;&amp;#x636E;&amp;#x4E5F;&amp;#x5177;&amp;#x6709;&amp;#x53EF;&amp;#x89C2;&amp;#x5BDF;&amp;#x4E0E;&amp;#x751F;&amp;#x547D;&amp;#x611F;&amp;#x77E5;&amp;#x80FD;&amp;#x529B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;strong&gt;feat_architecture_components&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/07/Android-Architecture-Components-Part1-Room/&quot;&gt;Android Architecture Components Part1:Room&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/&quot;&gt;Android Architecture Components Part3:Lifecycle&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/22/Android-Architecture-Components-Part4-ViewModel/&quot;&gt;Android Architecture Components Part4:ViewModel&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/06/10/Android-Architecture-Components-Part2-LiveData/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/06/10/Android-Architecture-Components-Part2-LiveData/cover.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x611F;&amp;#x8C22;&amp;#x4F60;&amp;#x7684;&amp;#x518D;&amp;#
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Architecture Components" scheme="https://idisfkj.github.io/tags/Android-Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>Android Architecture Components Part1:Room</title>
    <link href="https://idisfkj.github.io/2018/06/07/Android-Architecture-Components-Part1-Room/"/>
    <id>https://idisfkj.github.io/2018/06/07/Android-Architecture-Components-Part1-Room/</id>
    <published>2018-06-07T13:48:05.000Z</published>
    <updated>2018-06-23T14:31:35.448Z</updated>
    
    <content type="html">&lt;p&gt;&lt;img src=&quot;/2018/06/07/Android-Architecture-Components-Part1-Room/cover.png&quot; alt=&quot;cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;p&gt;Android Architecture Components&amp;#xFF08;AAC&amp;#xFF09;&amp;#x9996;&amp;#x6B21;&amp;#x53D1;&amp;#x5E03;&amp;#x4E0E;2017 GoogleI/O&amp;#x5927;&amp;#x4F1A;&amp;#xFF0C;&amp;#x7ECF;&amp;#x8FC7;&amp;#x8FD1;&amp;#x4E00;&amp;#x5E74;&amp;#x7684;&amp;#x7EF4;&amp;#x62A4;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;Google&amp;#x56E2;&amp;#x961F;&amp;#x5DF2;&amp;#x7ECF;&amp;#x53D1;&amp;#x5E03;&amp;#x4E86;&amp;#x7A33;&amp;#x5B9A;&amp;#x7248;&amp;#xFF08;v1.1.1&amp;#xFF09;&amp;#x3002;&amp;#x80FD;&amp;#x591F;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;App&amp;#x5E94;&amp;#x7528;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x4E86;&amp;#x89E3;ACC&amp;#x73B0;&amp;#x5728;&amp;#x65F6;&amp;#x95F4;&amp;#x521A;&amp;#x521A;&amp;#x597D;&amp;#xFF0C;&amp;#x6765;&amp;#x4E0D;&amp;#x53CA;&amp;#x89E3;&amp;#x91CA;&amp;#xFF0C;&amp;#x8D76;&amp;#x7D27;&amp;#x4E0A;&amp;#x8F66;&amp;#x5427;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;ACC&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x67B6;&amp;#x6784;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5B83;&amp;#x80FD;&amp;#x5E2E;&amp;#x5FD9;&amp;#x6211;&amp;#x4EEC;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;App&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x3002;&amp;#x5B83;&amp;#x80FD;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;App&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x5B58;&amp;#x50A8;&amp;#x6570;&amp;#x636E;&amp;#x3001;&amp;#x7BA1;&amp;#x7406;&amp;#x751F;&amp;#x547D;&amp;#x5468;&amp;#x671F;&amp;#x3001;&amp;#x8FDB;&amp;#x884C;&amp;#x6A21;&amp;#x5757;&amp;#x5316;&amp;#x3001;&amp;#x907F;&amp;#x514D;&amp;#x5E38;&amp;#x89C1;&amp;#x7684;&amp;#x9519;&amp;#x8BEF;&amp;#x3001;&amp;#x51CF;&amp;#x5C11;&amp;#x6837;&amp;#x677F;&amp;#x6587;&amp;#x4EF6;&amp;#x7684;&amp;#x7F16;&amp;#x5199;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;ACC&amp;#x4E3B;&amp;#x8981;&amp;#x7531;4&amp;#x4E2A;&amp;#x5355;&amp;#x4E00;&amp;#x7EC4;&amp;#x4EF6;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#xFF1A;Room&amp;#x3001;LiveData&amp;#x3001;Lifecycle&amp;#x4E0E;ViewModel&amp;#x3002;&amp;#x5B83;&amp;#x4EEC;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x90FD;&amp;#x662F;&amp;#x72EC;&amp;#x7ACB;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x5355;&amp;#x72EC;&amp;#x4F7F;&amp;#x7528;&amp;#x5176;&amp;#x4E2D;&amp;#x51E0;&amp;#x4E2A;&amp;#xFF0C;&amp;#x53C8;&amp;#x6216;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C06;&amp;#x5B83;&amp;#x4EEC;&amp;#x5168;&amp;#x90E8;&amp;#x6574;&amp;#x5408;&amp;#x5230;&amp;#x4E00;&amp;#x8D77;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5BF9;&amp;#x4E8E;ACC&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x7075;&amp;#x6D3B;&amp;#x6027;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x6211;&amp;#x4EEC;&amp;#x96C6;&amp;#x6210;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;App&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4ECA;&amp;#x5929;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;ACC&amp;#x5176;&amp;#x4E2D;&amp;#x7684;Room&amp;#x7EC4;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x3002;Room&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x7A33;&amp;#x5065;&amp;#x7684;SQL&amp;#x5BF9;&amp;#x8C61;&amp;#x6620;&amp;#x5C04;&amp;#x5E93;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x5FEB;&amp;#x901F;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6570;&amp;#x636E;&amp;#x672C;&amp;#x5730;&amp;#x5B58;&amp;#x50A8;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x4E3A;&amp;#x4F55;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x5F53;&amp;#x7528;&amp;#x6237;&amp;#x65E0;&amp;#x7F51;&amp;#x7EDC;&amp;#x6216;&amp;#x8005;&amp;#x7F51;&amp;#x7EDC;&amp;#x5DEE;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x80FD;&amp;#x591F;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x63D0;&amp;#x9AD8;&amp;#x7528;&amp;#x6237;&amp;#x5BF9;&amp;#x6211;&amp;#x4EEC;App&amp;#x7684;&amp;#x4F53;&amp;#x9A8C;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;a href=&quot;#&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&quot;&gt;&lt;/a&gt;&amp;#x6DFB;&amp;#x52A0;&amp;#x4F9D;&amp;#x8D56;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;Room&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x8981;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x4F9D;&amp;#x8D56;&amp;#x6DFB;&amp;#x52A0;&amp;#x3002;&lt;br&gt;&amp;#x9996;&amp;#x5148;&amp;#x5728;&amp;#x4F60;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x6839;&amp;#x76EE;&amp;#x5F55;&amp;#x4E0B;&amp;#x7684;build.gradle&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;google()&amp;#x5E93;&amp;#xFF0C;&amp;#x4EE3;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;allprojects {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    repositories {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        jcenter()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        google()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x6253;&amp;#x5F00;&amp;#x4F60;&amp;#x7684;App&amp;#x6216;&amp;#x8005;module&amp;#x4E2D;&amp;#x7684;build.gradle&amp;#x6587;&amp;#x4EF6;&amp;#xFF0C;&amp;#x5728;dependencies&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;dependencies {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    def room_version = &amp;quot;1.1.0&amp;quot; // or, for latest rc, use &amp;quot;1.1.1-rc1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.persistence.room:runtime:$room_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    annotationProcessor &amp;quot;android.arch.persistence.room:compiler:$room_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // optional - RxJava support for Room&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.persistence.room:rxjava2:$room_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // optional - Guava support for Room, including Optional and ListenableFuture&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    implementation &amp;quot;android.arch.persistence.room:guava:$room_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // Test helpers&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    testImplementation &amp;quot;android.arch.persistence.room:testing:$room_version&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;Room&quot;&gt;&lt;a href=&quot;#Room&quot; class=&quot;headerlink&quot; title=&quot;Room&quot;&gt;&lt;/a&gt;Room&lt;/h2&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4F9D;&amp;#x8D56;&amp;#x6DFB;&amp;#x52A0;&amp;#x5B8C;&amp;#x6210;&amp;#x540E;&amp;#xFF0C;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x6B63;&amp;#x5F0F;&amp;#x4F7F;&amp;#x7528;Room&amp;#x3002;&amp;#x5728;Android App&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x5B58;&amp;#x50A8;&amp;#x90FD;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;SQLite&amp;#xFF0C;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x539F;&amp;#x751F;&amp;#x7684;SQLite&amp;#x8FDB;&amp;#x884C;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7684;&amp;#x7F16;&amp;#x5199;&amp;#x65F6;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0D;&amp;#x4EC5;&amp;#x8981;&amp;#x5B9A;&amp;#x4E49;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x8FD8;&amp;#x8981;&amp;#x521B;&amp;#x5EFA;SQLiteHelper&amp;#xFF0C;&amp;#x7F16;&amp;#x5199;&amp;#x4E00;&amp;#x8FDE;&amp;#x4E32;&amp;#x7684;SQL&amp;#x8BED;&amp;#x53E5;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x4EE3;&amp;#x7801;&amp;#x91CF;&amp;#x4E0E;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x4E0D;&amp;#x65AD;&amp;#x4E0A;&amp;#x5347;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E0D;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x7684;&amp;#x3002;&amp;#x800C;Room&amp;#x6B63;&amp;#x597D;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x51CF;&amp;#x5C11;&amp;#x4EE3;&amp;#x7801;&amp;#x3001;&amp;#x7B80;&amp;#x5316;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;Room&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x4E3B;&amp;#x8981;&amp;#x7531;&amp;#x4E09;&amp;#x90E8;&amp;#x5206;&amp;#x6784;&amp;#x6210;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Entity&amp;#xFF1A;&amp;#x6807;&amp;#x8BC6;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E2D;&amp;#x7684;&amp;#x8868;&amp;#x7ED3;&amp;#x6784;&lt;/li&gt;
&lt;li&gt;DAO&amp;#xFF1A; &amp;#x6807;&amp;#x8BC6;&amp;#x63D0;&amp;#x4F9B;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x65B9;&amp;#x6CD5;&lt;/li&gt;
&lt;li&gt;Database&amp;#xFF1A;&amp;#x6807;&amp;#x8BC6;&amp;#x6240;&amp;#x9700;&amp;#x8981;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x4E09;&amp;#x90E8;&amp;#x5206;&amp;#x5728;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x8FBE;&amp;#x5230;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x7CBE;&amp;#x7B80;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;Entity&quot;&gt;&lt;a href=&quot;#Entity&quot; class=&quot;headerlink&quot; title=&quot;Entity&quot;&gt;&lt;/a&gt;Entity&lt;/h3&gt;&lt;p&gt;Entity&amp;#x4F5C;&amp;#x7528;&amp;#x5728;model&amp;#x4E0A;&amp;#xFF0C;&amp;#x5373;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#x6240;&amp;#x5339;&amp;#x914D;&amp;#x7684;model&amp;#x7C7B;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5EFA;&amp;#x7ACB;&amp;#x4E00;&amp;#x4E2A;&amp;#x8054;&amp;#x7CFB;&amp;#x4EBA;&amp;#x76F8;&amp;#x5173;&amp;#x7684;model&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;model&amp;#x5EFA;&amp;#x7ACB;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;data class ContactsModel(val id: Int, val name: String, val phone: String)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x628A;ContactsModel&amp;#x6620;&amp;#x5C04;&amp;#x5230;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#x8868;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x8FDB;&amp;#x884C;&amp;#x5982;&amp;#x4E0B;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Entity(tableName = &amp;quot;contacts&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;data class ContactsModel(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @PrimaryKey&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;contacts_id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val id: Int,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;name&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val name: String,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @ColumnInfo(name = &amp;quot;phone&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val phone: String&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;ContactsModel&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;@Entity&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x8868;&amp;#x660E;&amp;#x5B83;&amp;#x5C06;&amp;#x6620;&amp;#x5C04;&amp;#x6210;&amp;#x4E00;&amp;#x79CD;&amp;#x8868;&amp;#x3002;&amp;#x5728;Entity&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;tableName&amp;#x6765;&amp;#x4E3A;&amp;#x8BE5;&amp;#x8868;&amp;#x547D;&amp;#x540D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C06;&amp;#x5176;&amp;#x547D;&amp;#x540D;&amp;#x672A;contacts&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x9664;&amp;#x6B64;&amp;#x4E4B;&amp;#x5916;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;@ColumnInfo&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;@PrimaryKey&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x8868;&amp;#x7684;&amp;#x4E3B;&amp;#x952E;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;@ColumnInfo&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;(name = &amp;#x201C;name&amp;#x201D;)&amp;#x6765;&amp;#x547D;&amp;#x540D;&amp;#x5B57;&amp;#x6BB5;&amp;#x540D;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x8FD8;&amp;#x6709;&amp;#x522B;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x4F8B;&amp;#x5982;&amp;#x5916;&amp;#x952E;&amp;#x7684;&amp;#x6807;&amp;#x660E;&amp;#xFF1A;@ForeignKey&lt;/p&gt;
&lt;h3 id=&quot;DAO&quot;&gt;&lt;a href=&quot;#DAO&quot; class=&quot;headerlink&quot; title=&quot;DAO&quot;&gt;&lt;/a&gt;DAO&lt;/h3&gt;&lt;p&gt;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8868;&amp;#x5EFA;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x662F;&amp;#x63D0;&amp;#x4F9B;&amp;#x64CD;&amp;#x4F5C;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Dao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;interface ContactsDao {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Query(&amp;quot;SELECT * FROM contacts&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun getAllContacts(): List&amp;lt;ContactsModel&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Query(&amp;quot;SELECT * FROM contacts WHERE contacts_id = :id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun getContactsById(id: Int): LiveData&amp;lt;ContactsModel&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Insert(onConflict = OnConflictStrategy.REPLACE)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun insertContacts(contactsModel: ContactsModel)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Query(&amp;quot;UPDATE contacts SET name = :name AND phone = :phone WHERE contacts_id = :id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun updateContacts(id: Int, name: String, phone: String)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Query(&amp;quot;DELETE FROM contacts WHERE contacts_id = :id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun deleteContacts(id: Int)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x9700;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;@Dao&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x5B83;&amp;#x662F;&amp;#x63D0;&amp;#x4F9B;&amp;#x64CD;&amp;#x4F5C;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x96C6;&amp;#x3002;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x5B83;&amp;#x5FC5;&amp;#x987B;&amp;#x4E3A;interface&amp;#xFF0C;&amp;#x5728;&amp;#x63A5;&amp;#x53E3;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x53EA;&amp;#x9700;&amp;#x5B9A;&amp;#x4E49;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&amp;#x4E0E;&amp;#x5E73;&amp;#x5E38;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5FC5;&amp;#x987B;&amp;#x5728;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0A;&amp;#x901A;&amp;#x8FC7;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5982;getAllContacts()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3A;&amp;#x4E86;&amp;#x8BA9;&amp;#x5B83;&amp;#x5B9E;&amp;#x73B0;&amp;#x83B7;&amp;#x53D6;contacts&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x9700;&amp;#x8981;&amp;#x5728;&amp;#x5176;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6DFB;&amp;#x52A0;@Query&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x662F;&amp;#x67E5;&amp;#x8BE2;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;Query&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x63D2;&amp;#x5165;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x662F;Insert(&amp;#x7B2C;&amp;#x4E09;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;)&amp;#x3002;&amp;#x5176;&amp;#x6B21;()&amp;#x4E2D;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x5C31;&amp;#x662F;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x67E5;&amp;#x8BE2;&amp;#x8BED;&amp;#x53E5;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x662F;&amp;#x83B7;&amp;#x53D6;&amp;#x6240;&amp;#x6709;&amp;#x7684;Contacts&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Query(&amp;quot;SELECT * FROM contacts&amp;quot;)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6709;&amp;#x53C2;&amp;#x6570;&amp;#x7684;sql&amp;#x8BED;&amp;#x53E5;&amp;#x7F16;&amp;#x5199;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53C2;&amp;#x6570;&amp;#x503C;&amp;#x53EA;&amp;#x9700;&amp;#x5728;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x53C2;&amp;#x6570;&amp;#x540D;&amp;#x524D;&amp;#x52A0;&amp;#x5165;:&amp;#x524D;&amp;#x7F00;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x4F20;&amp;#x53C2;&amp;#x7684;&amp;#x683C;&amp;#x5F0F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Query(&amp;quot;SELECT * FROM contacts WHERE contacts_id = :id&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fun getContactsById(id: Int): LiveData&amp;lt;ContactsModel&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Room&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x5B9A;&amp;#x4E49;&amp;#x63A5;&amp;#x53E3;&amp;#x4E0E;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5F62;&amp;#x5F0F;&amp;#xFF0C;&amp;#x518D;&amp;#x7ED3;&amp;#x5408;&amp;#x6CE8;&amp;#x91CA;&amp;#x6765;&amp;#x7B80;&amp;#x5316;&amp;#x4EE3;&amp;#x7801;&amp;#x91CF;&amp;#x4E0E;&amp;#x590D;&amp;#x6742;&amp;#x5EA6;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x6700;&amp;#x7EC8;Room&amp;#x4F1A;&amp;#x6839;&amp;#x636E;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x7F16;&amp;#x8BD1;&amp;#x5668;&amp;#x4F1A;&amp;#x5E2E;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9E;&amp;#x73B0;&amp;#x8FD9;&amp;#x4E9B;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;build&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x641C;&amp;#x7D22;&amp;#x5230;ContactsDao_Impl&amp;#x7C7B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x8BFB;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x5C1D;&amp;#x8BD5;&amp;#x3002;&amp;#x672C;&amp;#x8D28;&amp;#x662F;ContactsDao_Impl&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;ContactsDao&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Room&amp;#x7684;&amp;#x5F3A;&amp;#x5927;&amp;#x4E4B;&amp;#x4E00;&amp;#x662F;&amp;#xFF1A;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x7F16;&amp;#x8BD1;&amp;#x65F6;&amp;#x68C0;&amp;#x6D4B;&amp;#x4F60;&amp;#x7684;SQL&amp;#x8BED;&amp;#x53E5;&amp;#x662F;&amp;#x5426;&amp;#x7F16;&amp;#x5199;&amp;#x6B63;&amp;#x786E;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x7F16;&amp;#x5199;&amp;#x9519;&amp;#x8BEF;&amp;#x5C06;&amp;#x5BFC;&amp;#x81F4;&amp;#x7F16;&amp;#x8BD1;&amp;#x5931;&amp;#x8D25;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x907F;&amp;#x514D;App&amp;#x5728;&amp;#x8FD0;&amp;#x884C;&amp;#x65F6;&amp;#x5BFC;&amp;#x81F4;&amp;#x5D29;&amp;#x6E83;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x8BFB;&amp;#x8005;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x6D4B;&amp;#x8BD5;&amp;#x4E00;&amp;#x4E0B;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Database&quot;&gt;&lt;a href=&quot;#Database&quot; class=&quot;headerlink&quot; title=&quot;Database&quot;&gt;&lt;/a&gt;Database&lt;/h3&gt;&lt;p&gt;&amp;#x73B0;&amp;#x5728;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x6709;&amp;#x4E86;&amp;#xFF0C;&amp;#x5BF9;&amp;#x8868;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E5F;&amp;#x6709;&amp;#x4E86;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5C31;&amp;#x5DEE;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;&amp;#x5404;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x4E86;&amp;#x3002;Talk is cheap. Show me the code&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Database(entities = arrayOf(ContactsModel::class), version = 1)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;abstract class ContactsDataBase : RoomDatabase() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    abstract fun contactsDao(): ContactsDao&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        private var instance: ContactsDataBase? = null&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fun getInstance(context: Context): ContactsDataBase {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (instance == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                instance = Room.databaseBuilder(context.applicationContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        ContactsDataBase::class.java,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &amp;quot;contacts.db&amp;quot;).build()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return instance as ContactsDataBase&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6CA1;&amp;#x9519;&amp;#xFF0C;&amp;#x8FD8;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4E49;ContactsDataBase&amp;#x62BD;&amp;#x8C61;&amp;#x7C7B;&amp;#xFF0C;&amp;#x8BA9;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;RoomDatabase&amp;#x62BD;&amp;#x8C61;&amp;#x7C7B;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x4E5F;&amp;#x662F;&amp;#x540C;@Database&amp;#x6765;&amp;#x6807;&amp;#x660E;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x3002;&amp;#x5B83;&amp;#x63A5;&amp;#x6536;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;entities&amp;#x4E0E;version&amp;#xFF0C;&amp;#x524D;&amp;#x8005;&amp;#x63A5;&amp;#x6536;&amp;#x7684;&amp;#x7C7B;&amp;#x578B;&amp;#x662F;Class[]&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x5185;&amp;#x5BB9;&amp;#x4E3A;&amp;#x5BF9;&amp;#x4E8E;&amp;#x8868;&amp;#x7684;Class&amp;#xFF1B;&amp;#x540E;&amp;#x8005;&amp;#x662F;int&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7248;&amp;#x672C;&amp;#x53F7;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;ContactsDataBase&amp;#x4E2D;&amp;#x8FD8;&amp;#x9700;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E00;&amp;#x4E2A;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BA9;&amp;#x5B83;&amp;#x8FD4;&amp;#x56DE;&amp;#x7531;@Dao&amp;#x6CE8;&amp;#x91CA;&amp;#x7684;ContactsDao&amp;#xFF0C;&amp;#x5373;&amp;#x63D0;&amp;#x4F9B;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x672C;&amp;#x8D28;&amp;#x7684;&amp;#x4E3A;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x66B4;&amp;#x9732;&amp;#x64CD;&amp;#x4F5C;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x7684;&amp;#x5165;&amp;#x53E3;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x5B83;&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;build&amp;#x6765;&amp;#x67E5;&amp;#x770B;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x81EA;&amp;#x52A8;&amp;#x751F;&amp;#x6210;&amp;#x6587;&amp;#x4EF6;ContactsDataBase_Impl&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x56E0;&amp;#x4E3A;contactsDao&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7684;&amp;#x552F;&amp;#x4E00;&amp;#x5165;&amp;#x53E3;&amp;#xFF0C;&amp;#x907F;&amp;#x514D;&amp;#x6BCF;&amp;#x6B21;&amp;#x5BF9;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x65F6;&amp;#x90FD;&amp;#x521B;&amp;#x5EFA;ContactsDataBase&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x5982;&amp;#x4E0A;&amp;#x4EE3;&amp;#x7801;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;&amp;#x6765;&amp;#x51CF;&amp;#x5C11;&amp;#x5B9E;&amp;#x4F8B;&amp;#x9891;&amp;#x7E41;&amp;#x521B;&amp;#x5EFA;&amp;#x7684;&amp;#x5F00;&amp;#x9500;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#&amp;#x4F7F;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4F7F;&amp;#x7528;&quot;&gt;&lt;/a&gt;&amp;#x4F7F;&amp;#x7528;&lt;/h3&gt;&lt;p&gt;&amp;#x7ECF;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;Entity&amp;#x3001;DAO&amp;#x4E0E;Database&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#xFF0C;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x6709;&amp;#x4E86;&amp;#x5B8C;&amp;#x6574;&amp;#x7684;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x7ED3;&amp;#x6784;&amp;#x3002;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x53F2;&amp;#x4E0A;&amp;#x6700;&amp;#x7B80;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private val mContactsDao by lazy { ContactsDataBase.getInstance(application).contactsDao() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fun getContactsById(id: Int): LiveData&amp;lt;ContactsModel&amp;gt; = mContactsDao.getContactsById(id)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F60;&amp;#x6CA1;&amp;#x770B;&amp;#x9519;&amp;#x53EA;&amp;#x9700;&amp;#x4E24;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x80FD;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#x4E2D;Contacts&amp;#x8868;&amp;#x4E2D;&amp;#x7684;&amp;#x6240;&amp;#x7528;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x6211;&amp;#x4EEC;&amp;#x83B7;&amp;#x53D6;&amp;#x4E86;ContactsDao&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x8BE5;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5305;&amp;#x542B;&amp;#x64CD;&amp;#x4F5C;&amp;#x6570;&amp;#x636E;&amp;#x8868;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x800C;&amp;#x7B2C;&amp;#x4E8C;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;ContactsDao&amp;#x4E2D;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8FD4;&amp;#x56DE;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x9700;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x7B2C;&amp;#x4E8C;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x4F60;&amp;#x4EEC;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5B83;&amp;#x8FD4;&amp;#x56DE;&amp;#x4E86;LiveData&lt;contactsmodel&gt;&amp;#x7C7B;&amp;#x578B;&amp;#x6570;&amp;#x636E;&amp;#x3002;&amp;#x5B83;&amp;#x662F;ACC&amp;#x7684;&amp;#x53E6;&amp;#x4E00;&amp;#x5F3A;&amp;#x5927;&amp;#x7EC4;&amp;#x4EF6;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;Room&amp;#x7684;&amp;#x53E6;&amp;#x4E00;&amp;#x5F3A;&amp;#x5927;&amp;#x4E4B;&amp;#x5904;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;LiveData&amp;#x6570;&amp;#x636E;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x5B8C;&amp;#x7F8E;&amp;#x4E0E;LiveData&amp;#x7ED3;&amp;#x5408;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;LiveData&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#xFF0C;&amp;#x656C;&amp;#x8BF7;&amp;#x5173;&amp;#x6CE8;&amp;#x4E0B;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;Android Architecture Components Part2:LiveData&amp;#x3002;&lt;/contactsmodel&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x7684;App&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;Room&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4F60;&amp;#x7684;App&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x83B7;&amp;#x53D6;&amp;#x67B6;&amp;#x6784;&amp;#x5C06;&amp;#x4F1A;&amp;#x662F;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/06/07/Android-Architecture-Components-Part1-Room/room.png&quot; alt=&quot;Room&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Github&lt;/a&gt;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&amp;#x65F6;&amp;#x8BF7;&amp;#x5C06;&amp;#x5206;&amp;#x652F;&amp;#x5207;&amp;#x6362;&amp;#x5230;&lt;strong&gt;feat_architecture_components&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;a href=&quot;#&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&quot;&gt;&lt;/a&gt;&amp;#x76F8;&amp;#x5173;&amp;#x6587;&amp;#x7AE0;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/10/Android-Architecture-Components-Part2-LiveData/&quot;&gt;Android Architecture Components Part2:LiveData&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/14/Android-Architecture-Components-Part3-Lifecycle/&quot;&gt;Android Architecture Components Part3:Lifecycle&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://idisfkj.github.io/2018/06/22/Android-Architecture-Components-Part4-ViewModel/&quot;&gt;Android Architecture Components Part4:ViewModel&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/06/07/Android-Architecture-Components-Part1-Room/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;/2018/06/07/Android-Architecture-Components-Part1-Room/cover.png&quot; alt=&quot;cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Android Architecture Components" scheme="https://idisfkj.github.io/tags/Android-Architecture-Components/"/>
    
  </entry>
  
  <entry>
    <title>ConstraintLayout使用汇总</title>
    <link href="https://idisfkj.github.io/2018/05/03/ConstraintLayout%E4%BD%BF%E7%94%A8%E6%B1%87%E6%80%BB/"/>
    <id>https://idisfkj.github.io/2018/05/03/ConstraintLayout使用汇总/</id>
    <published>2018-05-03T00:37:31.000Z</published>
    <updated>2018-05-16T15:16:25.418Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x8981;&amp;#x5411;&amp;#x5927;&amp;#x5BB6;&amp;#x4ECB;&amp;#x7ECD;ConstraintLayout&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x5E03;&amp;#x5C40;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x5BF9;Android&amp;#x8FDB;&amp;#x884C;&amp;#x5E03;&amp;#x5C40;&amp;#x65F6;&amp;#x51CF;&amp;#x5C11;&amp;#x5BF9;&amp;#x5E03;&amp;#x5C40;&amp;#x5C42;&amp;#x6B21;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#xFF0C;&amp;#x8FDB;&amp;#x800C;&amp;#x63D0;&amp;#x9AD8;app&amp;#x7684;&amp;#x6027;&amp;#x80FD;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x4E9B;&amp;#x793A;&amp;#x4F8B;&amp;#x6765;&amp;#x5168;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;ConstraintLayout&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x5B83;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x7279;&amp;#x6027;&amp;#x3002;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x6B63;&amp;#x5728;&amp;#x5B66;&amp;#x4E60;ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x540C;&amp;#x5B66;&amp;#x4EEC;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;ConstraintLayout-VS-RelativeLayout&quot;&gt;&lt;a href=&quot;#ConstraintLayout-VS-RelativeLayout&quot; class=&quot;headerlink&quot; title=&quot;ConstraintLayout VS RelativeLayout&quot;&gt;&lt;/a&gt;ConstraintLayout VS RelativeLayout&lt;/h2&gt;&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;&amp;#x5F53;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x884C;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x591A;&amp;#x7684;&amp;#x5E94;&amp;#x8BE5;&amp;#x662F;LinearLayout&amp;#x4E0E;RelativeLayout&amp;#x3002;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x590D;&amp;#x6742;&amp;#x4E00;&amp;#x70B9;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x6765;&amp;#x8BF4;&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#x4F7F;&amp;#x7528;&amp;#x5C31;&amp;#x6700;&amp;#x6B63;&amp;#x5E38;&amp;#x4E0D;&amp;#x8FC7;&amp;#x4E86;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x4E3A;&amp;#x4E86;&amp;#x51CF;&amp;#x5C11;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#x5E03;&amp;#x5C40;&amp;#xFF0C;Google&amp;#x7279;&amp;#x610F;&amp;#x5F00;&amp;#x53D1;&amp;#x7684;ConstraintLayout&amp;#x3002;&amp;#x5B83;&amp;#x540C;&amp;#x65F6;&amp;#x652F;&amp;#x6301;LinearLayout&amp;#x4E0E;RelativeLayout&amp;#x7684;&amp;#x6240;&amp;#x7528;&amp;#x7279;&amp;#x6027;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x5B83;&amp;#x5B8C;&amp;#x5168;&amp;#x901A;&amp;#x8FC7;&amp;#x7EA6;&amp;#x675F;&amp;#x6765;&amp;#x51CF;&amp;#x5C11;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#x3002;&amp;#x610F;&amp;#x601D;&amp;#x5C31;&amp;#x662F;&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x6700;&amp;#x5916;&amp;#x5C42;&amp;#x53EA;&amp;#x9700;&amp;#x8981;&amp;#x4E00;&amp;#x4E2A;ConstraintLayout&amp;#x8282;&amp;#x70B9;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E86;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x5148;&amp;#x4ECE;RelativeLayout&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x770B;&amp;#x5B83;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;RelativeLayout&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x5217;&amp;#x4E3E;&amp;#x4E00;&amp;#x4E9B;RelativeLayout&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignStart=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignLeft=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignEnd=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignRight=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignTop=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignBaseline=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignBottom=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_toStartOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_toLeftOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_toEndOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_toRightOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_above=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_below=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentStart=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentLeft=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentEnd=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentRight=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentTop=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_alignParentBottom=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_centerInParent=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_centerHorizontal=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;android:layout_centerVertical=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x76F8;&amp;#x4FE1;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x5927;&amp;#x5BB6;&amp;#x518D;&amp;#x719F;&amp;#x6089;&amp;#x4E0D;&amp;#x8FC7;&amp;#x4E86;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;layout_align*&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x5728;ConstraintLayout&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0B;&amp;#x65B9;&amp;#x5F0F;&amp;#x66FF;&amp;#x4EE3;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintStart_toStartOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintLeft_toLeftOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintEnd_toEndOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintRight_toRightOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintTop_toTopOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintBaseline_toBaselineOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintBottom_toBottomOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;layout_to*&amp;#x7684;&amp;#x5C5E;&amp;#x6027;ConstraintLayout&amp;#x4E5F;&amp;#x6709;&amp;#x4E0E;&amp;#x4E4B;&amp;#x5B8C;&amp;#x7F8E;&amp;#x66FF;&amp;#x4EE3;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintStart_toEndOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintLeft_toRightOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintEnd_toStartOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintRight_toLeftOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintTop_toBottomOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintBottom_toTopOf=&amp;quot;@id/view&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x662F;layout_alignParent*&amp;#x7684;&amp;#x66FF;&amp;#x4EE3;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintEnd_toEndOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E0E;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;layout_align*&amp;#x57FA;&amp;#x672C;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x5B83;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x7EA6;&amp;#x675F;&amp;#x7684;&amp;#x5BF9;&amp;#x8C61;&amp;#x4E0D;&amp;#x540C;&amp;#x800C;&amp;#x5DF2;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x5B9E;&amp;#x73B0;&amp;#x5BF9;&amp;#x7236;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x4F9D;&amp;#x8D56;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x7EDF;&amp;#x4E00;&amp;#x90FD;&amp;#x662F;parent&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x662F;layout_center*&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x672C;&amp;#x8D28;&amp;#x4E0E;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x7C7B;&amp;#x4F3C;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x76F4;&amp;#x63A5;&amp;#x901A;&amp;#x8FC7;&amp;#x5B9E;&amp;#x4F8B;&amp;#x6765;&amp;#x5C55;&amp;#x793A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       android:id=&amp;quot;@+id/center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       android:text=&amp;quot;center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x76F8;&amp;#x4FE1;&amp;#x4E0D;&amp;#x96BE;&amp;#x7406;&amp;#x89E3;&amp;#xFF0C;&amp;#x8981;&amp;#x60F3;&amp;#x5B9E;&amp;#x73B0;&amp;#x6C34;&amp;#x5E73;&amp;#x5C45;&amp;#x4E2D;&amp;#x53EA;&amp;#x9700;&amp;#x8BBE;&amp;#x7F6E;left&amp;#x4E0E;right&amp;#x5206;&amp;#x522B;&amp;#x7EA6;&amp;#x675F;parent&amp;#xFF0C;&amp;#x800C;&amp;#x8981;&amp;#x60F3;&amp;#x5B9E;&amp;#x73B0;&amp;#x7AD6;&amp;#x76F4;&amp;#x5C45;&amp;#x4E2D;&amp;#x5219;&amp;#x53EA;&amp;#x9700;&amp;#x8BBE;&amp;#x7F6E;top&amp;#x4E0E;bottom&amp;#x5206;&amp;#x522B;&amp;#x7EA6;&amp;#x675F;parent&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x5DE9;&amp;#x56FA;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x5199;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x793A;&amp;#x4F8B;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0E;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x5927;&amp;#x5BB6;&amp;#x7406;&amp;#x89E3;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.ConstraintLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;left&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;right&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;bottom&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;center top&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toTopOf=&amp;quot;@+id/center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;center bottom&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/center&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;center left&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/center&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;center right&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/center&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/center&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/android.support.constraint.ConstraintLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/1.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_normal.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;ConstraintLayout&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;match_parent,&amp;#x800C;&amp;#x4E0E;&amp;#x4E4B;&amp;#x66FF;&amp;#x4EE3;&amp;#x7684;&amp;#x662F;match_constraint&amp;#xFF0C;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x4E2D;&amp;#x901A;&amp;#x8FC7;0dp&amp;#x6765;&amp;#x4EE3;&amp;#x8868;&amp;#x3002;&amp;#x4E00;&amp;#x65E6;&amp;#x4F60;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;match_parent&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#x5C06;&amp;#x4F1A;&amp;#x5931;&amp;#x6548;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ConstraintLayout-VS-LinearLayout&quot;&gt;&lt;a href=&quot;#ConstraintLayout-VS-LinearLayout&quot; class=&quot;headerlink&quot; title=&quot;ConstraintLayout VS LinearLayout&quot;&gt;&lt;/a&gt;ConstraintLayout VS LinearLayout&lt;/h2&gt;&lt;p&gt;&amp;#x4E3A;&amp;#x4E86;&amp;#x80FD;&amp;#x591F;&amp;#x8FBE;&amp;#x5230;LinearLayout&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;ConstraintLayout&amp;#x5F15;&amp;#x5165;&amp;#x4E86;Chain Style.&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintHorizontal_chainStyle=&amp;quot;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;app:layout_constraintVertical_chainStyle=&amp;quot;&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x4E3B;&amp;#x8981;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;spread_inside:&amp;#x4E24;&amp;#x8FB9;&amp;#x4E0D;&amp;#x7559;&amp;#x7A7A;&amp;#x95F4;&amp;#xFF0C;&amp;#x4E2D;&amp;#x95F4;&amp;#x95F4;&amp;#x8DDD;&amp;#x5E73;&amp;#x5206;&lt;/li&gt;
&lt;li&gt;spread:&amp;#x5B8C;&amp;#x5168;&amp;#x5747;&amp;#x5206;&lt;/li&gt;
&lt;li&gt;packed:&amp;#x5B8C;&amp;#x5168;&amp;#x4E0D;&amp;#x7559;&amp;#x95F4;&amp;#x8DDD;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x89E3;&amp;#x91CA;&amp;#x7684;&amp;#x6709;&amp;#x70B9;&amp;#x751F;&amp;#x786C;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x901A;&amp;#x8FC7;&amp;#x4E00;&amp;#x5F20;&amp;#x5B98;&amp;#x65B9;&amp;#x56FE;&amp;#x6765;&amp;#x66F4;&amp;#x76F4;&amp;#x89C2;&amp;#x7684;&amp;#x4E86;&amp;#x89E3;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/2.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x662F;&amp;#xFF1A;&amp;#x8981;&amp;#x8FBE;&amp;#x5230;&amp;#x4E0A;&amp;#x7684;&amp;#x7684;chain&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x5FC5;&amp;#x987B;&amp;#x5B8C;&amp;#x5168;&amp;#x76F8;&amp;#x4E92;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;chain style&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x90FD;&amp;#x662F;&amp;#x4EE5;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;view&amp;#x4E3A;&amp;#x57FA;&amp;#x70B9;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x9ED8;&amp;#x8BA4;chain style&amp;#x4E3A;spread&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x540C;&amp;#x6837;&amp;#x7684;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x793A;&amp;#x4F8B;&amp;#x4EE3;&amp;#x7801;&amp;#x4E0E;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;68&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;69&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;70&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;71&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;72&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;73&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;74&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;75&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;76&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;77&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;78&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;79&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;80&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;81&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;82&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;83&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;84&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;85&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;86&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;87&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;88&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;89&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;90&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;91&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;92&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;93&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;94&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;95&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;96&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;97&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;98&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;99&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;100&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;101&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;103&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;104&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;105&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;106&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;107&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;108&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;109&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;110&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;111&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;112&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;113&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;114&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;115&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;116&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;117&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;118&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;119&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;120&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;121&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;122&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;124&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;125&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;126&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;127&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;129&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;130&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;131&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;132&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;133&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;134&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;135&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;136&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;137&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;138&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;139&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;140&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;141&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;142&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;143&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;144&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;145&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;146&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;147&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;148&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.ConstraintLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/second&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/match_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/match_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/match_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_weight=&amp;quot;3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/match_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/match_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/match_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/match_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_weight=&amp;quot;4&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/match_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/match_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/spread_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_chainStyle=&amp;quot;spread_inside&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/spread_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/match_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/spread_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/spread_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/spread_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/spread_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/spread_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/spread_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/spread_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/packed_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_chainStyle=&amp;quot;packed&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/packed_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/spread_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/packed_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/packed_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/packed_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/packed_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/packed_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/packed_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/packed_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/bias_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_bias=&amp;quot;0.2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintHorizontal_chainStyle=&amp;quot;packed&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/bias_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/packed_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/bias_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/bias_first&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/bias_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/bias_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/bias_third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;third&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/bias_second&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/bias_first&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/android.support.constraint.ConstraintLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/3.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_chain.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x7B2C;&amp;#x4E8C;&amp;#x884C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5360;&amp;#x7684;&amp;#x6BD4;&amp;#x4F8B;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;&amp;#x770B;&amp;#x4EE3;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#x5176;&amp;#x5B9E;&amp;#x4E0E;LinearLayout&amp;#x7C7B;&amp;#x4F3C;,&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&lt;code&gt;app:layout_constraintHorizontal_weight=&amp;quot;&amp;quot;&lt;/code&gt;&amp;#x6743;&amp;#x91CD;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x8981;&amp;#x4F7F;&amp;#x5F97;&amp;#x5176;&amp;#x751F;&amp;#x6548;&amp;#x5FC5;&amp;#x987B;layout_width&amp;#x4E0E;layout_height&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E3A;0dp&amp;#x3002;&lt;br&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x7B2C;4&amp;#x3001;5&amp;#x884C;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;chain style&amp;#x7684;&amp;#x503C;&amp;#x4E3A;packed&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x5C45;&amp;#x4E2D;&amp;#x6392;&amp;#x5217;&amp;#x7684;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x6539;&amp;#x53D8;&amp;#x7684;&amp;#x8BDD;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;app:layout_constraintHorizontal_bias=&amp;quot;0.2&amp;quot;&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;app:layout_constraintVertical_bias=&amp;quot;0.2&amp;quot;&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;margin-amp-goneMargin&quot;&gt;&lt;a href=&quot;#margin-amp-goneMargin&quot; class=&quot;headerlink&quot; title=&quot;margin &amp;amp; goneMargin&quot;&gt;&lt;/a&gt;margin &amp;amp; goneMargin&lt;/h2&gt;&lt;h3 id=&quot;margin&quot;&gt;&lt;a href=&quot;#margin&quot; class=&quot;headerlink&quot; title=&quot;margin&quot;&gt;&lt;/a&gt;margin&lt;/h3&gt;&lt;p&gt;ConstraintLayout&amp;#x7684;margin&amp;#x4E0E;&amp;#x539F;&amp;#x6765;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x533A;&amp;#x522B;&amp;#x4E3B;&amp;#x8981;&amp;#x4E3A;&amp;#x4E24;&amp;#x70B9;&amp;#xFF1A;&amp;#x5176;&amp;#x4E00;android:layout_margin*&amp;#x6548;&amp;#x679C;&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x4F46;&amp;#x5B83;&amp;#x7684;&amp;#x503C;&amp;#x4E0D;&amp;#x80FD;&amp;#x4E3A;&amp;#x8D1F;&amp;#x503C;&amp;#xFF1B;&amp;#x5176;&amp;#x4E8C;&amp;#x76F8;&amp;#x5E94;&amp;#x65B9;&amp;#x5411;&amp;#x7684;margin&amp;#x8BBE;&amp;#x7F6E;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x6709;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x4E0D;&amp;#x751F;&amp;#x6548;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginRight=&amp;quot;100dp&amp;quot;        &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;/&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginLeft=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ...       &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintBaseline_toBaselineOf=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintLeft_toRightOf=&amp;quot;@+id/tv1&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;TextView&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;marginLeft&amp;#x4F1A;&amp;#x751F;&amp;#x6548;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x6709;left&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#xFF1A;app:layout_constraintLeft_toRightOf=&amp;#x201D;@+id/tv1&amp;#x201D;&amp;#xFF1B;&amp;#x800C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;TextView&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;marginRight&amp;#x4E0D;&amp;#x4F1A;&amp;#x751F;&amp;#x6548;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x7684;right&amp;#x65B9;&amp;#x5411;&amp;#x4E0A;&amp;#x6CA1;&amp;#x6709;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x751F;&amp;#x6548;&amp;#x53EF;&amp;#x4EE5;&amp;#x52A0;&amp;#x5165;:app:layout_constraintRight_toRightOf=&amp;#x201D;parent&amp;#x7EA6;&amp;#x675F;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E9B;&amp;#x90FD;&amp;#x662F;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x539F;&amp;#x6765;&amp;#x5E03;&amp;#x5C40;margin&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x89C9;&amp;#x5F97;&amp;#x4E0D;&amp;#x4E60;&amp;#x60EF;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;padding&amp;#x4EE3;&amp;#x66FF;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;ConstraintLayout&amp;#x6240;&amp;#x63A8;&amp;#x8350;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;goneMargin&quot;&gt;&lt;a href=&quot;#goneMargin&quot; class=&quot;headerlink&quot; title=&quot;goneMargin&quot;&gt;&lt;/a&gt;goneMargin&lt;/h3&gt;&lt;p&gt;&amp;#x5728;ConstraintLayout&amp;#x4E2D;&amp;#x8FD8;&amp;#x589E;&amp;#x52A0;&amp;#x4E86;&amp;#x53E6;&amp;#x5916;&amp;#x4E00;&amp;#x79CD;goneMargin&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#xFF1A;&amp;#x4E00;&amp;#x65E6;&amp;#x67D0;&amp;#x4E2A;&amp;#x65B9;&amp;#x5411;&amp;#x4E0A;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;view&amp;#x4E0D;&amp;#x53EF;&amp;#x4EE5;&amp;#x89C1;&amp;#xFF0C;&amp;#x8FD9;&amp;#x65F6;&amp;#x5982;&amp;#x679C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&amp;#x8BE5;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x5411;&amp;#x5C06;&amp;#x81EA;&amp;#x52A8;&amp;#x589E;&amp;#x52A0;margin&amp;#x503C;&amp;#x3002;&amp;#x5373;&amp;#x76EE;&amp;#x6807;&amp;#x5FC5;&amp;#x987B;&amp;#x4E0D;&amp;#x53EF;&amp;#x89C1;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.ConstraintLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;match_parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&amp;quot;100dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginLeft=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBaseline_toBaselineOf=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/tv1&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:visibility=&amp;quot;gone&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/tv4&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginLeft=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv4&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_goneMarginLeft=&amp;quot;100dp&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/tv5&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginBottom=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv5&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintVertical_bias=&amp;quot;0.33&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/android.support.constraint.ConstraintLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/4.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_margin.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Circle&quot;&gt;&lt;a href=&quot;#Circle&quot; class=&quot;headerlink&quot; title=&quot;Circle&quot;&gt;&lt;/a&gt;Circle&lt;/h2&gt;&lt;p&gt;&amp;#x5728;ConstraintLayout&amp;#x4E2D;&amp;#x4F60;&amp;#x4E0D;&amp;#x4EC5;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x4EFB;&amp;#x610F;view&amp;#x8FDB;&amp;#x884C;&amp;#x6C34;&amp;#x5E73;&amp;#x4E0E;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4F60;&amp;#x8FD8;&amp;#x53EF;&amp;#x4EE5;&amp;#x5C45;&amp;#x4E8E;&amp;#x7EA6;&amp;#x675F;view&amp;#x7684;&amp;#x4E2D;&amp;#x5FC3;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x4E0D;&amp;#x540C;&amp;#x89D2;&amp;#x5EA6;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x5C5E;&amp;#x6027;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x4E09;&amp;#x79CD;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;layout_constraintCircle: &amp;#x4EE3;&amp;#x8868;&amp;#x7EA6;&amp;#x675F;&amp;#x7684;view&amp;#x7684;id&lt;/li&gt;
&lt;li&gt;layout_constraintCircleAngle: &amp;#x4EE3;&amp;#x8868;&amp;#x7EA6;&amp;#x675F;&amp;#x7684;&amp;#x89D2;&amp;#x5EA6;&lt;/li&gt;
&lt;li&gt;layout_constraintCircleRadius: &amp;#x4EE3;&amp;#x8868;&amp;#x7EA6;&amp;#x675F;&amp;#x7684;&amp;#x534A;&amp;#x5F84;&amp;#x5927;&amp;#x5C0F;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/5.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.ConstraintLayout&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;tv2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintCircle=&amp;quot;@id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintCircleAngle=&amp;quot;45&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintCircleRadius=&amp;quot;100dp&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/android.support.constraint.ConstraintLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/6.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_circle.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;GuideLine&quot;&gt;&lt;a href=&quot;#GuideLine&quot; class=&quot;headerlink&quot; title=&quot;GuideLine&quot;&gt;&lt;/a&gt;GuideLine&lt;/h2&gt;&lt;p&gt;GuideLine&amp;#x4E5F;&amp;#x662F;ConstraintLayout&amp;#x7279;&amp;#x6709;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x5B83;&amp;#x76F8;&amp;#x5F53;&amp;#x4E8E;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x8003;&amp;#x7EBF;&amp;#xFF0C;&amp;#x4E14;&amp;#x5B83;&amp;#x7684;&amp;#x5E03;&amp;#x5C40;&amp;#x4E2D;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;GuidLine&amp;#x6709;&amp;#x6C34;&amp;#x5E73;&amp;#x4E0E;&amp;#x7AD6;&amp;#x76F4;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;android:orientation=&amp;quot;horizontal|vertical&amp;quot;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5C5E;&amp;#x6027;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;layout_constraintGuide_begin: &amp;#x4EE3;&amp;#x8868;&amp;#x8DDD;&amp;#x79BB;GuideLine&amp;#x5DE6;&amp;#x8FB9;&amp;#x6216;&amp;#x8005;&amp;#x5E95;&amp;#x90E8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&lt;/li&gt;
&lt;li&gt;layout_constraintGuide_end: &amp;#x4EE3;&amp;#x8868;&amp;#x8DDD;&amp;#x79BB;GuideLine&amp;#x53F3;&amp;#x8FB9;&amp;#x6216;&amp;#x8005;&amp;#x5E95;&amp;#x90E8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&lt;/li&gt;
&lt;li&gt;layout_constraintGuide_percent&amp;#xFF1A;&amp;#x4EE3;&amp;#x8868;GuideLine&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;parent&amp;#x7684;&amp;#x4F4D;&amp;#x7F6E;&amp;#x767E;&amp;#x5206;&amp;#x6BD4;&lt;/li&gt;
&lt;/ol&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.ConstraintLayout &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   ...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;android.support.constraint.Guideline&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/vertical_guide_line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&amp;quot;vertical&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintGuide_begin=&amp;quot;150dp&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/button&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_marginTop=&amp;quot;16dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;Button&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toLeftOf=&amp;quot;@+id/vertical_guide_line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;android.support.constraint.Guideline&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/horizontal_guide_line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&amp;quot;horizontal&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintGuide_end=&amp;quot;150dp&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/button1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;Button1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintRight_toLeftOf=&amp;quot;@+id/vertical_guide_line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toTopOf=&amp;quot;@+id/horizontal_guide_line&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/button2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;Button2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintBottom_toBottomOf=&amp;quot;@+id/horizontal_guide_line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintLeft_toRightOf=&amp;quot;@+id/vertical_guide_line&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;android.support.constraint.Guideline&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:id=&amp;quot;@+id/percent_guide_Line&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:orientation=&amp;quot;horizontal&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintGuide_percent=&amp;quot;0.3&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    &amp;lt;Button&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        android:text=&amp;quot;margin top of parent 30%&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        app:layout_constraintTop_toBottomOf=&amp;quot;@+id/percent_guide_Line&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;/android.support.constraint.ConstraintLayout&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/7.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_guide_line.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;Barrier-amp-Group&quot;&gt;&lt;a href=&quot;#Barrier-amp-Group&quot; class=&quot;headerlink&quot; title=&quot;Barrier &amp;amp; Group&quot;&gt;&lt;/a&gt;Barrier &amp;amp; Group&lt;/h2&gt;&lt;h3 id=&quot;Barrier&quot;&gt;&lt;a href=&quot;#Barrier&quot; class=&quot;headerlink&quot; title=&quot;Barrier&quot;&gt;&lt;/a&gt;Barrier&lt;/h3&gt;&lt;p&gt;Barrier&amp;#x4E0E;GuideLine&amp;#x6709;&amp;#x70B9;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x5E03;&amp;#x5C40;&amp;#x4E0D;&amp;#x53EF;&amp;#x89C1;&amp;#x7684;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x5C31;&amp;#x7EA6;&amp;#x675F;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#xFF0C;&amp;#x770B;&amp;#x5982;&amp;#x4E0B;&amp;#x56FE;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/8.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6709;&amp;#x8FD9;&amp;#x4E48;&amp;#x4E00;&amp;#x79CD;&amp;#x9700;&amp;#x6C42;&amp;#xFF1A;tv3&amp;#x59CB;&amp;#x7EC8;&amp;#x5728;tv1&amp;#x4E0E;tv2&amp;#x7684;&amp;#x6700;&amp;#x8FD1;&amp;#x53F3;&amp;#x8FB9;&amp;#xFF0C;&amp;#x4F46;tv1&amp;#x4E0E;tv2&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;&amp;#x7684;&amp;#x4E0D;&amp;#x770B;&amp;#x9884;&amp;#x671F;&amp;#x7684;&amp;#xFF0C;&amp;#x5373;&amp;#x53EF;&amp;#x80FD;tv1&amp;#x66F4;&amp;#x957F;&amp;#x6216;&amp;#x8005;tv2&amp;#x66F4;&amp;#x957F;&amp;#x3002;&amp;#x8FD9;&amp;#x65F6;Barrier&amp;#x5C31;&amp;#x80FD;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x89E3;&amp;#x51B3;&amp;#x8FD9;&amp;#x95EE;&amp;#x9898;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--barrier--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;150dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;5dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv1&amp;#xFF0C;&amp;#x56FA;&amp;#x5B9A;&amp;#x5BBD;&amp;#x5EA6;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginTop=&amp;quot;20dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;5dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv2&amp;#xFF0C;&amp;#x5BBD;&amp;#x5EA6;&amp;#x4E0D;&amp;#x56FA;&amp;#x5B9A;&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintTop_toBottomOf=&amp;quot;@+id/tv1&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.Barrier&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/barrier&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:barrierDirection=&amp;quot;end&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:constraint_referenced_ids=&amp;quot;tv1,tv2&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginLeft=&amp;quot;5dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;5dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;@string/barrier_tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintLeft_toRightOf=&amp;quot;@+id/barrier&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;Barrier&amp;#x4E2D;&amp;#x6709;&amp;#x4E24;&amp;#x4E2A;&amp;#x5C5E;&amp;#x6027;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;barrierDirection&amp;#xFF1A;&amp;#x63A7;&amp;#x5236;&amp;#x5176;&amp;#x65B9;&amp;#x5411;&lt;/li&gt;
&lt;li&gt;constraint_referenced_ids&amp;#xFF1A;&amp;#x7EA6;&amp;#x675F;&amp;#x7684;view&amp;#x7684;&amp;#x53C2;&amp;#x8003;id&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Group&quot;&gt;&lt;a href=&quot;#Group&quot; class=&quot;headerlink&quot; title=&quot;Group&quot;&gt;&lt;/a&gt;Group&lt;/h3&gt;&lt;p&gt;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x4F60;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x65E2;&amp;#x7136;ConstraintLayout&amp;#x4E2D;&amp;#x80FD;&amp;#x51CF;&amp;#x5C11;&amp;#x5E03;&amp;#x5C40;&amp;#x7684;&amp;#x5D4C;&amp;#x5957;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5BF9;&amp;#x4E8E;&amp;#x540C;&amp;#x4E00;&amp;#x6A21;&amp;#x5757;&amp;#x7684;UI&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x6574;&amp;#x4F53;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x662F;&amp;#x5426;&amp;#x53EA;&amp;#x80FD;&amp;#x9010;&amp;#x4E00;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF08;&amp;#x663E;&amp;#x9690;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF09;&amp;#xFF1F;ConstraintLayout&amp;#x7ED9;&amp;#x51FA;&amp;#x4E86;&amp;#x5B83;&amp;#x7684;&amp;#x7B54;&amp;#x6848;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;Group&amp;#x3002;&amp;#x5B83;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&amp;#x591A;&amp;#x4E2A;view&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x7EC4;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x5728;&amp;#x5E03;&amp;#x5C40;&amp;#x4E2D;&amp;#x4E5F;&amp;#x662F;&amp;#x4E0D;&amp;#x53EF;&amp;#x89C1;&amp;#x7684;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x5C5E;&amp;#x6027;&amp;#x662F;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;constraint_referenced_ids: &amp;#x7EA6;&amp;#x675F;&amp;#x7684;view&amp;#x7684;&amp;#x53C2;&amp;#x8003;id&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5C31;&amp;#x62FF;&amp;#x4E0A;&amp;#x9762;Barrier&amp;#x7684;&amp;#x793A;&amp;#x4F8B;&amp;#x6765;&amp;#x8BF4;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--group &amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5173;&amp;#x8054;id&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x663E;&amp;#x9690;--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;android.support.constraint.Group&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/group&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:visibility=&amp;quot;visible&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:constraint_referenced_ids=&amp;quot;tv1,tv2&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x52A0;&amp;#x4E86;&amp;#x5982;&amp;#x4E0A;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5BF9;group&amp;#x8FDB;&amp;#x884C;VISIBLE&amp;#x64CD;&amp;#x4F5C;&amp;#x65F6;&amp;#xFF0C;&amp;#x5BF9;&amp;#x540C;&amp;#x65F6;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;tv1&amp;#x4E0E;tv2&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_barrier_group.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;other&quot;&gt;&lt;a href=&quot;#other&quot; class=&quot;headerlink&quot; title=&quot;other&quot;&gt;&lt;/a&gt;other&lt;/h2&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BF4;&amp;#x4E00;&amp;#x4E0B;&amp;#x4F7F;&amp;#x7528;ConstraintLayout&amp;#x65F6;&amp;#xFF0C;&amp;#x4E00;&amp;#x4E9B;&amp;#x9700;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x70B9;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x4F60;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x505A;&amp;#x5C11;&amp;#x8D70;&amp;#x5F2F;&amp;#x8DEF;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;wrap-content&quot;&gt;&lt;a href=&quot;#wrap-content&quot; class=&quot;headerlink&quot; title=&quot;wrap_content&quot;&gt;&lt;/a&gt;wrap_content&lt;/h3&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x7684;View&amp;#x4E2D;&amp;#x5BF9;&amp;#x5BBD;&amp;#x9AD8;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;wrap_content&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4F60;&amp;#x8981;&amp;#x65F6;&amp;#x523B;&amp;#x6CE8;&amp;#x610F;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#x53EF;&amp;#x80FD;&amp;#x5E76;&amp;#x4E0D;&amp;#x4F1A;&amp;#x5F88;&amp;#x597D;&amp;#x7684;&amp;#x751F;&amp;#x6548;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x5982;&amp;#x4E0B;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--&amp;#x5F53;&amp;#x4E3A;wrap_content&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x5F3A;&amp;#x5236;&amp;#x7EA6;&amp;#x675F;--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--app:layout_constrainedWidth=&amp;#x201D;true|false&amp;#x201D;--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--app:layout_constrainedHeight=&amp;#x201D;true|false&amp;#x201D;--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:minWidth--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:minHeight--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:maxWidth--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:maxHeight--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot; /&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginLeft=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;@string/other_tv2&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constrainedWidth=&amp;quot;true&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintLeft_toRightOf=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintRight_toRightOf=&amp;quot;parent&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/10.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x5C06;app:layout_constrainedWidth=&amp;#x201D;true&amp;#x201D;&amp;#x8FD9;&amp;#x884C;&amp;#x4EE3;&amp;#x7801;&amp;#x5220;&amp;#x9664;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4F60;&amp;#x5C06;&amp;#x4F1A;&amp;#x770B;&amp;#x5230;&amp;#x5982;&amp;#x4E0B;&amp;#x6548;&amp;#x679C;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/9.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4EE3;&amp;#x7801;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E2D;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BF4;&amp;#x660E;&amp;#xFF0C;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;wrap_content&amp;#x65F6;&amp;#xFF0C;&amp;#x8FD8;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;minWith&amp;#x7B49;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x4E3A; min/max &amp;gt; constraintWith/Height&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;MATCH-CONSTRAIN&quot;&gt;&lt;a href=&quot;#MATCH-CONSTRAIN&quot; class=&quot;headerlink&quot; title=&quot;MATCH_CONSTRAIN&quot;&gt;&lt;/a&gt;MATCH_CONSTRAIN&lt;/h3&gt;&lt;p&gt;&amp;#x5F53;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;MATCH_CONSTRAIN&amp;#xFF0C;&amp;#x5373;0dp&amp;#x6765;&amp;#x5C55;&amp;#x793A;&amp;#x5BBD;&amp;#x9AD8;&amp;#x65F6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5982;&amp;#x4E0B;&amp;#x65B9;&amp;#x5F0F;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x7EA6;&amp;#x675F;&amp;#x76F8;&amp;#x5E94;&amp;#x5BBD;&amp;#x9AD8;&amp;#x503C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--&amp;#x5F53;&amp;#x4E3A;MATCH_CONSTRAINT &amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE5;&amp;#x4E0B;&amp;#x8BBE;&amp;#x7F6E;&amp;#x6765;&amp;#x7EA6;&amp;#x675F;&amp;#x5BBD;&amp;#x9AD8;--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--layout_constraintWidth_min and layout_constraintHeight_min--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--layout_constraintWidth_max and layout_constraintHeight_max--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--layout_constraintWidth_percent and layout_constraintHeight_percent--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:minWidth--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:minHeight--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:maxWidth--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;!--android:maxHeight--&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginTop=&amp;quot;50dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv3&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintTop_toBottomOf=&amp;quot;@+id/tv1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintWidth_percent=&amp;quot;0.5&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/11.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x5C06;app:layout_constraintWidth_percent=&amp;#x201D;0.5&amp;#x201D;&amp;#x53BB;&amp;#x6389;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x4F60;&amp;#x5C06;&amp;#x770B;&amp;#x5230;&amp;#x5982;&amp;#x4E0B;&amp;#x6548;&amp;#x679C;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/12.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x4E3A;parent &amp;gt; min/max &amp;gt; constraint_min/max&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Ratio&quot;&gt;&lt;a href=&quot;#Ratio&quot; class=&quot;headerlink&quot; title=&quot;Ratio&quot;&gt;&lt;/a&gt;Ratio&lt;/h3&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x7684;&amp;#x9700;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;View&amp;#x8FDB;&amp;#x884C;&amp;#x56FA;&amp;#x5B9A;&amp;#x5BBD;&amp;#x9AD8;&amp;#x6BD4;&amp;#x5C55;&amp;#x793A;&amp;#x65F6;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;Ratio&amp;#x7684;&amp;#x8FD9;&amp;#x4E2A;&amp;#x7279;&amp;#x6027;&amp;#x5C06;&amp;#x975E;&amp;#x5E38;&amp;#x9002;&amp;#x5408;&amp;#x4F60;&amp;#x3002;&amp;#x4F60;&amp;#x53EA;&amp;#x9700;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5B83;&amp;#x7684;layout_constraintDimensionRatio&amp;#x5C5E;&amp;#x6027;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;layout_width&amp;#x4E0E;layout_height&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E3A;MATCH_CONSTRAIN&amp;#xFF08;0dp&amp;#xFF09;, MATCH_CONSTRAIN&amp;#xFF08;0dp&amp;#xFF09;&amp;#x7684;&amp;#x503C;&amp;#x5C06;&amp;#x6839;&amp;#x636E;layout_constraintDimensionRatio&amp;#x6240;&amp;#x8BBE;&amp;#x7684;&amp;#x503C;&amp;#x6765;&amp;#x8BA1;&amp;#x7B97;&amp;#xFF08;w:h&amp;#xFF09;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv4&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;wrap_content&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginTop=&amp;quot;50dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv4&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintDimensionRatio=&amp;quot;2:1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintTop_toBottomOf=&amp;quot;@+id/tv3&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/13.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;layout_width&amp;#x4E0E;layout_height&amp;#x90FD;&amp;#x4E3A;MATCH_CONSTRAIN&amp;#xFF08;0dp&amp;#xFF09;, &amp;#x90A3;&amp;#x4E48;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;layout_constraintDimensionRatio&amp;#x6DFB;&amp;#x52A0;&amp;#x524D;&amp;#x7F00;W/H&amp;#xFF08;H&amp;#xFF0C;w:h&amp;#xFF0C;&amp;#x6765;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x5BBD;&amp;#x9AD8;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x7EA6;&amp;#x675F;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x5F62;&amp;#x6210;&amp;#x6BD4;&amp;#x4F8B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;lt;TextView&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:id=&amp;quot;@+id/tv5&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_width=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_height=&amp;quot;0dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:layout_marginTop=&amp;quot;50dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:background=&amp;quot;@color/colorPrimary&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:padding=&amp;quot;10dp&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:text=&amp;quot;tv5&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    android:textColor=&amp;quot;@android:color/white&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintDimensionRatio=&amp;quot;H,3:1&amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    app:layout_constraintTop_toBottomOf=&amp;quot;@+id/tv4&amp;quot; /&amp;gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/14.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x6BD4;&amp;#x4E3A;1:3&amp;#x3002;&amp;#x5373;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E86;H,3:1&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis/blob/master/app/src/main/res/layout/activity_constraint_layout_other.xml&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h2&gt;&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;ConstraintLayout&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x5168;&amp;#x90E8;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x6709;&amp;#x6240;&amp;#x4F5C;&amp;#x7528;&amp;#x4E0E;&amp;#x5E2E;&amp;#x52A9;&amp;#x3002;&amp;#x5982;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x6307;&amp;#x51FA;&amp;#xFF0C;&amp;#x8C22;&amp;#x8C22;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x8DF3;&amp;#x8F6C;&amp;#x5230;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/05/03/ConstraintLayout&amp;#x4F7F;&amp;#x7528;&amp;#x6C47;&amp;#x603B;/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="ConstraintLayout" scheme="https://idisfkj.github.io/tags/ConstraintLayout/"/>
    
  </entry>
  
  <entry>
    <title>Bitmap的图片压缩汇总</title>
    <link href="https://idisfkj.github.io/2018/03/21/Bitmap%E7%9A%84%E5%9B%BE%E7%89%87%E5%8E%8B%E7%BC%A9%E6%B1%87%E6%80%BB/"/>
    <id>https://idisfkj.github.io/2018/03/21/Bitmap的图片压缩汇总/</id>
    <published>2018-03-20T23:26:50.000Z</published>
    <updated>2018-05-16T15:15:58.185Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;p&gt;Bitmap&amp;#x662F;Android&amp;#x4E2D;&amp;#x4E00;&amp;#x79CD;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5904;&amp;#x7406;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x88C1;&amp;#x526A;&amp;#x3001;&amp;#x7F29;&amp;#x653E;&amp;#x7B49;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x6307;&amp;#x5B9A;&amp;#x56FE;&amp;#x7247;&amp;#x683C;&amp;#x5F0F;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x5B58;&amp;#x3002;&amp;#x76F8;&amp;#x4FE1;&amp;#x5BF9;&amp;#x4E8E;OOM&amp;#x518D;&amp;#x719F;&amp;#x6089;&amp;#x4E0D;&amp;#x8FC7;&amp;#x4E86;&amp;#xFF0C;OOM&amp;#x7684;&amp;#x4EA7;&amp;#x751F;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x5E38;&amp;#x5934;&amp;#x75BC;&amp;#x7684;&amp;#x4E8B;&amp;#x60C5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x5728;&amp;#x52A0;&amp;#x8F7D;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x672A;&amp;#x5BF9;&amp;#x5927;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x4F1A;&amp;#x5360;&amp;#x7528;&amp;#x975E;&amp;#x5E38;&amp;#x5927;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x975E;&amp;#x5E38;&amp;#x5BB9;&amp;#x6613;&amp;#x4EA7;&amp;#x751F;OOM&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x6709;&amp;#x610F;&amp;#x8BC6;&amp;#x7684;&amp;#x5BF9;&amp;#x5927;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x624D;&amp;#x80FD;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x4FDD;&amp;#x8BC1;App&amp;#x7684;&amp;#x6B63;&amp;#x5E38;&amp;#x8FD0;&amp;#x884C;&amp;#x4E0E;&amp;#x6027;&amp;#x80FD;&amp;#x7684;&amp;#x7A33;&amp;#x5B9A;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Bitmap&amp;#x5927;&amp;#x5C0F;&amp;#x8BA1;&amp;#x7B97;&quot;&gt;&lt;a href=&quot;#Bitmap&amp;#x5927;&amp;#x5C0F;&amp;#x8BA1;&amp;#x7B97;&quot; class=&quot;headerlink&quot; title=&quot;Bitmap&amp;#x5927;&amp;#x5C0F;&amp;#x8BA1;&amp;#x7B97;&quot;&gt;&lt;/a&gt;Bitmap&amp;#x5927;&amp;#x5C0F;&amp;#x8BA1;&amp;#x7B97;&lt;/h2&gt;&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x5982;&amp;#x679C;&amp;#x8BA1;&amp;#x7B97;&amp;#x4E00;&amp;#x5F20;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6240;&amp;#x5360;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x5927;&amp;#x5C0F;&amp;#x5462;&amp;#xFF1F;&amp;#x5728;&amp;#x8FD9;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x6765;&amp;#x4E86;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#x5173;&amp;#x4E8E;Bitmap&amp;#x4E24;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x914D;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;CompressFormat&quot;&gt;&lt;a href=&quot;#CompressFormat&quot; class=&quot;headerlink&quot; title=&quot;CompressFormat&quot;&gt;&lt;/a&gt;CompressFormat&lt;/h3&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x6307;&amp;#x5B9A;Bitmap&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x538B;&amp;#x7F29;&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;&amp;#x5728;Bitmap&amp;#x4E2D;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;Enum&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x8868;&amp;#x73B0;&amp;#x4E3A;&amp;#x4EE5;&amp;#x4E0B;&amp;#x4E09;&amp;#x79CD;&amp;#x683C;&amp;#x5F0F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public enum CompressFormat {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    JPEG    (0),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PNG     (1),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    WEBP    (2);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CompressFormat(int nativeInt) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.nativeInt = nativeInt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final int nativeInt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;JPEG: &amp;#x4EE5;JPEG&amp;#x7B97;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x538B;&amp;#x7F29;&amp;#x540E;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x683C;&amp;#x5F0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x4E3A;.jpeg&amp;#x6216;&amp;#x8005;.jpg&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x6709;&amp;#x635F;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x6CA1;&amp;#x6709;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;PNG&amp;#xFF1A;&amp;#x4EE5;PNG&amp;#x7B97;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x538B;&amp;#x7F29;&amp;#x540E;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x683C;&amp;#x5F0F;&amp;#x662F;.png&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x65E0;&amp;#x635F;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x6709;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;WEBP&amp;#xFF1A;&amp;#x4EE5;WEBP&amp;#x7B97;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x538B;&amp;#x7F29;&amp;#x540E;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x683C;&amp;#x5F0F;&amp;#x662F;.webp&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x6709;&amp;#x635F;&amp;#x538B;&amp;#x7F29;&amp;#x3002;&amp;#x76F8;&amp;#x540C;&amp;#x8D28;&amp;#x91CF;&amp;#x4E0B;&amp;#xFF0C;webp&amp;#x6BD4;jpeg&amp;#x56FE;&amp;#x50CF;&amp;#x5C0F;40%&amp;#xFF0C;&amp;#x4F46;webp&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x7F16;&amp;#x7801;&amp;#x65F6;&amp;#x95F4;&amp;#x6BD4;jpeg&amp;#x957F;8&amp;#x500D;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;Config&quot;&gt;&lt;a href=&quot;#Config&quot; class=&quot;headerlink&quot; title=&quot;Config&quot;&gt;&lt;/a&gt;Config&lt;/h3&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x5173;&amp;#x4E8E;Bitmap&amp;#x50CF;&amp;#x7D20;&amp;#x5B58;&amp;#x50A8;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x914D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x50CF;&amp;#x7D20;&amp;#x5B58;&amp;#x50A8;&amp;#xFF0C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x8D28;&amp;#x91CF;&amp;#x4E5F;&amp;#x4F1A;&amp;#x6709;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5F71;&amp;#x54CD;&amp;#x3002;&amp;#x5728;Bitmap&amp;#x4E2D;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;Enum&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x8868;&amp;#x73B0;&amp;#x4E8E;&amp;#x4EE5;&amp;#x4E0B;&amp;#x56DB;&amp;#x79CD;&amp;#x683C;&amp;#x5F0F;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ALPHA_8&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x50CF;&amp;#x7D20;&amp;#x90FD;&amp;#x53EA;&amp;#x50A8;&amp;#x5B58;&amp;#x5355;&amp;#x4E00;&amp;#x7684;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#xFF0C;&amp;#x5373;&amp;#x53EA;&amp;#x6709;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#xFF0C;&amp;#x603B;&amp;#x5171;&amp;#x5360;8&amp;#x4F4D;&amp;#xFF0C;1&amp;#x5B57;&amp;#x8282;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;ARGB_4444&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x50CF;&amp;#x7D20;&amp;#x90FD;&amp;#x4EE5;A&amp;#xFF08;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#xFF09;R&amp;#xFF08;Red&amp;#xFF09;G&amp;#xFF08;Green&amp;#xFF09;B&amp;#xFF08;Blue&amp;#xFF09;&amp;#x56DB;&amp;#x90E8;&amp;#x5206;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x6BCF;&amp;#x90E8;&amp;#x5206;&amp;#x5360;4&amp;#x4F4D;&amp;#xFF0C;&amp;#x603B;&amp;#x5171;&amp;#x5360;16&amp;#x4F4D;&amp;#xFF0C;2&amp;#x5B57;&amp;#x8282;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x8FD9;&amp;#x79CD;&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8D28;&amp;#x91CF;&amp;#x592A;&amp;#x5DEE;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E2D;API 13&amp;#x5C31;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5E9F;&amp;#x5F03;&amp;#x4E86;&amp;#xFF0C;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;ARGB_8888&amp;#x3002;&lt;/li&gt;
&lt;li&gt;ARGB_8888&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x50CF;&amp;#x7D20;&amp;#x90FD;&amp;#x4EE5;A&amp;#xFF08;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#xFF09;R&amp;#xFF08;Red&amp;#xFF09;G&amp;#xFF08;Green&amp;#xFF09;B&amp;#xFF08;Blue&amp;#xFF09;&amp;#x56DB;&amp;#x90E8;&amp;#x5206;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x6BCF;&amp;#x90E8;&amp;#x5206;&amp;#x5360;8&amp;#x4F4D;&amp;#xFF0C;&amp;#x603B;&amp;#x5171;32&amp;#x4F4D;&amp;#xFF0C;4&amp;#x5B57;&amp;#x8282;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;RGB_565&amp;#xFF1A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x50CF;&amp;#x7D20;&amp;#x90FD;&amp;#x4EE5;R&amp;#xFF08;Red&amp;#xFF09;G&amp;#xFF08;Green&amp;#xFF09;B&amp;#xFF08;Blue&amp;#xFF09;&amp;#x4E09;&amp;#x90E8;&amp;#x5206;&amp;#x7EC4;&amp;#x6210;&amp;#xFF0C;&amp;#x5404;&amp;#x4E2A;&amp;#x90E8;&amp;#x5206;&amp;#x5206;&amp;#x522B;&amp;#x5360;5&amp;#x4F4D;&amp;#xFF0C;6&amp;#x4F4D;&amp;#xFF0C;5&amp;#x4F4D;&amp;#xFF0C;&amp;#x603B;&amp;#x5171;16&amp;#x4F4D;&amp;#xFF0C;2&amp;#x5B57;&amp;#x8282;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;&amp;#x4E86;&amp;#x9632;&amp;#x6B62;OOM&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x4E00;&amp;#x822C;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;RGB_565&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;ALPHA_8&amp;#x53EA;&amp;#x6709;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x6B63;&amp;#x5E38;&amp;#x56FE;&amp;#x7247;&amp;#x672A;&amp;#x610F;&amp;#x4E49;&amp;#xFF1B;ARGB_4444&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8D28;&amp;#x91CF;&amp;#x592A;&amp;#x5DEE;&amp;#xFF1B;ARGB_8888&amp;#x5360;&amp;#x7528;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x6700;&amp;#x591A;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5BBD;&amp;#x5EA6;&amp;#x4E3A;1080&amp;#x3001;&amp;#x9AD8;&amp;#x5EA6;&amp;#x4E3A;675&amp;#x3001;Config&amp;#x4E3A;ARGB_8888&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x5360;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x4E3A;&amp;#xFF1A;1080 x 675 x 4 = 2916000.&amp;#x6298;&amp;#x7B97;&amp;#x6210;M&amp;#x4E3A;2916000 / 1024 / 1024 = 2.78M&amp;#x3002;&amp;#x4E00;&amp;#x79CD;&amp;#x56FE;&amp;#x7247;&amp;#x5C31;&amp;#x8FD1;3M&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x52A0;&amp;#x8F7D;10&amp;#x5F20;&amp;#x6216;&amp;#x8005;100&amp;#x5F20;&amp;#xFF0C;&amp;#x6240;&amp;#x5360;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x53EF;&amp;#x60F3;&amp;#x800C;&amp;#x77E5;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#x8BDD;&amp;#x4F1A;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x5C06;&amp;#x5185;&amp;#x5B58;&amp;#x6D88;&amp;#x8017;&amp;#x6B86;&amp;#x5C3D;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5BF9;&amp;#x4E8E;Android App&amp;#x6765;&amp;#x8BF4;&amp;#x6839;&amp;#x672C;&amp;#x5C31;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x8FD9;&amp;#x4E48;&amp;#x9AD8;&amp;#x6E05;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x52A0;&amp;#x8F7D;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x5BF9;&amp;#x5BBD;&amp;#x9AD8;&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#xFF0C;&amp;#x4EA6;&amp;#x6216;&amp;#x8005;&amp;#x5C06;Config&amp;#x6539;&amp;#x6211;RGB_565&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x4E0D;&amp;#x4EC5;&amp;#x6709;&amp;#x6548;&amp;#x7684;&amp;#x51CF;&amp;#x5C0F;&amp;#x4E86;&amp;#x5185;&amp;#x5B58;&amp;#x7684;&amp;#x5360;&amp;#x7528;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x4E0D;&amp;#x5F71;&amp;#x54CD;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x6E05;&amp;#x6670;&amp;#x5EA6;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5982;&amp;#x4F55;&amp;#x901A;&amp;#x8FC7;Bitmap&amp;#x4E0E;BitmapFactory&amp;#x6765;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Bitmap&amp;#x76F8;&amp;#x5173;&quot;&gt;&lt;a href=&quot;#Bitmap&amp;#x76F8;&amp;#x5173;&quot; class=&quot;headerlink&quot; title=&quot;Bitmap&amp;#x76F8;&amp;#x5173;&quot;&gt;&lt;/a&gt;Bitmap&amp;#x76F8;&amp;#x5173;&lt;/h2&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;Bitmap&amp;#x8FDB;&amp;#x884C;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x538B;&amp;#x7F29;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5B83;&amp;#x4E3B;&amp;#x8981;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&amp;#x4EE5;&amp;#x4E0B;&amp;#x6709;&amp;#x6548;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;status return&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;method name&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;boolean&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;compress(Bitmap.CompressFormat format, int quality, OutputStream stream)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(DisplayMetrics display, int[] colors, int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(DisplayMetrics display, int[] colors, int offset, int stride, int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(Bitmap source, int x, int y, int width, int height)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(Bitmap src)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(DisplayMetrics display, int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(Bitmap source, int x, int y, int width, int height, Matrix m, boolean filter)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(int[] colors, int offset, int stride, int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitamp&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createBitmap(int[] colors, int width, int height, Bitmap.Config config)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;createScaledBitmap(Bitmap src, int dstWidth, int dstHeight, boolean filter)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&quot;compress&quot;&gt;&lt;a href=&quot;#compress&quot; class=&quot;headerlink&quot; title=&quot;compress&quot;&gt;&lt;/a&gt;compress&lt;/h3&gt;&lt;p&gt;compress&amp;#x65B9;&amp;#x6CD5;&amp;#x901A;&amp;#x8FC7;&amp;#x6307;&amp;#x5B9A;&amp;#x56FE;&amp;#x7247;&amp;#x7684;CompressFormat&amp;#x683C;&amp;#x5F0F;&amp;#x4E0E;&amp;#x538B;&amp;#x7F29;&amp;#x767E;&amp;#x5206;&amp;#x6BD4;&amp;#x6765;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5C06;&amp;#x538B;&amp;#x7F29;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;outputStream&amp;#x4E2D;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5177;&amp;#x4F53;&amp;#x7528;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;val fs = FileOutputStream(path)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val out = ByteArrayOutputStream()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;scaleBitmap.compress(Bitmap.CompressFormat.JPEG, 30, out)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LogUtils.d(&amp;quot;compressBitmap jpeg of byteCount %d.&amp;quot;, out.toByteArray().size)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fs.write(out.toByteArray())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;fs.close()&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;quality&amp;#x4EE3;&amp;#x8868;&amp;#x767E;&amp;#x5206;&amp;#x6BD4;&amp;#xFF0C;&amp;#x503C;&amp;#x4E3A;0~100&amp;#xFF0C;&amp;#x503C;&amp;#x8D8A;&amp;#x5C0F;&amp;#x538B;&amp;#x7F29;&amp;#x7684;&amp;#x540E;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x5C31;&amp;#x8D8A;&amp;#x5C0F;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x793A;&amp;#x4F8B;&amp;#xFF0C;quality&amp;#x4E3A;30&amp;#xFF0C;&amp;#x5219;&amp;#x4EE3;&amp;#x8868;&amp;#x5BF9;&amp;#x539F;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;70%&amp;#xFF0C;&amp;#x4FDD;&amp;#x7559;30%&amp;#x3002;&amp;#x540C;&amp;#x65F6;Bitmap.CompressFormat&amp;#x5728;&amp;#x524D;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E86;&amp;#xFF0C;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x683C;&amp;#x5F0F;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x6548;&amp;#x679C;&amp;#x4E5F;&amp;#x4E0D;&amp;#x540C;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;JPEG&amp;#x7684;&amp;#x683C;&amp;#x5F0F;&amp;#x56FE;&amp;#x7247;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x900F;&amp;#x660E;&amp;#x5EA6;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x7279;&amp;#x522B;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#xFF1A;&amp;#x5BF9;&amp;#x4E8E;Bitmap.CompressFormat.PNG&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x683C;&amp;#x5F0F;&amp;#xFF0C;quality&amp;#x5C06;&amp;#x5931;&amp;#x53BB;&amp;#x6548;&amp;#x679C;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5176;&amp;#x683C;&amp;#x5F0F;&amp;#x662F;&amp;#x65E0;&amp;#x635F;&amp;#x7684;&amp;#x538B;&amp;#x7F29;&amp;#xFF1B;&amp;#x518D;&amp;#x8005;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;compress&amp;#x65B9;&amp;#x6CD5;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x5BF9;&amp;#x663E;&amp;#x793A;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x538B;&amp;#x7F29;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EA;&amp;#x662F;&amp;#x5BF9;&amp;#x539F;&amp;#x56FE;&amp;#x8FDB;&amp;#x884C;&amp;#x538B;&amp;#x7F29;&amp;#x540E;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;&amp;#x672C;&amp;#x5730;&amp;#x78C1;&amp;#x76D8;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E0D;&amp;#x6539;&amp;#x53D8;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x9014;&amp;#x4F5C;&amp;#x7528;&amp;#x4E8E;&amp;#x4FDD;&amp;#x5B58;&amp;#x56FE;&amp;#x7247;&amp;#x5230;&amp;#x672C;&amp;#x5730;&amp;#xFF0C;&amp;#x4EE5;&amp;#x4FBF;&amp;#x4E0B;&amp;#x6B21;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x51CF;&amp;#x5C0F;&amp;#x56FE;&amp;#x7247;&amp;#x5728;&amp;#x672C;&amp;#x5730;&amp;#x78C1;&amp;#x76D8;&amp;#x6240;&amp;#x5360;&amp;#x7684;&amp;#x78C1;&amp;#x76D8;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;createBitmap&quot;&gt;&lt;a href=&quot;#createBitmap&quot; class=&quot;headerlink&quot; title=&quot;createBitmap&quot;&gt;&lt;/a&gt;createBitmap&lt;/h3&gt;&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;createBitmap&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;Bitmap&amp;#x4E2D;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;9&amp;#x79CD;&amp;#x4E0D;&amp;#x540C;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x7684;&amp;#x538B;&amp;#x7F29;&amp;#x5904;&amp;#x7406;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5206;&amp;#x522B;&amp;#x6709;&amp;#x901A;&amp;#x8FC7;colors&amp;#x6570;&amp;#x7EC4;&amp;#x3001;Bitmap&amp;#x4E0E;DisplayMetrics&amp;#x7B49;&amp;#x6765;&amp;#x51B3;&amp;#x5B9A;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4F8B;&amp;#x5982;&amp;#x4F7F;&amp;#x7528;colors&amp;#x6570;&amp;#x7EC4;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;val colors = intArrayOf(Color.RED, Color.GREEN, Color.BLUE,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        Color.GREEN, Color.BLUE, Color.RED,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        Color.BLUE, Color.RED, Color.GREEN)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val displayMetricsBitmap = Bitmap.createBitmap(DisplayMetrics(),colors,3, 3,Bitmap.Config.ARGB_8888)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;LogUtils.d(&amp;quot;displayMetricsBitmap of byteCount %d and rowBytes %d&amp;quot;, displayMetricsBitmap.byteCount, displayMetricsBitmap.rowBytes)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;3 x 3&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;Config&amp;#x4E3A;ARGB_8888&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x7EC8;&amp;#x56FE;&amp;#x7247;&amp;#x5728;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x4E3A;3 x 3 x 4 = 36&amp;#x5B57;&amp;#x8282;&amp;#x3002;&amp;#x800C;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x6548;&amp;#x679C;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;colors&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x7684;&amp;#x989C;&amp;#x8272;&amp;#x4E5F;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#xFF0C;3 x 3 = 9 &amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x5E94;colors&amp;#x4E2D;&amp;#x7684;9&amp;#x4E2A;&amp;#x50CF;&amp;#x7D20;&amp;#x70B9;&amp;#x7684;&amp;#x8272;&amp;#x503C;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;colors&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x6700;&amp;#x5C0F;&amp;#x5FC5;&amp;#x987B;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;9&amp;#xFF0C;&amp;#x5373;&amp;#x5BBD;*&amp;#x9AD8;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x4E3A;&amp;#x4F55;&amp;#x8BF4;&amp;#x6700;&amp;#x5C0F;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;Bitmap&amp;#x8FD8;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;offset&amp;#x4E0E;stride&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x91CD;&amp;#x8F7D;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x5206;&amp;#x522B;&amp;#x4EE3;&amp;#x8868;&amp;#x5728;colors&amp;#x4E2D;&amp;#x7684;&amp;#x5F00;&amp;#x59CB;&amp;#x70B9;&amp;#x7684;&amp;#x504F;&amp;#x79FB;&amp;#x91CF;&amp;#x4E0E;&amp;#x53D6;&amp;#x503C;&amp;#x7684;&amp;#x6B65;&amp;#x4F10;&amp;#xFF0C;&amp;#x5373;&amp;#x6BCF;&amp;#x4E2A;&amp;#x53D6;&amp;#x503C;&amp;#x70B9;&amp;#x95F4;&amp;#x7684;&amp;#x8DE8;&amp;#x5EA6;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x5B9E;&amp;#x9645;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;createBitmap&amp;#x6700;&amp;#x591A;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&amp;#x7528;&amp;#x5B83;&amp;#x7684;Bitmap&amp;#x91CD;&amp;#x8F7D;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x6765;&amp;#x5BF9;&amp;#x539F;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x88C1;&amp;#x526A;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x5B83;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//bitmap&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val bitmapBitmap = Bitmap.createBitmap(scaleBitmap, 150, 0, 100, 100)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view?.setImageBitmap(scaleBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view_text.text = &amp;quot;width: &amp;quot; + scaleBitmap.width + &amp;quot; height: &amp;quot; + scaleBitmap.height&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view.setImageBitmap(bitmapBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view_text.text = &amp;quot;startX: 150 startY: 0\n&amp;quot; + &amp;quot;width: &amp;quot; + bitmapBitmap.width + &amp;quot; height: &amp;quot; + bitmapBitmap.height&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x53C2;&amp;#x6570;&amp;#x662F;&amp;#x539F;Bitmap&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x662F;&amp;#x5728;&amp;#x539F;Bitmap&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;x = 150&amp;#x3001;y = 0&amp;#x4EE3;&amp;#x8868;&amp;#x4ECE;&amp;#x539F;Bitmap&amp;#x4E2D;&amp;#x7684;&amp;#x5750;&amp;#x6807;&amp;#xFF08;150&amp;#xFF0C;0&amp;#xFF09;&amp;#x5F00;&amp;#x59CB;&amp;#x8FDB;&amp;#x884C;&amp;#x88C1;&amp;#x526A;;width = 100&amp;#x3001;height = 100&amp;#xFF0C;&amp;#x88C1;&amp;#x526A;&amp;#x540E;&amp;#x8FD4;&amp;#x56DE;&amp;#x65B0;&amp;#x7684;&amp;#x7684;Bitmap&amp;#xFF0C;&amp;#x4E14;&amp;#x5927;&amp;#x5C0F;&amp;#x4E3A;100 x 100&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;if (!source.isMutable() &amp;amp;&amp;amp; x == 0 &amp;amp;&amp;amp; y == 0 &amp;amp;&amp;amp; width == source.getWidth() &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        height == source.getHeight() &amp;amp;&amp;amp; (m == null || m.isIdentity())) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return source;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x539F;Bitmap&amp;#x662F;&amp;#x4E0D;&amp;#x53EF;&amp;#x53D8;&amp;#x7684;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x56FE;&amp;#x53C2;&amp;#x6570;&amp;#x4E0E;&amp;#x539F;&amp;#x56FE;&amp;#x7247;&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x4F1A;&amp;#x76F4;&amp;#x63A5;&amp;#x8FD4;&amp;#x56DE;&amp;#x539F;Bitmap&amp;#x3002;&amp;#x662F;&amp;#x5426;&amp;#x53EF;&amp;#x53D8;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;Bitmap.isMutable&amp;#x5224;&amp;#x65AD;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x770B;&amp;#x4E0B;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x6240;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&amp;#xFF1A;&lt;br&gt;&lt;img src=&quot;/2018/03/21/Bitmap&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x6C47;&amp;#x603B;/1.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x901A;&amp;#x8FC7;&amp;#x4F20;&amp;#x9012;Bitmap&amp;#x53C2;&amp;#x6570;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x53C2;&amp;#x6570;Matrix&amp;#xFF0C;&amp;#x5B83;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x4E8E;&amp;#x5BF9;Bitmap&amp;#x8FDB;&amp;#x884C;&amp;#x77E9;&amp;#x9635;&amp;#x53D8;&amp;#x6362;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;createScaledBitmap&quot;&gt;&lt;a href=&quot;#createScaledBitmap&quot; class=&quot;headerlink&quot; title=&quot;createScaledBitmap&quot;&gt;&lt;/a&gt;createScaledBitmap&lt;/h3&gt;&lt;p&gt;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E0A;&amp;#x9762;&amp;#x4E24;&amp;#x79CD;&amp;#x5C31;&amp;#x7B80;&amp;#x5355;&amp;#x591A;&amp;#x4E86;&amp;#xFF0C;&amp;#x5B83;&amp;#x76EE;&amp;#x7684;&amp;#x662F;&amp;#x5BF9;&amp;#x539F;Bitmap&amp;#x8FDB;&amp;#x884C;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x8FD4;&amp;#x56DE;&amp;#x65B0;&amp;#x7684;Bitmap&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6CE8;&amp;#x610F;&amp;#xFF1A;&amp;#x5982;&amp;#x679C;&amp;#x4F20;&amp;#x5165;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x4E0E;&amp;#x539F;Bitmap&amp;#x76F8;&amp;#x540C;&amp;#xFF0C;&amp;#x5B83;&amp;#x5C06;&amp;#x8FD4;&amp;#x56DE;&amp;#x539F;Bitmap&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//createScaledBitmap&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val createScaledBitmap = Bitmap.createScaledBitmap(scaleBitmap, 500, 300, false)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view?.setImageBitmap(scaleBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view_text.text = &amp;quot;width: &amp;quot; + scaleBitmap.width + &amp;quot; height: &amp;quot; + scaleBitmap.height&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view.setImageBitmap(createScaledBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view_text.text = &amp;quot;width: &amp;quot; + createScaledBitmap.width + &amp;quot; height: &amp;quot; + createScaledBitmap.height&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/03/21/Bitmap&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x6C47;&amp;#x603B;/2.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5176;&amp;#x5B9E;&amp;#x73B0;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static Bitmap createScaledBitmap(@NonNull Bitmap src, int dstWidth, int dstHeight,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        boolean filter) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Matrix m = new Matrix();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final int width = src.getWidth();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final int height = src.getHeight();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (width != dstWidth || height != dstHeight) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final float sx = dstWidth / (float) width;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final float sy = dstHeight / (float) height;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        m.setScale(sx, sy);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return Bitmap.createBitmap(src, 0, 0, width, height, m, filter);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E00;&amp;#x76EE;&amp;#x4E86;&amp;#x7136;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x4E86;Matrix&amp;#xFF0C;&amp;#x8FD0;&amp;#x7528;Matrix&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x8FDB;&amp;#x884C;&amp;#x5BBD;&amp;#x9AD8;&amp;#x7F29;&amp;#x653E;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x8C03;&amp;#x7528;&amp;#x524D;&amp;#x9762;&amp;#x6240;&amp;#x5206;&amp;#x6790;&amp;#x7684;createBitmap&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x53EA;&amp;#x4E0D;&amp;#x8FC7;&amp;#x8FD9;&amp;#x91CC;&amp;#x6307;&amp;#x5B9A;&amp;#x4E86;&amp;#x521D;&amp;#x59CB;&amp;#x70B9;&amp;#xFF08;0&amp;#xFF0C;0&amp;#xFF09;&amp;#x800C;&amp;#x5DF2;&amp;#xFF0C;&amp;#x518D;&amp;#x4F20;&amp;#x5165;&amp;#x539F;Bitmap&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x4E0E;&amp;#x751F;&amp;#x6210;&amp;#x7684;Matrix&amp;#x3002;&amp;#x56E0;&amp;#x6B64;createBitmap&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x610F;&amp;#x70B9;&amp;#x4E5F;&amp;#x662F;&amp;#x5E94;&amp;#x7528;&amp;#x5230;createScaledBitmap&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;BitmapFactory&amp;#x76F8;&amp;#x5173;&quot;&gt;&lt;a href=&quot;#BitmapFactory&amp;#x76F8;&amp;#x5173;&quot; class=&quot;headerlink&quot; title=&quot;BitmapFactory&amp;#x76F8;&amp;#x5173;&quot;&gt;&lt;/a&gt;BitmapFactory&amp;#x76F8;&amp;#x5173;&lt;/h2&gt;&lt;p&gt;BitmapFactory&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x6765;&amp;#x89E3;&amp;#x7801;Bitmap&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;files&amp;#x3001;streams&amp;#x4E0E;byte-arrays&amp;#x3002;&amp;#x65E2;&amp;#x7136;&amp;#x662F;&amp;#x7EE7;&amp;#x7EED;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x89E3;&amp;#x7801;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x4E9B;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x89E3;&amp;#x7801;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style=&quot;text-align:center&quot;&gt;status return&lt;/th&gt;
&lt;th style=&quot;text-align:center&quot;&gt;method name &lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeByteArray(byte[] data, int offset, int length, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeByteArray(byte[] data, int offset, int length)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeFile(String pathName)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeFile(String pathName, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeFileDescriptor(FileDescriptor fd)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeFileDescriptor(FileDescriptor fd, Rect outPadding, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeResource(Resources res, int id, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeResource(Resources res, int id)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeResourceStream(Resources res, TypedValue value, InputStream is, Rect pad, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeStream(InputStream is)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style=&quot;text-align:center&quot;&gt;static Bitmap&lt;/td&gt;
&lt;td style=&quot;text-align:center&quot;&gt;decodeStream(InputStream is, Rect outPadding, BitmapFactory.Options opts)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x76F4;&amp;#x63A5;&amp;#x901A;&amp;#x8FC7;&amp;#x65B9;&amp;#x6CD5;&amp;#x540D;&amp;#x5C31;&amp;#x80FD;&amp;#x5F88;&amp;#x65B9;&amp;#x4FBF;&amp;#x7684;&amp;#x5206;&amp;#x8FA8;&amp;#x51FA;&amp;#x4F7F;&amp;#x7528;&amp;#x54EA;&amp;#x79CD;&amp;#x8D44;&amp;#x6E90;&amp;#x7C7B;&amp;#x578B;&amp;#x8FDB;&amp;#x884C;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;decodeByteArray&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;byte&amp;#x6570;&amp;#x7EC4;&amp;#x4F5C;&amp;#x4E3A;&amp;#x89E3;&amp;#x6790;&amp;#x6E90;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5728;&amp;#x89E3;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8BBE;&amp;#x7F6E;offset&amp;#x4E0E;length&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x8D77;&amp;#x59CB;&amp;#x70B9;&amp;#x4E0E;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#x5982;&amp;#x679C;&amp;#x80FD;&amp;#x591F;&amp;#x7CBE;&amp;#x786E;&amp;#x63A7;&amp;#x5236;offset&amp;#x4E0E;length&amp;#x4E5F;&amp;#x5C31;&amp;#x80FD;&amp;#x591F;&amp;#x505A;&amp;#x5230;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x88C1;&amp;#x526A;&amp;#x6548;&amp;#x679C;&amp;#x3002;decodeFileDescriptor&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6587;&amp;#x4EF6;&amp;#x63CF;&amp;#x8FF0;&amp;#x7B26;&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x7801;Bitmap&amp;#x3002;&amp;#x4E00;&amp;#x822C;&amp;#x7528;&amp;#x4E0D;&amp;#x5230;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#x51E0;&amp;#x79CD;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;decodeFile&quot;&gt;&lt;a href=&quot;#decodeFile&quot; class=&quot;headerlink&quot; title=&quot;decodeFile&quot;&gt;&lt;/a&gt;decodeFile&lt;/h3&gt;&lt;p&gt;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#x6765;&amp;#x89E3;&amp;#x7801;&amp;#x51FA;Bitmap&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;//decodeFile&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val decodeFileOptions = BitmapFactory.Options()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val decodeFileBitmap = BitmapFactory.decodeFile(mRootPath +&amp;quot;bitmap&amp;quot;, decodeFileOptions)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;decodeFileOptions.inSampleSize = 2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val decodeFileScaleBitmap = BitmapFactory.decodeFile(mRootPath + &amp;quot;bitmap&amp;quot;, decodeFileOptions)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view?.setImageBitmap(decodeFileBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;image_view_text.text = &amp;quot;width: &amp;quot; + decodeFileBitmap.width + &amp;quot; height: &amp;quot; + decodeFileBitmap.height&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view.setImageBitmap(decodeFileScaleBitmap)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sub_image_view_text.text = &amp;quot;width: &amp;quot; + decodeFileScaleBitmap.width + &amp;quot; height: &amp;quot; + decodeFileScaleBitmap.height&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2018/03/21/Bitmap&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x6C47;&amp;#x603B;/3.png&quot; alt=&quot;&amp;#x6548;&amp;#x679C;&amp;#x56FE;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x6BD4;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5BBD;&amp;#x9AD8;&amp;#x90FD;&amp;#x7F29;&amp;#x5C0F;&amp;#x4E86;&amp;#x4E00;&amp;#x534A;&amp;#xFF0C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x538B;&amp;#x7F29;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#x65F6;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E86;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;decodeFileOptions.inSampleSize = 2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x4E86;&amp;#x9759;&amp;#x6001;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;BitmapFactory.Options&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x8868;&amp;#x53D1;&amp;#x73B0;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x6709;&amp;#x8FD9;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x9009;&amp;#x9879;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x9014;&amp;#x662F;&amp;#x5728;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x539F;&amp;#x6709;&amp;#x5C5E;&amp;#x6027;&amp;#x8FDB;&amp;#x884C;&amp;#x4FEE;&amp;#x6539;&amp;#x3002;&amp;#x5B83;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x914D;&amp;#x7F6E;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x4EE5;in&amp;#x524D;&amp;#x7F00;&amp;#x5F00;&amp;#x5934;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x5217;&amp;#x4E3E;&amp;#x4E00;&amp;#x4E9B;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;type&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;inJustDecodeBounds&lt;/td&gt;
&lt;td&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;true&amp;#xFF0C;&amp;#x89E3;&amp;#x7801;&amp;#x540E;&amp;#x4E0D;&amp;#x4F1A;&amp;#x8FD4;&amp;#x56DE;Bitmap&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x4F46;Bitmap&amp;#x5BBD;&amp;#x9AD8;&amp;#x5C06;&amp;#x8FD4;&amp;#x56DE;&amp;#x5230;options.outWidth&amp;#x4E0E;options.outHeight&amp;#x4E2D;&amp;#xFF1B;&amp;#x53CD;&amp;#x4E4B;&amp;#x8FD4;&amp;#x56DE;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x4E8E;&amp;#x53EA;&amp;#x9700;&amp;#x83B7;&amp;#x53D6;&amp;#x89E3;&amp;#x7801;&amp;#x540E;&amp;#x7684;Bitmap&amp;#x7684;&amp;#x5927;&amp;#x5C0F;&amp;#x3002;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;inMutable&lt;/td&gt;
&lt;td&gt;&amp;#x4E3A;true&amp;#xFF0C;&amp;#x4EE3;&amp;#x8868;&amp;#x8FD4;&amp;#x56DE;&amp;#x53EF;&amp;#x53D8;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;Bitmap&amp;#xFF0C;&amp;#x53CD;&amp;#x4E4B;&amp;#x4E0D;&amp;#x53EF;&amp;#x53D8;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;inPreferQualityOverSpeed&lt;/td&gt;
&lt;td&gt;&amp;#x4E3A;true&amp;#xFF0C;&amp;#x5C06;&amp;#x5728;&amp;#x89E3;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x727A;&amp;#x7272;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x66F4;&amp;#x9AD8;&amp;#x8D28;&amp;#x91CF;&amp;#x7684;Bitmap&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Bitmap.Config&lt;/td&gt;
&lt;td&gt;inPreferredConfig&lt;/td&gt;
&lt;td&gt;&amp;#x6839;&amp;#x636E;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;Config&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x7801;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;Bitmap.Config.RGB_565&amp;#x7B49;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;inSampleSize&lt;/td&gt;
&lt;td&gt;&amp;#x5982;&amp;#x679C;&amp;#x503C;&amp;#x5927;&amp;#x4E8E;1&amp;#xFF0C;&amp;#x5728;&amp;#x89E3;&amp;#x7801;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5C06;&amp;#x6309;&amp;#x6BD4;&amp;#x4F8B;&amp;#x8FD4;&amp;#x56DE;&amp;#x5360;&amp;#x66F4;&amp;#x5C0F;&amp;#x5185;&amp;#x5B58;&amp;#x7684;Bitmap&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#x503C;&amp;#x4E3A;2&amp;#xFF0C;&amp;#x5219;&amp;#x5BF9;&amp;#x5BBD;&amp;#x9AD8;&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#x4E00;&amp;#x534A;&amp;#x3002;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;boolean&lt;/td&gt;
&lt;td&gt;inScaled&lt;/td&gt;
&lt;td&gt;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;true&amp;#xFF0C;&amp;#x4E14;inDesity&amp;#x4E0E;inTargetDensity&amp;#x90FD;&amp;#x4E0D;&amp;#x4E3A;0&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x5C06;&amp;#x4F1A;&amp;#x6839;&amp;#x636E;inTargetDensityl&amp;#x6765;&amp;#x7F29;&amp;#x653E;&amp;#xFF0C;&amp;#x5728;drawn&amp;#x4E2D;&amp;#x4E0D;&amp;#x4F9D;&amp;#x9760;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x7F29;&amp;#x653E;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;inDensity&lt;/td&gt;
&lt;td&gt;Bitmap&amp;#x81EA;&amp;#x8EAB;&amp;#x7684;&amp;#x5BC6;&amp;#x5EA6;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;int&lt;/td&gt;
&lt;td&gt;inTargetDensity&lt;/td&gt;
&lt;td&gt;Bitmap drawn&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x5BC6;&amp;#x5EA6;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;decodeFile&amp;#x7684;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static Bitmap decodeFile(String pathName, Options opts) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    validate(opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap bm = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    InputStream stream = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        stream = new FileInputStream(pathName);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bm = decodeStream(stream, null, opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } catch (Exception e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /*  do nothing.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            If the exception happened on open, bm will be null.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        Log.e(&amp;quot;BitmapFactory&amp;quot;, &amp;quot;Unable to decode stream: &amp;quot; + e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (stream != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                stream.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // do nothing here&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return bm;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5185;&amp;#x90E8;&amp;#x6839;&amp;#x636E;&amp;#x6587;&amp;#x4EF6;&amp;#x8DEF;&amp;#x5F84;&amp;#x521B;&amp;#x5EFA;FileInputStream&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;decodeStream&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;decodeStream-amp-decodeResourceStream&quot;&gt;&lt;a href=&quot;#decodeStream-amp-decodeResourceStream&quot; class=&quot;headerlink&quot; title=&quot;decodeStream &amp;amp; decodeResourceStream&quot;&gt;&lt;/a&gt;decodeStream &amp;amp; decodeResourceStream&lt;/h3&gt;&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;decodeStream&amp;#x5185;&amp;#x90E8;&amp;#x5219;&amp;#x662F;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;InputStream&amp;#x7C7B;&amp;#x578B;&amp;#x8C03;&amp;#x7528;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;native&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;AssetManager.AssetInputStrea&amp;#x7C7B;&amp;#x578B;&amp;#x5219;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;nativeDecodeAsset(asset, outPadding, opts);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5426;&amp;#x5219;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;nativeDecodeStream(is, tempStorage, outPadding, opts);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;decodeResourceStream&amp;#x65B9;&amp;#x6CD5;&amp;#x5185;&amp;#x90E8;&amp;#x4E5F;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;decodeStream.&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static Bitmap decodeResourceStream(Resources res, TypedValue value,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        InputStream is, Rect pad, Options opts) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    validate(opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (opts == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        opts = new Options();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (opts.inDensity == 0 &amp;amp;&amp;amp; value != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final int density = value.density;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (density == TypedValue.DENSITY_DEFAULT) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            opts.inDensity = DisplayMetrics.DENSITY_DEFAULT;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (density != TypedValue.DENSITY_NONE) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            opts.inDensity = density;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (opts.inTargetDensity == 0 &amp;amp;&amp;amp; res != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        opts.inTargetDensity = res.getDisplayMetrics().densityDpi;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return decodeStream(is, pad, opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;decodeResourceStream&amp;#x5185;&amp;#x90E8;&amp;#x505A;&amp;#x4E86;&amp;#x5BF9;Bitmap&amp;#x7684;&amp;#x5BC6;&amp;#x5EA6;&amp;#x9002;&amp;#x914D;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x8C03;&amp;#x7528;decodeStream&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;decodeStream&amp;#x4E5F;&amp;#x5206;&amp;#x6790;&amp;#x5B8C;&amp;#x6BD5;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;decodeResource&quot;&gt;&lt;a href=&quot;#decodeResource&quot; class=&quot;headerlink&quot; title=&quot;decodeResource&quot;&gt;&lt;/a&gt;decodeResource&lt;/h3&gt;&lt;p&gt;decodeResource&amp;#x7528;&amp;#x6CD5;&amp;#x4E5F;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x4F20;&amp;#x5165;&amp;#x76F8;&amp;#x5E94;&amp;#x672C;&amp;#x5730;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x6587;&amp;#x4EF6;&amp;#x5373;&amp;#x53EF;&amp;#xFF0C;&amp;#x9700;&amp;#x8981;&amp;#x7F29;&amp;#x653E;&amp;#x7684;&amp;#x8BDD;&amp;#x914D;&amp;#x7F6E;options&amp;#x53C2;&amp;#x6570;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;val options = BitmapFactory.Options()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;val bitmap = BitmapFactory.decodeResource(resources, R.drawable.yaodaoji, options)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x968F;&amp;#x4FBF;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static Bitmap decodeResource(Resources res, int id, Options opts) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    validate(opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Bitmap bm = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    InputStream is = null; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        final TypedValue value = new TypedValue();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        is = res.openRawResource(id, value);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        bm = decodeResourceStream(res, value, is, null, opts);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } catch (Exception e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        /*  do nothing.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            If the exception happened on open, bm will be null.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            If it happened on close, bm is still valid.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (is != null) is.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } catch (IOException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            // Ignore&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (bm == null &amp;amp;&amp;amp; opts != null &amp;amp;&amp;amp; opts.inBitmap != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throw new IllegalArgumentException(&amp;quot;Problem decoding into existing bitmap&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return bm;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;res.openRawResource(id, value)&amp;#x6765;&amp;#x83B7;&amp;#x53D6;InputStream&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x8C03;&amp;#x7528;decodeResourceStream(res, value, is, null, opts)&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5C31;&amp;#x7B80;&amp;#x5355;&amp;#x4E86;&amp;#xFF0C;&amp;#x53C8;&amp;#x56DE;&amp;#x5230;&amp;#x4E86;&amp;#x4E0A;&amp;#x9762;&amp;#x5206;&amp;#x6790;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x53BB;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x505A;&amp;#x4E2A;&amp;#x603B;&amp;#x7ED3;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x4E3B;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;Bitmap&amp;#x4E0E;BitmapFactory&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x7C7B;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x7C7B;&amp;#x4E4B;&amp;#x524D;&amp;#x4E5F;&amp;#x8981;&amp;#x5BF9;Bitmap&amp;#x4E2D;&amp;#x7684;CompressFormat&amp;#x4E0E;Config&amp;#xFF1B;BitmapFactory&amp;#x4E2D;&amp;#x7684;BitmapFactory.Options&amp;#x6709;&amp;#x6240;&amp;#x4E86;&amp;#x89E3;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x7ED3;&amp;#x5408;&amp;#x4ED6;&amp;#x4EEC;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x538B;&amp;#x7F29;&amp;#x3001;&amp;#x88C1;&amp;#x526A;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x53EA;&amp;#x8981;&amp;#x638C;&amp;#x63E1;&amp;#x51E0;&amp;#x4E2A;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5728;&amp;#x65E5;&amp;#x5E38;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x4E2D;&amp;#x5C31;&amp;#x8DB3;&amp;#x591F;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5982;&amp;#x6709;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x6307;&amp;#x51FA;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/android-api-analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x70B9;&amp;#x51FB;&amp;#x8DF3;&amp;#x8F6C;&amp;#x5230;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/03/21/Bitmap&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x538B;&amp;#x7F29;&amp;#x6C47;&amp;#x603B;/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h2&gt;&lt;p&gt;Bitmap&amp;#x662F;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="bitmap" scheme="https://idisfkj.github.io/tags/bitmap/"/>
    
  </entry>
  
  <entry>
    <title>EventBus的工作原理总结</title>
    <link href="https://idisfkj.github.io/2018/02/27/EventBus%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93/"/>
    <id>https://idisfkj.github.io/2018/02/27/EventBus的工作原理总结/</id>
    <published>2018-02-27T14:36:43.000Z</published>
    <updated>2018-05-16T15:15:10.499Z</updated>
    
    <content type="html">&lt;h2 id=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;a href=&quot;#&amp;#x6982;&amp;#x5FF5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;/a&gt;&amp;#x6982;&amp;#x5FF5;&lt;/h2&gt;&lt;p&gt;EventBus&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x9762;&amp;#x5411;&amp;#x4E8E;Android&amp;#x4E0E;Java&amp;#x7684;&amp;#x5BF9;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8BA2;&amp;#x9605;&amp;#x4E0E;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x4E00;&amp;#x79CD;&amp;#x673A;&amp;#x5236;&amp;#x3002;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BF4;&amp;#x5B83;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x79CD;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5904;&amp;#x7406;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x8BE5;&amp;#x9879;&amp;#x76EE;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F00;&amp;#x6E90;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x4E00;&amp;#x5F20;&amp;#x56FE;&amp;#x80FD;&amp;#x591F;&amp;#x5F88;&amp;#x5168;&amp;#x9762;&amp;#x7684;&amp;#x4F53;&amp;#x73B0;&amp;#x5B83;&amp;#x7684;&amp;#x8FD0;&amp;#x884C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/greenrobot/EventBus/master/EventBus-Publish-Subscribe.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C06;EventBus&amp;#x7684;&amp;#x5DE5;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#x5206;&amp;#x4E3A;&amp;#x4E09;&amp;#x6B65;&amp;#x6765;&amp;#x8BF4;&amp;#x660E;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&amp;#x4E0E;&amp;#x8BA2;&amp;#x9605;&lt;/li&gt;
&lt;li&gt;EventBus&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x53D1;&amp;#x5E03;&lt;/li&gt;
&lt;li&gt;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&quot;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&quot;&gt;&lt;a href=&quot;#EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&quot; class=&quot;headerlink&quot; title=&quot;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&quot;&gt;&lt;/a&gt;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&lt;/h2&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x662F;&amp;#x5BF9;&amp;#x5DE5;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#x8FDB;&amp;#x884C;&amp;#x603B;&amp;#x7ED3;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5E9F;&amp;#x8BDD;&amp;#x4E0D;&amp;#x591A;&amp;#x8BF4;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x8FDB;&amp;#x5165;EventBus&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x8BE5;&amp;#x6587;&amp;#x7AE0;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x662F;&amp;#x57FA;&amp;#x4E8E;EventBus&lt;code&gt;3.0.0&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x8BF4;&amp;#x660E;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;EventBus&amp;#x5F00;&amp;#x59CB;&amp;#x4E4B;&amp;#x524D;&amp;#x90FD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&amp;#x4EE3;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EventBus.getDefault().register(this)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;getDefault()&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;EventBus&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static EventBus getDefault() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (defaultInstance == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        synchronized (EventBus.class) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (defaultInstance == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                defaultInstance = new EventBus();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return defaultInstance;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x6E90;&amp;#x7801;&amp;#x53D1;&amp;#x73B0;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5178;&amp;#x578B;&amp;#x7684;singleton pattern(&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;)&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x5B9E;&amp;#x4F8B;&amp;#x7684;&amp;#x5168;&amp;#x5C40;&amp;#x5316;&amp;#xFF0C;&amp;#x51CF;&amp;#x5C11;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x5F00;&amp;#x9500;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8FDB;&amp;#x5165;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x518C;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void register(Object subscriber) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Class&amp;lt;?&amp;gt; subscriberClass = subscriber.getClass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x83B7;&amp;#x53D6;&amp;#x8BE5;&amp;#x8BA2;&amp;#x9605;&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x8BA2;&amp;#x9605;&amp;#x4E86;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    List&amp;lt;SubscriberMethod&amp;gt; subscriberMethods = subscriberMethodFinder.findSubscriberMethods(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    synchronized (this) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (SubscriberMethod subscriberMethod : subscriberMethods) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            subscribe(subscriber, subscriberMethod);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;subscriberMethodFinder&lt;/code&gt;&amp;#x6210;&amp;#x5458;&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;findSubscriberMethods&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6570;&amp;#x7EC4;&amp;#x3002;&amp;#x8F6C;&amp;#x5230;findSubscriberMethods&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;List&amp;lt;SubscriberMethod&amp;gt; findSubscriberMethods(Class&amp;lt;?&amp;gt; subscriberClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x901A;&amp;#x8FC7;&amp;#x672C;&amp;#x5730;&amp;#x7F13;&amp;#x5B58;&amp;#x67E5;&amp;#x627E;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#x8BE5;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    List&amp;lt;SubscriberMethod&amp;gt; subscriberMethods = METHOD_CACHE.get(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscriberMethods != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return subscriberMethods;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (ignoreGeneratedIndex) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        subscriberMethods = findUsingReflection(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x4F7F;&amp;#x7528;&amp;#x6570;&amp;#x7EC4;&amp;#x7D22;&amp;#x5F15;&amp;#x65B9;&amp;#x5F0F;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        subscriberMethods = findUsingInfo(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscriberMethods.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throw new EventBusException(&amp;quot;Subscriber &amp;quot; + subscriberClass&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                + &amp;quot; and its super classes have no public methods with the @Subscribe annotation&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5C06;&amp;#x7ED3;&amp;#x679C;&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x672C;&amp;#x5730;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        METHOD_CACHE.put(subscriberClass, subscriberMethods);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return subscriberMethods;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x5173;&amp;#x952E;&amp;#x90E8;&amp;#x5206;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5199;&amp;#x51FA;&amp;#x6765;&amp;#x4E86;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x672C;&amp;#x5730;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x6CA1;&amp;#x6709;&amp;#xFF0C;&amp;#x5219;&amp;#x83B7;&amp;#x53D6;&amp;#x65B9;&amp;#x5F0F;&amp;#x6839;&amp;#x636E;&lt;code&gt;ignoreGeneratedIndex&lt;/code&gt;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x79CD;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&lt;code&gt;ignoreGeneratedIndex&lt;/code&gt;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;false&amp;#x3002;&amp;#x8BE5;&amp;#x5B57;&amp;#x6BB5;&amp;#x7684;&amp;#x503C;&amp;#x5728;EventBus&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x7684;&amp;#x9002;&amp;#x5408;&amp;#x9ED8;&amp;#x8BA4;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EventBus(EventBusBuilder builder) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    subscriptionsByEventType = new HashMap&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    typesBySubscriber = new HashMap&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    stickyEvents = new ConcurrentHashMap&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mainThreadPoster = new HandlerPoster(this, Looper.getMainLooper(), 10);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    backgroundPoster = new BackgroundPoster(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    asyncPoster = new AsyncPoster(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    indexCount = builder.subscriberInfoIndexes != null ? builder.subscriberInfoIndexes.size() : 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6210;&amp;#x5458;&amp;#x5B57;&amp;#x6BB5;&amp;#x7684;&amp;#x9ED8;&amp;#x8BA4;&amp;#x5B9E;&amp;#x73B0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    subscriberMethodFinder = new SubscriberMethodFinder(builder.subscriberInfoIndexes,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            builder.strictMethodVerification, builder.ignoreGeneratedIndex);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    logSubscriberExceptions = builder.logSubscriberExceptions;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    logNoSubscriberMessages = builder.logNoSubscriberMessages;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sendSubscriberExceptionEvent = builder.sendSubscriberExceptionEvent;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sendNoSubscriberEvent = builder.sendNoSubscriberEvent;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    throwSubscriberException = builder.throwSubscriberException;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    eventInheritance = builder.eventInheritance;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    executorService = builder.executorService;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x663E;&amp;#x800C;&amp;#x6613;&amp;#x89C1;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;builder&amp;#x6A21;&amp;#x5F0F;&amp;#x6765;&amp;#x914D;&amp;#x7F6E;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x503C;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x9700;&amp;#x8981;&amp;#x6539;&amp;#x53D8;&amp;#x8FD9;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x503C;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;builder&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EventBus eventBus = EventBus.builder().ignoreGeneratedIndex(true).build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;eventBus.register(this);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&quot;&amp;#x7D22;&amp;#x5F15;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;a href=&quot;#&amp;#x7D22;&amp;#x5F15;&amp;#x673A;&amp;#x5236;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7D22;&amp;#x5F15;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;/a&gt;&amp;#x7D22;&amp;#x5F15;&amp;#x673A;&amp;#x5236;&lt;/h3&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;false&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5C31;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;findUsingInfo&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private List&amp;lt;SubscriberMethod&amp;gt; findUsingInfo(Class&amp;lt;?&amp;gt; subscriberClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;findState&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FindState findState = prepareFindState();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x521D;&amp;#x59CB;&amp;#x5316;findState&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    findState.initForSubscriber(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    while (findState.clazz != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x5E76;&amp;#x4FDD;&amp;#x5B58;&amp;#x5728;findState&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        findState.subscriberInfo = getSubscriberInfo(findState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (findState.subscriberInfo != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            SubscriberMethod[] array = findState.subscriberInfo.getSubscriberMethods();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            for (SubscriberMethod subscriberMethod : array) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (findState.checkAdd(subscriberMethod.method, subscriberMethod.eventType)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                	//&amp;#x4FDD;&amp;#x5B58;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    findState.subscriberMethods.add(subscriberMethod);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        	//&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x6240;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            findUsingReflectionInSingleClass(findState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x8F6C;&amp;#x79FB;&amp;#x5230;&amp;#x7236;&amp;#x7C7B;&amp;#x67E5;&amp;#x627E;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        findState.moveToSuperclass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5C06;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x91CD;&amp;#x65B0;&amp;#x6DFB;&amp;#x52A0;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B0;&amp;#x7684;List&amp;#x96C6;&amp;#x5408;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5E76;&amp;#x91CA;&amp;#x653E;findState&amp;#x4E2D;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return getMethodsAndRelease(findState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x5730;&amp;#x65B9;&amp;#x662F;getSubscriberInfo&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x67E5;&amp;#x627E;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;index&amp;#x7D22;&amp;#x5F15;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FD8;&amp;#x662F;&amp;#x6CA1;&amp;#x6709;&amp;#x627E;&amp;#x5230;&amp;#xFF0C;&amp;#x5219;&amp;#x8F6C;&amp;#x5411;&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x8FDB;&amp;#x884C;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private SubscriberInfo getSubscriberInfo(FindState findState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (findState.subscriberInfo != null &amp;amp;&amp;amp; findState.subscriberInfo.getSuperSubscriberInfo() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        SubscriberInfo superclassInfo = findState.subscriberInfo.getSuperSubscriberInfo();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (findState.clazz == superclassInfo.getSubscriberClass()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            return superclassInfo;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscriberInfoIndexes != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x904D;&amp;#x5386;&amp;#x67E5;&amp;#x627E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (SubscriberInfoIndex index : subscriberInfoIndexes) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            SubscriberInfo info = index.getSubscriberInfo(findState.clazz);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (info != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                return info;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7684;&lt;code&gt;subscriberInfoIndexes&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&amp;#x4E4B;&amp;#x524D;builder&amp;#x4E2D;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x76F8;&amp;#x540C;&amp;#x5B57;&amp;#x6BB5;&amp;#x5C5E;&amp;#x6027;&amp;#x7684;&amp;#x503C;&amp;#x3002;&amp;#x8BE5;&amp;#x96C6;&amp;#x5408;&amp;#x7684;&amp;#x503C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;builder&amp;#x6765;&amp;#x52A8;&amp;#x6001;&amp;#x6DFB;&amp;#x52A0;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EventBus eventBus = EventBus.builder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .addIndex(new MyEventBusAppIndex())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    .addIndex(new MyEventBusLibIndex()).build();&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x662F;&amp;#x5168;&amp;#x90E8;&amp;#x901A;&amp;#x8FC7;index&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EA;&amp;#x6709;&amp;#x5728;EventBus &lt;code&gt;3.x&lt;/code&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x7248;&amp;#x672C;&amp;#x624D;&amp;#x6709;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6CA1;&amp;#x6709;&amp;#x4F7F;&amp;#x7528;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x76F8;&amp;#x5BF9;&amp;#x6765;&amp;#x8BF4;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x901F;&amp;#x5EA6;&amp;#x81EA;&amp;#x7136;&amp;#x4F1A;&amp;#x6BD4;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x66F4;&amp;#x5FEB;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;a href=&quot;#&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&quot;&gt;&lt;/a&gt;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&lt;/h3&gt;&lt;p&gt;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&amp;#x5728;findUsingReflectionInSingleClass&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&amp;#x77A7;&amp;#x77A7;&amp;#x5B83;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x6B65;&amp;#x9AA4;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void findUsingReflectionInSingleClass(FindState findState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Method[] methods;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // This is faster than getMethods, especially when subscribers are fat classes like Activities&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x83B7;&amp;#x53D6;&amp;#x6CE8;&amp;#x518C;&amp;#x5BF9;&amp;#x8C61;&amp;#x4E2D;&amp;#x58F0;&amp;#x660E;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        methods = findState.clazz.getDeclaredMethods();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } catch (Throwable th) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        // Workaround for java.lang.NoClassDefFoundError, see https://github.com/greenrobot/EventBus/issues/149&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        methods = findState.clazz.getMethods();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        findState.skipSuperClasses = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    for (Method method : methods) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int modifiers = method.getModifiers();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x83B7;&amp;#x53D6;&amp;#x516C;&amp;#x6709;&amp;#x4E14;&amp;#x975E;&amp;#x62BD;&amp;#x8C61;&amp;#x6216;&amp;#x8005;&amp;#x9759;&amp;#x6001;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if ((modifiers &amp;amp; Modifier.PUBLIC) != 0 &amp;amp;&amp;amp; (modifiers &amp;amp; MODIFIERS_IGNORE) == 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Class&amp;lt;?&amp;gt;[] parameterTypes = method.getParameterTypes();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x83B7;&amp;#x53D6;&amp;#x53EA;&amp;#x8981;&amp;#x4E00;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (parameterTypes.length == 1) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x7C7B;&amp;#x578B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Subscribe subscribeAnnotation = method.getAnnotation(Subscribe.class);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (subscribeAnnotation != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    Class&amp;lt;?&amp;gt; eventType = parameterTypes[0];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    if (findState.checkAdd(method, eventType)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    	//&amp;#x83B7;&amp;#x53D6;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E2D;&amp;#x7684;ThreadMode&amp;#x7684;&amp;#x503C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        ThreadMode threadMode = subscribeAnnotation.threadMode();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        //&amp;#x5C06;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x4FDD;&amp;#x5B58;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        findState.subscriberMethods.add(new SubscriberMethod(method, eventType, threadMode,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                                subscribeAnnotation.priority(), subscribeAnnotation.sticky()));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else if (strictMethodVerification &amp;amp;&amp;amp; method.isAnnotationPresent(Subscribe.class)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                String methodName = method.getDeclaringClass().getName() + &amp;quot;.&amp;quot; + method.getName();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                throw new EventBusException(&amp;quot;@Subscribe method &amp;quot; + methodName +&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        &amp;quot;must have exactly 1 parameter but has &amp;quot; + parameterTypes.length);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (strictMethodVerification &amp;amp;&amp;amp; method.isAnnotationPresent(Subscribe.class)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            String methodName = method.getDeclaringClass().getName() + &amp;quot;.&amp;quot; + method.getName();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            throw new EventBusException(methodName +&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    &amp;quot; is a illegal @Subscribe method: must be public, non-static, and non-abstract&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5173;&amp;#x952E;&amp;#x6CE8;&amp;#x91CA;&amp;#x5DF2;&amp;#x7ED9;&amp;#x51FA;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x539F;&amp;#x7406;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x6240;&amp;#x9700;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x4FDD;&amp;#x5B58;&amp;#x4E0B;&amp;#x6765;&amp;#x4EE5;&amp;#x4FBF;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x53D1;&amp;#x5E03;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x4E4B;&amp;#x524D;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x6B65;&amp;#x9AA4;&amp;#x5F00;&amp;#x59CB;&amp;#x7684;&amp;#x5916;&amp;#x90E8;&amp;#x8C03;&amp;#x7528;&amp;#x65B9;&amp;#x6CD5;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private List&amp;lt;SubscriberMethod&amp;gt; findUsingReflection(Class&amp;lt;?&amp;gt; subscriberClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FindState findState = prepareFindState();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    findState.initForSubscriber(subscriberClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    while (findState.clazz != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        findUsingReflectionInSingleClass(findState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        findState.moveToSuperclass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return getMethodsAndRelease(findState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x903B;&amp;#x8F91;&amp;#x8DDF;&amp;#x4F7F;&amp;#x7528;&amp;#x7D22;&amp;#x5F15;&amp;#x65B9;&amp;#x5F0F;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x5C11;&amp;#x4E86;&amp;#x5BF9;&amp;#x7D22;&amp;#x5F15;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x67E5;&amp;#x627E;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x8BA2;&amp;#x9605;&quot;&gt;&lt;a href=&quot;#&amp;#x8BA2;&amp;#x9605;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BA2;&amp;#x9605;&quot;&gt;&lt;/a&gt;&amp;#x8BA2;&amp;#x9605;&lt;/h3&gt;&lt;p&gt;&amp;#x56DE;&amp;#x5230;register&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x5DF2;&amp;#x7ECF;&amp;#x83B7;&amp;#x53D6;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x5F00;&amp;#x59CB;&amp;#x8FDB;&amp;#x884C;&amp;#x8BA2;&amp;#x9605;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x672C;&amp;#x8D28;&amp;#x662F;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x7BA1;&amp;#x7406;&amp;#x4FDD;&amp;#x5B58;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;subscribe&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;  private void subscribe(Object subscriber, SubscriberMethod subscriberMethod) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  	//&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x6240;&amp;#x7533;&amp;#x660E;&amp;#x7684;&amp;#x53C2;&amp;#x6570;class&amp;#x7C7B;&amp;#x578B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Class&amp;lt;?&amp;gt; eventType = subscriberMethod.eventType;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      //&amp;#x5BF9;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4E0E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5EFA;&amp;#x7ACB;&amp;#x8054;&amp;#x7CFB;&amp;#xFF0C;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#x7BA1;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Subscription newSubscription = new Subscription(subscriber, subscriberMethod);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      //&amp;#x901A;&amp;#x8FC7;EventType&amp;#x6765;&amp;#x67E5;&amp;#x627E;&amp;#x5173;&amp;#x8054;&amp;#x7684;subscribetions&amp;#x96C6;&amp;#x5408;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      CopyOnWriteArrayList&amp;lt;Subscription&amp;gt; subscriptions = subscriptionsByEventType.get(eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (subscriptions == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          subscriptions = new CopyOnWriteArrayList&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          //&amp;#x4FDD;&amp;#x5B58;&amp;#x65B0;&amp;#x7684;eventType&amp;#x7684;subscriptions&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          subscriptionsByEventType.put(eventType, subscriptions);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (subscriptions.contains(newSubscription)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              throw new EventBusException(&amp;quot;Subscriber &amp;quot; + subscriber.getClass() + &amp;quot; already registered to event &amp;quot;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                      + eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      int size = subscriptions.size();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      for (int i = 0; i &amp;lt;= size; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      	//&amp;#x6839;&amp;#x636E;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F18;&amp;#x5148;&amp;#x7EA7;&amp;#x63D2;&amp;#x5165;&amp;#x5230;subscriptions&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (i == size || subscriberMethod.priority &amp;gt; subscriptions.get(i).subscriberMethod.priority) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              subscriptions.add(i, newSubscription);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6839;&amp;#x636E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x6765;&amp;#x67E5;&amp;#x627E;&amp;#x6240;&amp;#x6709;&amp;#x7684;EventType&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; subscribedEvents = typesBySubscriber.get(subscriber);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (subscribedEvents == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          subscribedEvents = new ArrayList&amp;lt;&amp;gt;();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          typesBySubscriber.put(subscriber, subscribedEvents);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      //&amp;#x6839;&amp;#x636E;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4FDD;&amp;#x5B58;&amp;#x6240;&amp;#x6709;&amp;#x7684;EventType&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      subscribedEvents.add(eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x5BF9;&amp;#x5177;&amp;#x6709;sticky&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x76F4;&amp;#x63A5;&amp;#x53D1;&amp;#x5E03;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (subscriberMethod.sticky) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      	//&amp;#x9A8C;&amp;#x8BC1;eventType&amp;#x4E0E;stickyEvent&amp;#x95F4;&amp;#x7684;&amp;#x7EE7;&amp;#x627F;&amp;#x5173;&amp;#x7CFB;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4E3A;true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (eventInheritance) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              // Existing sticky events of all subclasses of eventType have to be considered.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              // Note: Iterating over all events may be inefficient with lots of sticky events,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              // thus data structure should be changed to allow a more efficient lookup&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              // (e.g. an additional map storing sub classes of super classes: Class -&amp;gt; List&amp;lt;Class&amp;gt;).&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              Set&amp;lt;Map.Entry&amp;lt;Class&amp;lt;?&amp;gt;, Object&amp;gt;&amp;gt; entries = stickyEvents.entrySet();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              for (Map.Entry&amp;lt;Class&amp;lt;?&amp;gt;, Object&amp;gt; entry : entries) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  Class&amp;lt;?&amp;gt; candidateEventType = entry.getKey();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  //&amp;#x5224;&amp;#x65AD;eventType&amp;#x662F;&amp;#x5426;&amp;#x662F;candidateEventType&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&amp;#x6216;&amp;#x8005;&amp;#x540C;&amp;#x4E00;&amp;#x79CD;&amp;#x7C7B;&amp;#x578B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  if (eventType.isAssignableFrom(candidateEventType)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                      Object stickyEvent = entry.getValue();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                      //&amp;#x53D1;&amp;#x5E03;&amp;#x4E8B;&amp;#x4EF6;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                      checkPostStickyEventToSubscription(newSubscription, stickyEvent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              Object stickyEvent = stickyEvents.get(eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              //&amp;#x53D1;&amp;#x5E03;&amp;#x4E8B;&amp;#x4EF6;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              checkPostStickyEventToSubscription(newSubscription, stickyEvent);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;&amp;#x975E;sticky&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;eventType&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;subscriptions&amp;#x4E0E;&amp;#x6839;&amp;#x636E;subscribe&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;eventType&amp;#xFF1B;&amp;#x53E6;&amp;#x4E00;&amp;#x79CD;&amp;#x662F;sticky&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6700;&amp;#x7EC8;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8FDB;&amp;#x884C;&amp;#x76F4;&amp;#x63A5;&amp;#x53D1;&amp;#x5E03;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&quot;&gt;&lt;a href=&quot;#EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&quot; class=&quot;headerlink&quot; title=&quot;EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&quot;&gt;&lt;/a&gt;EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&lt;/h2&gt;&lt;p&gt;EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&amp;#x662F;&amp;#x8C03;&amp;#x7528;post&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6307;&amp;#x5B9A;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;Event&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x6301;&amp;#x6709;&amp;#x8BE5;&amp;#x76F8;&amp;#x5173;Event&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x90FD;&amp;#x80FD;&amp;#x6536;&amp;#x5230;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x3002;&amp;#x5177;&amp;#x4F53;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;EventBus.getDefault().post(new MyEvent());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x6216;&amp;#x8005;&amp;#x53D1;&amp;#x5E03;sticky&amp;#x7C7B;&amp;#x578B;&amp;#x7684;event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;EventBus.getDefault().postSticky(new MyEvent());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;sticky&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x4E8B;&amp;#x4EF6;&amp;#x53D1;&amp;#x5E03;&amp;#xFF0C;&amp;#x672C;&amp;#x8D28;&amp;#x4E0A;&amp;#x8FD8;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;post&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x589E;&amp;#x52A0;&amp;#x4E86;&amp;#x5BF9;sticky event&amp;#x7684;&amp;#x540C;&amp;#x6B65;&amp;#x4FDD;&amp;#x5B58;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void postSticky(Object event) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    synchronized (stickyEvents) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        stickyEvents.put(event.getClass(), event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // Should be posted after it is putted, in case the subscriber wants to remove immediately&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    post(event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x8FD8;&amp;#x662F;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;post&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;  public void post(Object event) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      PostingThreadState postingState = currentPostingThreadState.get();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      List&amp;lt;Object&amp;gt; eventQueue = postingState.eventQueue;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      eventQueue.add(event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;//&amp;#x672C;&amp;#x5730;&amp;#x7EBF;&amp;#x7A0B;&amp;#x662F;&amp;#x5426;&amp;#x6B63;&amp;#x5728;&amp;#x53D1;&amp;#x5E03;event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (!postingState.isPosting) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          postingState.isMainThread = isMainThread();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          postingState.isPosting = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (postingState.canceled) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              throw new EventBusException(&amp;quot;Internal error. Abort state was not reset&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              while (!eventQueue.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              	//&amp;#x9010;&amp;#x4E00;&amp;#x53D1;&amp;#x5E03;&amp;#x5355;&amp;#x4E2A;event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                  postSingleEvent(eventQueue.remove(0), postingState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              postingState.isPosting = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              postingState.isMainThread = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x53D1;&amp;#x5E03;&amp;#x4E2D;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;currentPostingThreadState&amp;#x5B57;&amp;#x6BB5;&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;ThreadLocal&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&amp;#x4E2D;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x53D1;&amp;#x5E03;&amp;#x961F;&amp;#x5217;&amp;#x5728;&amp;#x8FDB;&amp;#x884C;&amp;#x4E2D;&amp;#x3002;&amp;#x628A;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x53D1;&amp;#x5E03;&amp;#x7684;event&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x6B63;&amp;#x5728;&amp;#x8FDB;&amp;#x884C;&amp;#x4E2D;&amp;#x7684;&amp;#x961F;&amp;#x5F62;&amp;#x4E2D;&amp;#x3002;&amp;#x5BF9;&amp;#x8BE5;&amp;#x961F;&amp;#x5217;&amp;#x4E2D;&amp;#x7684;event&amp;#x8FDB;&amp;#x884C;&amp;#x9010;&amp;#x4E2A;&amp;#x53D6;&amp;#x51FA;&amp;#x53D1;&amp;#x5E03;&amp;#x3002;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E3A;postSingleEvent&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void postSingleEvent(Object event, PostingThreadState postingState) throws Error {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Class&amp;lt;?&amp;gt; eventClass = event.getClass();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    boolean subscriptionFound = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5982;&amp;#x679C;&amp;#x5F00;&amp;#x542F;&amp;#x4E86;event&amp;#x7684;&amp;#x7EE7;&amp;#x627F;&amp;#x673A;&amp;#x5236;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (eventInheritance) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x67E5;&amp;#x627E;&amp;#x6240;&amp;#x6709;&amp;#x7684;eventType&amp;#xFF0C;&amp;#x5373;&amp;#x5305;&amp;#x62EC;&amp;#x5B83;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&amp;#x4E0E;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; eventTypes = lookupAllEventTypes(eventClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int countTypes = eventTypes.size();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int h = 0; h &amp;lt; countTypes; h++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Class&amp;lt;?&amp;gt; clazz = eventTypes.get(h);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x53EA;&amp;#x8981;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;eventType&amp;#x88AB;&amp;#x627E;&amp;#x5230;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;subscription&amp;#xFF0C;&amp;#x5C31;&amp;#x4E3A;true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            subscriptionFound |= postSingleEventForEventType(event, postingState, clazz);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x6807;&amp;#x8BC6;&amp;#x8BE5;eventType&amp;#x662F;&amp;#x5426;&amp;#x6709;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;subscription&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        subscriptionFound = postSingleEventForEventType(event, postingState, eventClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x627E;&amp;#x5230;&amp;#xFF0C;&amp;#x5219;&amp;#x53D1;&amp;#x5E03;&amp;#x4E00;&amp;#x4E2A;&amp;#x9ED8;&amp;#x8BA4;&amp;#x7684;event&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (!subscriptionFound) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (logNoSubscriberMessages) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            logger.log(Level.FINE, &amp;quot;No subscribers registered for event &amp;quot; + eventClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (sendNoSubscriberEvent &amp;amp;&amp;amp; eventClass != NoSubscriberEvent.class &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                eventClass != SubscriberExceptionEvent.class) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            post(new NoSubscriberEvent(this, event));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x51FA;&amp;#x5173;&amp;#x952E;&amp;#x4EE3;&amp;#x7801;&amp;#x662F;postSingleEventForEventType&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x627E;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;subscriptions&amp;#xFF0C;&amp;#x5373;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0E;&amp;#x8BE5;eventType&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4E2D;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private boolean postSingleEventForEventType(Object event, PostingThreadState postingState, Class&amp;lt;?&amp;gt; eventClass) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CopyOnWriteArrayList&amp;lt;Subscription&amp;gt; subscriptions;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    synchronized (this) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x901A;&amp;#x8FC7;eventType&amp;#x6765;&amp;#x627E;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;subscriptions&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        subscriptions = subscriptionsByEventType.get(eventClass);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscriptions != null &amp;amp;&amp;amp; !subscriptions.isEmpty()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (Subscription subscription : subscriptions) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            postingState.event = event;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            postingState.subscription = subscription;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            boolean aborted = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x53D1;&amp;#x5E03;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                postToSubscription(subscription, event, postingState.isMainThread);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                aborted = postingState.canceled;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                postingState.event = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                postingState.subscription = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                postingState.canceled = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (aborted) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x4ECE;subscriptionsByEventType&amp;#x4E2D;&amp;#x627E;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;eventType&amp;#x7684;subscriptions&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x8F6C;&amp;#x5165;&amp;#x5230;postToSubscription&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void postToSubscription(Subscription subscription, Object event, boolean isMainThread) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    switch (subscription.subscriberMethod.threadMode) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case POSTING:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        	//&amp;#x8C03;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4E2D;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            invokeSubscriber(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case MAIN:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        	//&amp;#x5728;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (isMainThread) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x8C03;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                invokeSubscriber(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6392;&amp;#x961F;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mainThreadPoster.enqueue(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case MAIN_ORDERED:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (mainThreadPoster != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6392;&amp;#x961F;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                mainThreadPoster.enqueue(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                // temporary: technically not correct as poster not decoupled from subscriber&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x8C03;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                invokeSubscriber(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case BACKGROUND:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (isMainThread) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x540E;&amp;#x53F0;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6392;&amp;#x961F;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                backgroundPoster.enqueue(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x8C03;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                invokeSubscriber(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        case ASYNC:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        	//&amp;#x52A0;&amp;#x5165;&amp;#x5230;&amp;#x5F02;&amp;#x6B65;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6392;&amp;#x961F;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x53D1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            asyncPoster.enqueue(subscription, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            break;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        default:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            throw new IllegalStateException(&amp;quot;Unknown thread mode: &amp;quot; + subscription.subscriberMethod.threadMode);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x6839;&amp;#x636E;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;threadMode&amp;#x8FDB;&amp;#x884C;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;POSTING&amp;#xFF1A;&amp;#x5F53;&amp;#x524D;&amp;#x7EBF;&amp;#x7A0B;&lt;/li&gt;
&lt;li&gt;MAIN&amp;#xFF1A;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&lt;/li&gt;
&lt;li&gt;MAIN_ORDERED&amp;#xFF1A;&amp;#x4E3B;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6392;&amp;#x961F;&amp;#x5206;&amp;#x53D1;&lt;/li&gt;
&lt;li&gt;BACKGROUND&amp;#xFF1A;&amp;#x540E;&amp;#x53F0;&amp;#x7EBF;&amp;#x7A0B;&lt;/li&gt;
&lt;li&gt;ASYNC&amp;#xFF1A;&amp;#x5F02;&amp;#x6B65;&amp;#x7EBF;&amp;#x7A0B;&amp;#x6C60;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4E0D;&amp;#x7BA1;&amp;#x662F;&amp;#x6392;&amp;#x961F;&amp;#x5206;&amp;#x53D1;&amp;#x8FD8;&amp;#x662F;&amp;#x76F4;&amp;#x63A5;&amp;#x5206;&amp;#x53D1;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x90FD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;invokeSubscriber&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;void invokeSubscriber(Subscription subscription, Object event) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    	//&amp;#x5229;&amp;#x7528;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x6765;&amp;#x8C03;&amp;#x7528;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4E2D;&amp;#x7684;&amp;#x5BF9;&amp;#x4E8E;&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        subscription.subscriberMethod.method.invoke(subscription.subscriber, event);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } catch (InvocationTargetException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        handleSubscriberException(subscription, event, e.getCause());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } catch (IllegalAccessException e) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        throw new IllegalStateException(&amp;quot;Unexpected exception&amp;quot;, e);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&amp;#x5B9E;&amp;#x73B0;&amp;#x8FD8;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&amp;#x53CD;&amp;#x5C04;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x6765;&amp;#x5B9A;&amp;#x4E49;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;EventBus&amp;#x7684;&amp;#x53D1;&amp;#x5E03;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5C31;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x8FDB;&amp;#x5165;&amp;#x6700;&amp;#x540E;&amp;#x7684;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&quot;&gt;&lt;a href=&quot;#EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&quot; class=&quot;headerlink&quot; title=&quot;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&quot;&gt;&lt;/a&gt;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public synchronized void unregister(Object subscriber) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//&amp;#x901A;&amp;#x8FC7;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x67E5;&amp;#x627E;&amp;#x5230;&amp;#x6240;&amp;#x6709;&amp;#x7684;eventType&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    List&amp;lt;Class&amp;lt;?&amp;gt;&amp;gt; subscribedTypes = typesBySubscriber.get(subscriber);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscribedTypes != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (Class&amp;lt;?&amp;gt; eventType : subscribedTypes) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        	//&amp;#x6CE8;&amp;#x9500;&amp;#x6240;&amp;#x6709;&amp;#x7684;subscriptions&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            unsubscribeByEventType(subscriber, eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5220;&amp;#x9664;&amp;#x6CE8;&amp;#x9500;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        typesBySubscriber.remove(subscriber);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        logger.log(Level.WARNING, &amp;quot;Subscriber to unregister was not registered before: &amp;quot; + subscriber.getClass());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x590D;&amp;#x6742;&amp;#x7684;&amp;#x90FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5206;&amp;#x6790;&amp;#x5B8C;&amp;#x4E86;&amp;#xFF0C;&amp;#x76F8;&amp;#x5BF9;&amp;#x6765;&amp;#x8BF4;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&amp;#x5C31;&amp;#x7B80;&amp;#x5355;&amp;#x591A;&amp;#x4E86;&amp;#xFF0C;&amp;#x65E0;&amp;#x975E;&amp;#x5220;&amp;#x9664;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&amp;#x5728;unregister&amp;#x4E2D;&amp;#x9996;&amp;#x5148;&amp;#x901A;&amp;#x8FC7;typesBySubscriber&amp;#x627E;&amp;#x5230;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x6240;&amp;#x4EE5;eventType&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x8C03;&amp;#x7528;unsubscribeByEventType&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x5220;&amp;#x9664;&amp;#x6240;&amp;#x6709;&amp;#x7684;subscriptions&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x5C06;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4ECE;typesBySubscriber&amp;#x4E2D;&amp;#x79FB;&amp;#x9664;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;unsubscribeByEventType&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void unsubscribeByEventType(Object subscriber, Class&amp;lt;?&amp;gt; eventType) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	//&amp;#x901A;&amp;#x8FC7;eventType&amp;#x627E;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;subscriptions&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    List&amp;lt;Subscription&amp;gt; subscriptions = subscriptionsByEventType.get(eventType);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (subscriptions != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        int size = subscriptions.size();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x904D;&amp;#x5386;&amp;#x6240;&amp;#x6709;&amp;#x7684;subscription&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        for (int i = 0; i &amp;lt; size; i++) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            Subscription subscription = subscriptions.get(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (subscription.subscriber == subscriber) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            	//&amp;#x8BBE;&amp;#x7F6E;subscription&amp;#x7684;&amp;#x72B6;&amp;#x6001;&amp;#x4E3A;&amp;#x975E;&amp;#x6D3B;&amp;#x8DC3;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x4FDD;&amp;#x8BC1;&amp;#x6B63;&amp;#x5728;&amp;#x4E8B;&amp;#x4EF6;&amp;#x5206;&amp;#x53D1;&amp;#x65F6;&amp;#xFF0C;&amp;#x8BE5;subscription&amp;#x4E0D;&amp;#x88AB;&amp;#x5206;&amp;#x53D1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                subscription.active = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                //&amp;#x5220;&amp;#x9664;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                subscriptions.remove(i);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                i--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                size--;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x903B;&amp;#x8F91;&amp;#x4E5F;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x66F4;&amp;#x65B0;subscriptionsByEventType&amp;#x4E2D;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#xFF0C;&amp;#x5C06;&amp;#x6CE8;&amp;#x9500;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x79FB;&amp;#x9664;&amp;#x3002;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;EventBus&amp;#x7684;&amp;#x6CE8;&amp;#x9500;&amp;#x4E5F;&amp;#x5206;&amp;#x6790;&amp;#x5B8C;&amp;#x6BD5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;EventBus&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x6D41;&amp;#x7A0B;&amp;#x662F;&amp;#xFF1A;&amp;#x5BF9;&amp;#x9700;&amp;#x8981;&amp;#x8BA2;&amp;#x9605;&amp;#x7684;&amp;#x7C7B;&amp;#x8FDB;&amp;#x884C;register&amp;#xFF0C;&amp;#x5728;register&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6839;&amp;#x636E;ignoreGeneratedIndex&amp;#x5B57;&amp;#x6BB5;&amp;#x6765;&amp;#x5206;&amp;#x522B;&amp;#x8FDB;&amp;#x884C;index&amp;#x7D22;&amp;#x5F15;&amp;#x6216;&amp;#x8005;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x83B7;&amp;#x53D6;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x4E2D;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x65B9;&amp;#x6CD5;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x53E6;&amp;#x5916;&amp;#x5982;&amp;#x679C;index&amp;#x7D22;&amp;#x5F15;&amp;#x65B9;&amp;#x6CD5;&amp;#x6CA1;&amp;#x6709;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8FD8;&amp;#x662F;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x4FDD;&amp;#x5E95;&amp;#x83B7;&amp;#x53D6;&amp;#xFF1B;&amp;#x7136;&amp;#x540E;&amp;#x5C31;&amp;#x662F;subscribe&amp;#xFF0C;&amp;#x5C06;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4FE1;&amp;#x606F;&amp;#x4FE1;&amp;#x606F;&amp;#x8FDB;&amp;#x884C;&amp;#x4FDD;&amp;#x5B58;&amp;#xFF1B;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x662F;post&amp;#xFF0C;&amp;#x4ECE;&amp;#x4FDD;&amp;#x5B58;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4FE1;&amp;#x606F;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x5339;&amp;#x914D;&amp;#x5230;&amp;#x5BF9;&amp;#x4E8E;&amp;#x7684;event&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x53CD;&amp;#x5C04;&amp;#x673A;&amp;#x5236;&amp;#x7684;invoke&amp;#x8C03;&amp;#x7528;&amp;#x5339;&amp;#x914D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x5BF9;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x8FDB;&amp;#x884C;&amp;#x6CE8;&amp;#x9500;&amp;#xFF0C;&amp;#x91CA;&amp;#x653E;&amp;#x8D44;&amp;#x6E90;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;a href=&quot;#&amp;#x5173;&amp;#x6CE8;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x5173;&amp;#x6CE8;&quot;&gt;&lt;/a&gt;&amp;#x5173;&amp;#x6CE8;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;/2018/02/27/EventBus&amp;#x7684;&amp;#x5DE5;&amp;#x4F5C;&amp;#x539F;&amp;#x7406;&amp;#x603B;&amp;#x7ED3;/wx.jpg&quot; alt=&quot;&amp;#x602A;&amp;#x8C08;&amp;#x65F6;&amp;#x95F4;&amp;#x5230;&amp;#x4E86;&quot;&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;a href=&quot;#&amp;#x6982;&amp;#x5FF5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;/a&gt;&amp;#x6982;&amp;#x5FF5;&lt;/h2&gt;&lt;p&gt;EventBus&amp;#x662
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Fresco源码分析之Producer</title>
    <link href="https://idisfkj.github.io/2017/12/28/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BProducer/"/>
    <id>https://idisfkj.github.io/2017/12/28/Fresco源码分析之Producer/</id>
    <published>2017-12-28T15:45:36.000Z</published>
    <updated>2018-03-29T00:45:34.354Z</updated>
    
    <content type="html">&lt;p&gt;Fresco&amp;#x6709;&amp;#x4E09;&amp;#x7EA7;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x8FD9;&amp;#x4E09;&amp;#x7EA7;&amp;#x7F13;&amp;#x5B58;&amp;#x6CA1;&amp;#x6709;&amp;#x627E;&amp;#x5230;&amp;#x5BF9;&amp;#x5E94;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x65F6;&amp;#xFF0C;&amp;#x624D;&amp;#x4F1A;&amp;#x8D70;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FD9;&amp;#x6761;&amp;#x8DEF;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;Fresco&amp;#x53C8;&amp;#x662F;&amp;#x600E;&amp;#x4E48;&amp;#x7BA1;&amp;#x7406;&amp;#x8FD9;&amp;#x4E9B;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x6216;&amp;#x8005;&amp;#x8BF4;&amp;#x5982;&amp;#x4F55;&amp;#x4ECE;&amp;#x8FD9;&amp;#x4E9B;&amp;#x6B65;&amp;#x9AA4;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;Result&amp;#x5E76;&amp;#x4E14;&amp;#x8FD4;&amp;#x56DE;&amp;#x7ED9;UI&amp;#x5C42;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65F6;&amp;#x5019;&amp;#x5C31;&amp;#x8BE5;Producer&amp;#x51FA;&amp;#x573A;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Producer&quot;&gt;&lt;a href=&quot;#Producer&quot; class=&quot;headerlink&quot; title=&quot;Producer&quot;&gt;&lt;/a&gt;Producer&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;Producer&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5B83;&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x4E00;&amp;#x4E2A;&amp;#x5F85;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;produceResults&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public interface Producer&amp;lt;T&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  /**&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   * Start producing results for given context. Provided consumer is notified whenever progress is&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   * made (new value is ready or error occurs).&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   * @param consumer&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   * @param context&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  void produceResults(Consumer&amp;lt;T&amp;gt; consumer, ProducerContext context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Producer&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x6765;&amp;#x6267;&amp;#x884C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x8D44;&amp;#x6E90;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x591A;&amp;#x6837;&amp;#x65B9;&amp;#x5F0F;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x7F51;&amp;#x7EDC;&amp;#x65B9;&amp;#x5F0F;&amp;#x3001;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x65B9;&amp;#x5F0F;&amp;#x3001;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x65B9;&amp;#x5F0F;&amp;#x3001;&amp;#x89E3;&amp;#x7801;&amp;#x65B9;&amp;#x5F0F;&amp;#x4E0E;&amp;#x4E00;&amp;#x4E9B;&amp;#x65CB;&amp;#x8F6C;&amp;#x53D8;&amp;#x6362;&amp;#x7B49;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x7684;Consumer&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x4E3A;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;Producer&amp;#x591A;&amp;#x6837;&amp;#x65B9;&amp;#x5F0F;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x903B;&amp;#x8F91;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x5185;&amp;#x90E8;&amp;#x9012;&amp;#x5F52;&amp;#x7684;&amp;#x65B9;&amp;#x5F0F;&amp;#x8FDB;&amp;#x884C;&amp;#x7684;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9012;&amp;#x5F52;&amp;#x56DE;&amp;#x8C03;&amp;#x5904;&amp;#x7406;&amp;#x662F;&amp;#x5FC5;&amp;#x4E0D;&amp;#x53EF;&amp;#x5C11;&amp;#x7684;&amp;#xFF1B;&amp;#x540C;&amp;#x65F6;&amp;#x5BF9;&amp;#x4E8E;&amp;#x5185;&amp;#x90E8;&amp;#x9012;&amp;#x5F52;&amp;#x65F6;&amp;#x4E00;&amp;#x4E9B;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x5219;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;ProducerContext&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x3002;ProducerContext&amp;#x53EA;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x63D0;&amp;#x4F9B;&amp;#x83B7;&amp;#x53D6;&amp;#x9700;&amp;#x8981;&amp;#x4F20;&amp;#x9012;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;Result&amp;#x5904;&amp;#x7406;&quot;&gt;&lt;a href=&quot;#Result&amp;#x5904;&amp;#x7406;&quot; class=&quot;headerlink&quot; title=&quot;Result&amp;#x5904;&amp;#x7406;&quot;&gt;&lt;/a&gt;Result&amp;#x5904;&amp;#x7406;&lt;/h2&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;Producer&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;Result&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x662F;&amp;#x5982;&amp;#x679C;&amp;#x5C06;&amp;#x6570;&amp;#x636E;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;UI&amp;#x5C42;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;UI&amp;#x66F4;&amp;#x65B0;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x89C6;&amp;#x56FE;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4E0A;&amp;#x4E00;&amp;#x7BC7;&amp;#x5173;&amp;#x4E8E;Controller&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#xFF0C;&amp;#x63D0;&amp;#x5230;&amp;#x5BF9;&amp;#x4E8E;DataSource&amp;#x662F;&amp;#x901A;&amp;#x8FC7;ImagePipeline&amp;#x4E2D;&amp;#x7684;fetchDecodeImage&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x7684;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x91CD;&amp;#x6E29;&amp;#x5B83;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public DataSource&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; fetchDecodedImage(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Object callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest.RequestLevel lowestPermittedRequestLevelOnSubmit) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; producerSequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mProducerSequenceFactory.getDecodedImageProducerSequence(imageRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return submitFetchRequest(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        producerSequence,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        lowestPermittedRequestLevelOnSubmit,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        callerContext);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } catch (Exception exception) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return DataSources.immediateFailedDataSource(exception);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x5982;&amp;#x613F;&amp;#x770B;&amp;#x5230;&amp;#x4E86;Producer&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x9012;&amp;#x5F52;&amp;#x5148;&amp;#x4E0D;&amp;#x770B;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x770B;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;submitFetchRequest&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private &amp;lt;T&amp;gt; DataSource&amp;lt;CloseableReference&amp;lt;T&amp;gt;&amp;gt; submitFetchRequest(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;CloseableReference&amp;lt;T&amp;gt;&amp;gt; producerSequence,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest.RequestLevel lowestPermittedRequestLevelOnSubmit,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Object callerContext) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final RequestListener requestListener = getRequestListenerForRequest(imageRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest.RequestLevel lowestPermittedRequestLevel =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ImageRequest.RequestLevel.getMax(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            imageRequest.getLowestPermittedRequestLevel(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            lowestPermittedRequestLevelOnSubmit);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SettableProducerContext settableProducerContext = new SettableProducerContext(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        generateUniqueFutureId(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        requestListener,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        lowestPermittedRequestLevel,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      /* isPrefetch */ false,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageRequest.getProgressiveRenderingEnabled() ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            imageRequest.getMediaVariations() != null ||&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            !UriUtil.isNetworkUri(imageRequest.getSourceUri()),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageRequest.getPriority());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return CloseableProducerToDataSourceAdapter.create(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        producerSequence,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        settableProducerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        requestListener);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } catch (Exception exception) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return DataSources.immediateFailedDataSource(exception);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x8BA9;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4F4D;&amp;#x5230;SettableProducerContext&amp;#xFF0C;&amp;#x5B83;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;ProducerContext&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x5BF9;producerSequence&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x9012;&amp;#x5F52;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x4F20;&amp;#x9012;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;ImageRequest&amp;#x3001;Id&amp;#x3001;ProducerListener&amp;#x4E0E;RequestLevel&amp;#x7B49;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x5C31;&amp;#x662F;&amp;#x771F;&amp;#x6B63;&amp;#x7684;DataSource&amp;#x7684;&amp;#x521B;&amp;#x5EFA;CloseableProducerToDataSourceAdapter.creat()&amp;#x3002;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;AbstractProducerToDataSourceAdapter&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;AbstractDataSource&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;DataSource&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&amp;#x5728;AbstractProducerToDataSourceAdapter&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x80FD;&amp;#x591F;&amp;#x627E;&amp;#x5230;&amp;#x6211;&amp;#x4EEC;&amp;#x60F3;&amp;#x8981;&amp;#x7684;&amp;#x4E1C;&amp;#x897F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected AbstractProducerToDataSourceAdapter(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;T&amp;gt; producer,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    SettableProducerContext settableProducerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    RequestListener requestListener) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mSettableProducerContext = settableProducerContext;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mRequestListener = requestListener;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mRequestListener.onRequestStart(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      settableProducerContext.getImageRequest(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mSettableProducerContext.getCallerContext(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mSettableProducerContext.getId(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mSettableProducerContext.isPrefetch());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //PostprocessedBitmapMemoryCacheProducer&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  producer.produceResults(createConsumer(), settableProducerContext);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;settableProducerContext&amp;#x6570;&amp;#x636E;&amp;#x4F20;&amp;#x9012;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x51FA;&amp;#x795E;&amp;#x5165;&amp;#x5316;&amp;#x3002;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;Producer&amp;#x7684;produceResults&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5F00;&amp;#x542F;&amp;#x9012;&amp;#x5F52;&amp;#x8C03;&amp;#x7528;&amp;#x5404;&amp;#x4E2A;Producer&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;Producer&amp;#x7684;produceResults&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8D44;&amp;#x6E90;&amp;#xFF0C;&amp;#x90FD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x4E0B;&amp;#x4E00;&amp;#x4E2A;Producer&amp;#x7684;produceResults&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x901A;&amp;#x8FC7;Consumer&amp;#x56DE;&amp;#x8C03;&amp;#x5230;&amp;#x6700;&amp;#x521D;&amp;#x7684;Producer&amp;#x4E2D;&amp;#xFF0C;&amp;#x5373;createConsumer()&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Consumer&amp;lt;T&amp;gt; createConsumer() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return new BaseConsumer&amp;lt;T&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onNewResultImpl(@Nullable T newResult, @Status int status) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      AbstractProducerToDataSourceAdapter.this.onNewResultImpl(newResult, status);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onFailureImpl(Throwable throwable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      AbstractProducerToDataSourceAdapter.this.onFailureImpl(throwable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onCancellationImpl() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      AbstractProducerToDataSourceAdapter.this.onCancellationImpl();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    protected void onProgressUpdateImpl(float progress) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      AbstractProducerToDataSourceAdapter.this.setProgress(progress);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;createConsumer()&amp;#x4E2D;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;onNewResultImpl&amp;#x3001;onFailureImpl&amp;#x3001;setProgress&amp;#x4E0E;onCancellationImpl&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5206;&amp;#x522B;&amp;#x4EE3;&amp;#x8868;&amp;#x6210;&amp;#x529F;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x3001;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x3001;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FDB;&amp;#x5EA6;&amp;#x56DE;&amp;#x8C03;&amp;#x4E0E;&amp;#x8BF7;&amp;#x6C42;&amp;#x53D6;&amp;#x6D88;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;&amp;#x524D;&amp;#x4E09;&amp;#x56DE;&amp;#x8C03;&amp;#x90FD;&amp;#x4F1A;&amp;#x89E6;&amp;#x53D1;AbstractDataSource&amp;#x4E2D;&amp;#x7684;notifyDataSubscribers()&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;onNewResultImpl&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void onNewResultImpl(@Nullable T result, int status) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  boolean isLast = BaseConsumer.isLast(status);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //setResult&amp;#x5C06;&amp;#x7ED3;&amp;#x679C;&amp;#x4F20;&amp;#x5165;AbstractDataSource&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (super.setResult(result, isLast)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (isLast) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mRequestListener.onRequestSuccess(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          mSettableProducerContext.getImageRequest(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          mSettableProducerContext.getId(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          mSettableProducerContext.isPrefetch());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&amp;#x7236;&amp;#x7C7B;&amp;#x7684;super.setResult()&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected boolean setResult(@Nullable T value, boolean isLast) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x5C06;&amp;#x4ECE;Producer&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x90FD;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;mResult&amp;#x4E2D;,&amp;#x5916;&amp;#x90E8;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;getResult&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  boolean result = setResultInternal(value, isLast);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (result) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    notifyDataSubscribers();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return result;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Result&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;DataSource&amp;#x4E2D;&amp;#x7684;mResult&amp;#x4E2D;&amp;#xFF0C;&amp;#x5728;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;Controller&amp;#x4E2D;&amp;#xFF0C;&amp;#x5C31;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;DataSource&amp;#x7684;getResult&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;Result&amp;#x3002;Controller&amp;#x5BF9;DataSource&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x4E5F;&amp;#x5C06;&amp;#x901A;&amp;#x8FC7;notifyDataSubscribers()&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x901A;&amp;#x77E5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void notifyDataSubscribers() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final boolean isFailure = hasFailed();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final boolean isCancellation = wasCancelled();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x901A;&amp;#x77E5;&amp;#x6240;&amp;#x6709;&amp;#x7684;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  for (Pair&amp;lt;DataSubscriber&amp;lt;T&amp;gt;, Executor&amp;gt; pair : mSubscribers) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    notifyDataSubscriber(pair.first, pair.second, isFailure, isCancellation);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;private void notifyDataSubscriber(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final DataSubscriber&amp;lt;T&amp;gt; dataSubscriber,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final Executor executor,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final boolean isFailure,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final boolean isCancellation) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  executor.execute(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      new Runnable() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void run() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (isFailure) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            dataSubscriber.onFailure(AbstractDataSource.this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          } else if (isCancellation) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            dataSubscriber.onCancellation(AbstractDataSource.this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            dataSubscriber.onNewResult(AbstractDataSource.this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;executor.execute()&amp;#x65B9;&amp;#x6CD5;&amp;#x89E3;&amp;#x91CA;&amp;#x4E86;&amp;#x4E00;&amp;#x5207;&amp;#x3002;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;Controller&amp;#x4E2D;&amp;#x4F20;&amp;#x9012;&amp;#x8FC7;&amp;#x6765;&amp;#x7684;dataSubscriber&amp;#x7684;&amp;#x5404;&amp;#x4E2A;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;Result&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#x8FC7;&amp;#x7A0B;&amp;#x5C31;&amp;#x8D70;&amp;#x901A;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x9700;&amp;#x4E86;&amp;#x89E3;Controller&amp;#xFF0C;&amp;#x63A8;&amp;#x8350;&amp;#x9605;&amp;#x8BFB;&lt;a href=&quot;https://idisfkj.github.io/2017/12/14/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BController/&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;Controller
&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Producer&amp;#x7684;&amp;#x5144;&amp;#x5F1F;&amp;#x59D0;&amp;#x59B9;&quot;&gt;&lt;a href=&quot;#Producer&amp;#x7684;&amp;#x5144;&amp;#x5F1F;&amp;#x59D0;&amp;#x59B9;&quot; class=&quot;headerlink&quot; title=&quot;Producer&amp;#x7684;&amp;#x5144;&amp;#x5F1F;&amp;#x59D0;&amp;#x59B9;&quot;&gt;&lt;/a&gt;Producer&amp;#x7684;&amp;#x5144;&amp;#x5F1F;&amp;#x59D0;&amp;#x59B9;&lt;/h2&gt;&lt;p&gt;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x8BA4;&amp;#x8BC6;&amp;#x4E0B;Producer&amp;#x7684;&amp;#x5BB6;&amp;#x5EAD;&amp;#x6210;&amp;#x5458;&amp;#x3002;&amp;#x56DE;&amp;#x5230;&amp;#x6700;&amp;#x521D;&amp;#x7684;fetchDecodedImage()&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x627E;&amp;#x5230;&amp;#x5982;&amp;#x4E0B;&amp;#x4EE3;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; producerSequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mProducerSequenceFactory.getDecodedImageProducerSequence(imageRequest);&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;Producer&amp;#x7684;&amp;#x5BB6;&amp;#x5EAD;&amp;#x6210;&amp;#x5458;&amp;#x7684;&amp;#x51FA;&amp;#x751F;&amp;#x5730;&amp;#x90FD;&amp;#x662F;ProducerSequenceFactory&amp;#x5DE5;&amp;#x5382;&amp;#x3002;&amp;#x6700;&amp;#x5148;&amp;#x51FA;&amp;#x751F;&amp;#x7684;&amp;#x662F;&amp;#x89E3;&amp;#x7801;&amp;#x4E86;&amp;#x7684;ImageProducer&amp;#x6210;&amp;#x5458;&amp;#x3002;&amp;#x901A;&amp;#x8FC7;getDecodeImageProducerSquence()&amp;#x65B9;&amp;#x6CD5;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; getDecodedImageProducerSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x901A;&amp;#x8FC7;Uri&amp;#x7C7B;&amp;#x578B;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x961F;&amp;#x5217;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; pipelineSequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      getBasicDecodedImageSequence(imageRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // &amp;#x901A;&amp;#x8FC7;ImageRequestBuilder.setPostprocessor()&amp;#x8BBE;&amp;#x7F6E;, &amp;#x4E00;&amp;#x822C;&amp;#x4E3A;null&amp;#x3002;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // &amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x5BF9;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;Bitmap&amp;#x8FDB;&amp;#x884C;&amp;#x52A0;&amp;#x5DE5;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&amp;#x6DFB;&amp;#x52A0;&amp;#x6C34;&amp;#x5370;&amp;#x7B49;&amp;#x3002;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (imageRequest.getPostprocessor() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pipelineSequence = getPostprocessorSequence(pipelineSequence);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x4E00;&amp;#x822C;&amp;#x7528;&amp;#x6765;&amp;#x5B9E;&amp;#x9A8C;&amp;#xFF0C;ImagePipelineConfig.Builder-&amp;gt;ImagePipelineExperiments-&amp;gt;setBitmapPrepareToDraw&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x6240;&amp;#x4EE5;&amp;#x6B63;&amp;#x5E38;&amp;#x60C5;&amp;#x51B5;&amp;#x90FD;&amp;#x4E3A;false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (mUseBitmapPrepareToDraw) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pipelineSequence = getBitmapPrepareSequence(pipelineSequence);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return pipelineSequence;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F88;&amp;#x6E05;&amp;#x695A;&amp;#x4E86;&amp;#xFF0C;&amp;#x6B63;&amp;#x5E38;&amp;#x7684;&amp;#x6D41;&amp;#x7A0B;&amp;#x53EA;&amp;#x9700;&amp;#x5173;&amp;#x6CE8;getBasicDecodedImageSequence()&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x7684;Result&amp;#x8FDB;&amp;#x884C;&amp;#x52A0;&amp;#x5DE5;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&amp;#x771F;&amp;#x6B63;&amp;#x7684;Result&amp;#x83B7;&amp;#x53D6;&amp;#x6B65;&amp;#x9AA4;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x7EE7;&amp;#x7EED;&amp;#x770B;getBasicDecodedImageSequence&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; getBasicDecodedImageSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Preconditions.checkNotNull(imageRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Uri uri = imageRequest.getSourceUri();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Preconditions.checkNotNull(uri, &amp;quot;Uri is null.&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  switch (imageRequest.getSourceUriType()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_NETWORK:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getNetworkFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_LOCAL_VIDEO_FILE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getLocalVideoFileFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_LOCAL_IMAGE_FILE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getLocalImageFileFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_LOCAL_CONTENT:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (MediaUtils.isVideo(mContentResolver.getType(uri))) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return getLocalVideoFileFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getLocalContentUriFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_LOCAL_ASSET:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getLocalAssetFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_LOCAL_RESOURCE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getLocalResourceFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_QUALIFIED_RESOURCE:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getQualifiedResourceFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    case SOURCE_TYPE_DATA:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getDataFetchSequence();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    default:&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      throw new IllegalArgumentException(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;quot;Unsupported uri scheme! Uri is: &amp;quot; + getShortenedUriString(uri));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5206;&amp;#x6C34;&amp;#x5CAD;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;ImageRequest&amp;#x7684;SourceUriType&amp;#xFF0C;&amp;#x6765;&amp;#x51B3;&amp;#x5B9A;&amp;#x4E0D;&amp;#x540C;&amp;#x7C7B;&amp;#x578B;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x4EE5;SOURCE_TYPE_NETWORK&amp;#x8FDB;&amp;#x884C;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;getNetworkFetchSequence&amp;#x662F;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private synchronized Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; getNetworkFetchSequence() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (mNetworkFetchSequence == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mNetworkFetchSequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newBitmapCacheGetToDecodeSequence(getCommonNetworkFetchToEncodedMemorySequence());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return mNetworkFetchSequence;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x5F00;&amp;#x5934;&amp;#x5DF2;&amp;#x7ECF;&amp;#x63D0;&amp;#x53CA;&amp;#x5230;Fresco&amp;#x6709;&amp;#x4E09;&amp;#x7EA7;&amp;#x7F13;&amp;#x5B58;&amp;#xFF1A;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x3002;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x9996;&amp;#x5148;&amp;#x7684;&amp;#x4ECE;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x5230;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#xFF0C;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x5728;newBitmapCacheGetToDecodeSequence&amp;#x4E2D;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;DecodeProducer&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot;&gt;&lt;a href=&quot;#Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot; class=&quot;headerlink&quot; title=&quot;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot;&gt;&lt;/a&gt;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; newBitmapCacheGetToDecodeSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;EncodedImage&amp;gt; inputProducer) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x89E3;&amp;#x7801;Producer,&amp;#x5BF9;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x89E3;&amp;#x7801;&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x5728;DecodeProducer&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  DecodeProducer decodeProducer = mProducerFactory.newDecodeProducer(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x83B7;&amp;#x53D6;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x8D44;&amp;#x6E90;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return newBitmapCacheGetToBitmapCacheSequence(decodeProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  private Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; newBitmapCacheGetToBitmapCacheSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; inputProducer) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  BitmapMemoryCacheProducer bitmapMemoryCacheProducer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mProducerFactory.newBitmapMemoryCacheProducer(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  BitmapMemoryCacheKeyMultiplexProducer bitmapKeyMultiplexProducer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mProducerFactory.newBitmapMemoryCacheKeyMultiplexProducer(bitmapMemoryCacheProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ThreadHandoffProducer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; threadHandoffProducer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mProducerFactory.newBackgroundThreadHandoffProducer(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          bitmapKeyMultiplexProducer,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          mThreadHandoffProducerQueue);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return mProducerFactory.newBitmapMemoryCacheGetProducer(threadHandoffProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x83B7;&amp;#x53D6;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x4F9D;&amp;#x6B21;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;BitmapMemoryCacheGetProducer&amp;#x3001;ThreadHandoffProducer&amp;#x3001;BitmapMemoryCacheKeyMultiplexProducer&amp;#x4E0E;BitmapMemoryCacheProducer&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x4E86;&amp;#x89E3;&amp;#x5982;&amp;#x679C;&amp;#x83B7;&amp;#x53D6;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x67E5;&amp;#x770B;BitmapMemoryCacheProducer&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x7BC7;&amp;#x5E45;&amp;#x53D7;&amp;#x9650;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E0D;&amp;#x5BF9;&amp;#x5404;&amp;#x4E2A;Producer&amp;#x5185;&amp;#x90E8;&amp;#x5B9E;&amp;#x73B0;&amp;#x7EC6;&amp;#x8282;&amp;#x8FDB;&amp;#x884C;&amp;#x89E3;&amp;#x6790;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x4F1A;&amp;#x5355;&amp;#x72EC;&amp;#x5F00;&amp;#x7BC7;&amp;#x5E45;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x5185;&amp;#x90E8;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot;&gt;&lt;a href=&quot;#&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&quot;&gt;&lt;/a&gt;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x7CFB;&amp;#x5217;Producer&lt;/h3&gt;&lt;p&gt;&amp;#x56DE;&amp;#x5230;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;getNetworkFetchSequence&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x6CA1;&amp;#x6709;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4F1A;&amp;#x8FDB;&amp;#x5165;getCommonNetworkFetchToEncodedMemorySequence&amp;#xFF0C;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x901A;&amp;#x8FC7;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private synchronized Producer&amp;lt;EncodedImage&amp;gt; getCommonNetworkFetchToEncodedMemorySequence() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (mCommonNetworkFetchToEncodedMemorySequence == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;-&amp;gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;EncodedImage&amp;gt; inputProducer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        newEncodedCacheMultiplexToTranscodeSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mProducerFactory.newNetworkFetchProducer(mNetworkFetcher));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x7684;Meta Data&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x6362;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mCommonNetworkFetchToEncodedMemorySequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        ProducerFactory.newAddImageTransformMetaDataProducer(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5BF9;JPEG&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#x4E0E;&amp;#x65CB;&amp;#x8F6C;&amp;#x64CD;&amp;#x4F5C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mCommonNetworkFetchToEncodedMemorySequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mProducerFactory.newResizeAndRotateProducer(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mCommonNetworkFetchToEncodedMemorySequence,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mResizeAndRotateEnabledForNetwork,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            mUseDownsamplingRatio);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return mCommonNetworkFetchToEncodedMemorySequence;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x9996;&amp;#x5148;&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x4E9B;&amp;#x8F6C;&amp;#x6362;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;ResizeAndRotateProducer&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x5BF9;JPEG&amp;#x683C;&amp;#x5F0F;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x6839;&amp;#x636E;EXIF&amp;#x7684;orientation&amp;#x4E0E;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;rotation&amp;#x8FDB;&amp;#x884C;&amp;#x7F29;&amp;#x653E;&amp;#x4E0E;&amp;#x65CB;&amp;#x8F6C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4E4B;&amp;#x540E;&amp;#x5C31;&amp;#x662F;AddImageTransformMetaDataProducer&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x7684;Meta Data&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x6362;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x8C03;&amp;#x7528;newEncodedCacheMultiplexToTranscodeSequence&amp;#x8FDB;&amp;#x884C;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private Producer&amp;lt;EncodedImage&amp;gt; newEncodedCacheMultiplexToTranscodeSequence(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;EncodedImage&amp;gt; inputProducer) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x5BF9;webp&amp;#x56FE;&amp;#x7247;&amp;#x8FDB;&amp;#x884C;&amp;#x8F6C;&amp;#x7801;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (WebpSupportStatus.sIsWebpSupportRequired &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      (!mWebpSupportEnabled || WebpSupportStatus.sWebpBitmapFactory == null)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    inputProducer = mProducerFactory.newWebpTranscodeProducer(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  inputProducer = newDiskCacheSequence(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  EncodedMemoryCacheProducer encodedMemoryCacheProducer =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mProducerFactory.newEncodedMemoryCacheProducer(inputProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x8FDB;&amp;#x884C;&amp;#x591A;&amp;#x8DEF;&amp;#x590D;&amp;#x7528;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x4F5C;&amp;#x4E3A;key,&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;request&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return mProducerFactory.newEncodedCacheKeyMultiplexProducer(encodedMemoryCacheProducer);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x94FE;&amp;#x662F;&amp;#xFF1A;EncodedCacheKeyMultiplexProducer -&amp;gt; EncodedMemoryCacheProducer -&amp;gt; newDiskCacheSequence -&amp;gt; WebpTranscodeProducer&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4EE5;&amp;#x4E0A;&amp;#x6B65;&amp;#x9AA4;&amp;#x90FD;&amp;#x6CA1;&amp;#x6709;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5C06;&amp;#x6B63;&amp;#x5F0F;&amp;#x8FDB;&amp;#x5165;&amp;#x7F51;&amp;#x7EDC;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&amp;#x5165;&amp;#x53E3;&amp;#x5728;mProducerFactory.newNetworkFetchProducer(mNetworkFetcher))&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;Producer&amp;#x4E3A;NetworkFetchProducer&amp;#x3002;&lt;/p&gt;
&lt;h3 id=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;Producer&quot;&gt;&lt;a href=&quot;#&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;Producer&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;Producer&quot;&gt;&lt;/a&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;Producer&lt;/h3&gt;&lt;p&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x662F;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x5BF9;NetworkFetchProducer&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x8981;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x5B83;&amp;#x7684;&amp;#x6700;&amp;#x7EC8;&amp;#x65B9;&amp;#x6CD5;produceResults&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public void produceResults(Consumer&amp;lt;EncodedImage&amp;gt; consumer, ProducerContext context) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  context.getListener()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      .onProducerStart(context.getId(), PRODUCER_NAME);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x4FDD;&amp;#x5B58;fetch&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#x72B6;&amp;#x6001;&amp;#x4FE1;&amp;#x606F;(Consumer,ProducerContext)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final FetchState fetchState = mNetworkFetcher.createFetchState(consumer, context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mNetworkFetcher.fetch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      fetchState, new NetworkFetcher.Callback() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onResponse(InputStream response, int responseLength) throws IOException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          //&amp;#x8BE5;response&amp;#x5373;&amp;#x4E3A;&amp;#x6700;&amp;#x7EC8;&amp;#x8BF7;&amp;#x6C42;&amp;#x56FE;&amp;#x7247;&amp;#x7684;uri&amp;#x54CD;&amp;#x5E94;&amp;#x8D44;&amp;#x6E90;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          NetworkFetchProducer.this.onResponse(fetchState, response, responseLength);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onFailure(Throwable throwable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          NetworkFetchProducer.this.onFailure(fetchState, throwable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onCancellation() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          NetworkFetchProducer.this.onCancellation(fetchState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      });&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x901A;&amp;#x8FC7;mNetworkFetcher&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;FetchState&amp;#xFF0C;mNetworkFetcher&amp;#x662F;&amp;#x7F51;&amp;#x7EDC;&amp;#x5C42;&amp;#x8BF7;&amp;#x6C42;&amp;#x65B9;&amp;#x5F0F;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x7279;&amp;#x522B;&amp;#x6307;&amp;#x5B9A;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x4F7F;&amp;#x7528;HttpUrlConnection&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&amp;#x4E3A;HttpUrlConnectionNetworkFetcher&amp;#x3002;&amp;#x63A5;&amp;#x4E0B;&amp;#x6765;&amp;#x8C03;&amp;#x4E86;fetch&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6B63;&amp;#x5F0F;&amp;#x53D1;&amp;#x8D77;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x7EC6;&amp;#x8282;&amp;#x5B9E;&amp;#x73B0;&amp;#x5728;mNetworkFetcher&amp;#x4E2D;&amp;#x3002;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x54CD;&amp;#x5E94;&amp;#x4E3A;onResponse&amp;#x3001;onFailure&amp;#x4E0E;onCancellation&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x62FF;onResponse&amp;#x6B65;&amp;#x9AA4;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void onResponse(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FetchState fetchState,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    InputStream responseData,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int responseContentLength)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    throws IOException {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final PooledByteBufferOutputStream pooledOutputStream;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x83B7;&amp;#x53D6;pooledOutputStream&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (responseContentLength &amp;gt; 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pooledOutputStream = mPooledByteBufferFactory.newOutputStream(responseContentLength);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pooledOutputStream = mPooledByteBufferFactory.newOutputStream();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final byte[] ioArray = mByteArrayPool.get(READ_SIZE);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int length;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    while ((length = responseData.read(ioArray)) &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (length &amp;gt; 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5C06;&amp;#x6570;&amp;#x636E;&amp;#x5199;&amp;#x5165;pooledOutputStream&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pooledOutputStream.write(ioArray, 0, length);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x5B9A;&amp;#x65F6;&amp;#x89E6;&amp;#x53D1;consumer&amp;#x56DE;&amp;#x8C03;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        maybeHandleIntermediateResult(pooledOutputStream, fetchState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        float progress = calculateProgress(pooledOutputStream.size(), responseContentLength);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        //&amp;#x8FDB;&amp;#x5EA6;&amp;#x66F4;&amp;#x65B0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fetchState.getConsumer().onProgressUpdate(progress);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mNetworkFetcher.onFetchCompletion(fetchState, pooledOutputStream.size());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5168;&amp;#x90E8;&amp;#x6570;&amp;#x636E;&amp;#x83B7;&amp;#x53D6;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x56DE;&amp;#x8C03;Consumer&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    handleFinalResult(pooledOutputStream, fetchState);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mByteArrayPool.release(ioArray);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    pooledOutputStream.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x89E3;&amp;#x6790;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x4E24;&amp;#x4E2A;&amp;#xFF1A;maybeHandleIntermediateResult&amp;#x4E0E;handleFinalResult&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x8FDB;&amp;#x884C;&amp;#x53D1;&amp;#x9001;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x4ED6;&amp;#x4EEC;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x5B9E;&amp;#x73B0;&amp;#x90FD;&amp;#x662F;&amp;#x8C03;&amp;#x7528;notifyConsumer&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x56DE;&amp;#x8C03;&amp;#x901A;&amp;#x77E5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void maybeHandleIntermediateResult(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PooledByteBufferOutputStream pooledOutputStream,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FetchState fetchState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final long nowMs = SystemClock.uptimeMillis();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x65F6;&amp;#x95F4;&amp;#x95F4;&amp;#x9694;&amp;#x5927;&amp;#x4E8E;&amp;#x7B49;&amp;#x4E8E;100&amp;#x6BEB;&amp;#x79D2;&amp;#x8FDB;&amp;#x884C;&amp;#x901A;&amp;#x77E5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (shouldPropagateIntermediateResults(fetchState) &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      nowMs - fetchState.getLastIntermediateResultTimeMs() &amp;gt;= TIME_BETWEEN_PARTIAL_RESULTS_MS) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fetchState.setLastIntermediateResultTimeMs(nowMs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fetchState.getListener()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .onProducerEvent(fetchState.getId(), PRODUCER_NAME, INTERMEDIATE_RESULT_PRODUCER_EVENT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    notifyConsumer(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        pooledOutputStream,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fetchState.getOnNewResultStatusFlags(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fetchState.getResponseBytesRange(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        fetchState.getConsumer());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;private void handleFinalResult(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PooledByteBufferOutputStream pooledOutputStream,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FetchState fetchState) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Map&amp;lt;String, String&amp;gt; extraMap = getExtraMap(fetchState, pooledOutputStream.size());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  ProducerListener listener = fetchState.getListener();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  listener.onProducerFinishWithSuccess(fetchState.getId(), PRODUCER_NAME, extraMap);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  listener.onUltimateProducerReached(fetchState.getId(), PRODUCER_NAME, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  notifyConsumer(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      pooledOutputStream,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Consumer.IS_LAST | fetchState.getOnNewResultStatusFlags(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      fetchState.getResponseBytesRange(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      fetchState.getConsumer());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x4EEC;&amp;#x6700;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#x662F;maybeHandleIntermediateResult&amp;#x662F;&amp;#x95F4;&amp;#x9694;&amp;#x6027;&amp;#x7684;&amp;#x8C03;&amp;#x7528;notifyConsumer&amp;#x901A;&amp;#x77E5;&amp;#x56DE;&amp;#x8C03;&amp;#x8005;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x901A;&amp;#x77E5;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void notifyConsumer(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    PooledByteBufferOutputStream pooledOutputStream,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Consumer.Status int status,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Nullable BytesRange responseBytesRange,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Consumer&amp;lt;EncodedImage&amp;gt; consumer) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x5BF9;&amp;#x4E8E;PooledByteBuffer&amp;#x6784;&amp;#x5EFA;&amp;#x53EF;&amp;#x5173;&amp;#x95ED;&amp;#x5F15;&amp;#x7528;CloseableReference&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  CloseableReference&amp;lt;PooledByteBuffer&amp;gt; result =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      CloseableReference.of(pooledOutputStream.toByteBuffer());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  EncodedImage encodedImage = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;EncodedImage&amp;#x4E2D;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    encodedImage = new EncodedImage(result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    encodedImage.setBytesRange(responseBytesRange);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x89E3;&amp;#x6790;MetaData&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    encodedImage.parseMetaData();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x56DE;&amp;#x8C03;&amp;#x901A;&amp;#x77E5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    consumer.onNewResult(encodedImage, status);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    EncodedImage.closeSafely(encodedImage);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CloseableReference.closeSafely(result);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x5BF9;&amp;#x7ED3;&amp;#x679C;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#xFF0C;&amp;#x4FDD;&amp;#x5B58;&amp;#x5230;EncodedImage&amp;#x4E2D;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x901A;&amp;#x8FC7;Consumer&amp;#x56DE;&amp;#x8C03;onNewResult&amp;#x65B9;&amp;#x6CD5;&amp;#x5C06;encodedImage&amp;#x4F20;&amp;#x9012;&amp;#x5230;&amp;#x4E0A;&amp;#x4E00;&amp;#x5C42;&amp;#x7684;Producer&amp;#x7CFB;&amp;#x5217;&amp;#xFF0C;&amp;#x5373;&amp;#x4E4B;&amp;#x524D;&amp;#x6240;&amp;#x8FDB;&amp;#x8FC7;&amp;#x7684;&amp;#x6D41;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&amp;#x4E0E;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BF4;&amp;#x5C31;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;Consumer&amp;#x5BF9;&amp;#x7ED3;&amp;#x679C;&amp;#x8FDB;&amp;#x884C;&amp;#x4E00;&amp;#x7CFB;&amp;#x5217;&amp;#x7684;&amp;#x89E3;&amp;#x7801;&amp;#x3001;&amp;#x8F6C;&amp;#x6362;&amp;#x3001;&amp;#x7F13;&amp;#x5B58;&amp;#x7B49;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;Bitmap&amp;#xFF0C;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;UI&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&amp;#x56FE;&amp;#x7247;&amp;#x66F4;&amp;#x65B0;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HttpUrlConnectionNetworkFetcher&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6709;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;HttpUrlConnection&amp;#x8FDB;&amp;#x884C;&amp;#x7F51;&amp;#x7EDC;&amp;#x8D44;&amp;#x6E90;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x89E3;&amp;#x6790;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x6574;&amp;#x4E2A;&amp;#x7684;Producer&amp;#x8C03;&amp;#x7528;&amp;#x6D41;&amp;#x7A0B;&amp;#x5C31;&amp;#x7ED3;&amp;#x675F;&amp;#x4E86;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x7ED3;&amp;#x679C;&amp;#x90FD;&amp;#x4F1A;&amp;#x56DE;&amp;#x5230;&amp;#x5F00;&amp;#x7BC7;&amp;#x5206;&amp;#x6790;&amp;#x7684;Result&amp;#x5904;&amp;#x7406;&amp;#xFF0C;AbstractProducerToDataSourceAdapter&amp;#x4E2D;&amp;#x7684;onNewResultImpl&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;super.setResult(result, isLast)&amp;#x4F20;&amp;#x9012;&amp;#x7ED3;&amp;#x679C;&amp;#x4E0E;&amp;#x901A;&amp;#x77E5;UI&amp;#x5C42;&amp;#x66F4;&amp;#x65B0;UI&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;a href=&quot;#&amp;#x603B;&amp;#x7ED3;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x603B;&amp;#x7ED3;&quot;&gt;&lt;/a&gt;&amp;#x603B;&amp;#x7ED3;&lt;/h2&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x5BF9;Producer&amp;#x7684;&amp;#x6574;&amp;#x4E2A;&amp;#x8C03;&amp;#x7528;&amp;#x6D41;&amp;#x7A0B;&amp;#x505A;&amp;#x4E2A;&amp;#x603B;&amp;#x7ED3;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&amp;#x6E90;&amp;#x7801;&amp;#x4E2D;&amp;#x7684;&amp;#x6CE8;&amp;#x91CA;&amp;#x8C03;&amp;#x7528;&amp;#x94FE;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x53EF;&amp;#x5212;&amp;#x5206;&amp;#x4E3A;&amp;#x4E09;&amp;#x5927;&amp;#x90E8;&amp;#x5206;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#xFF1A;&lt;br&gt;swallow result if prefetch -&amp;gt; bitmap cache get -&amp;gt;&lt;br&gt;background thread hand-off -&amp;gt; multiplex -&amp;gt; bitmap cache -&amp;gt; decode -&amp;gt; multiplex -&amp;gt;&lt;br&gt;encoded cache -&amp;gt; disk cache -&amp;gt; (webp transcode) -&amp;gt; network fetch&lt;br&gt;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&amp;#x5E94;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x83B7;&amp;#x53D6;&amp;#x3001;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;&amp;#x3001;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56FE;&amp;#x7247;&amp;#x7F13;&amp;#x5B58;&amp;#x83B7;&amp;#x53D6;&amp;#x3001;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0E;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;Fresco&amp;#x6709;&amp;#x4E09;&amp;#x7EA7;&amp;#x7F13;&amp;#x5B58;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;Bitmap&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x672A;&amp;#x89E3;&amp;#x7801;&amp;#x56
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Fresco源码分析之Controller</title>
    <link href="https://idisfkj.github.io/2017/12/14/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BController/"/>
    <id>https://idisfkj.github.io/2017/12/14/Fresco源码分析之Controller/</id>
    <published>2017-12-14T00:32:26.000Z</published>
    <updated>2017-12-28T14:58:19.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x6B21;&amp;#x770B;&amp;#x6211;&amp;#x7684;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x7CFB;&amp;#x5217;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5F3A;&amp;#x70C8;&amp;#x63A8;&amp;#x8350;&amp;#x4F60;&amp;#x5148;&amp;#x9605;&amp;#x8BFB;&amp;#x6211;&amp;#x7684;&amp;#x524D;&amp;#x9762;&amp;#x4E24;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2017/11/28/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BDraweeView/&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;DraweeView&lt;/a&gt;&amp;#x4E0E;&lt;a href=&quot;https://idisfkj.github.io/2017/12/07/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BHierarchy/&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;Hierarchy&lt;/a&gt;&amp;#x3002;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x8FDB;&amp;#x5165;&amp;#x6B63;&amp;#x9898;&amp;#x3002;&amp;#x5728;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x63D0;&amp;#x5230;&amp;#xFF0C;&amp;#x5728;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x5173;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x663E;&amp;#x793A;&amp;#x903B;&amp;#x8F91;&amp;#x5904;&amp;#x7406;&amp;#x90FD;&amp;#x5728;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x5230;&amp;#x5E95;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x8D2F;&amp;#x7A7F;&amp;#x8FD9;&amp;#x4E9B;&amp;#x529F;&amp;#x80FD;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x4ECE;&amp;#x5B83;&amp;#x7684;&amp;#x51FA;&amp;#x751F;&amp;#x5F00;&amp;#x59CB;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;Suppiler&quot;&gt;&lt;a href=&quot;#Suppiler&quot; class=&quot;headerlink&quot; title=&quot;Suppiler&quot;&gt;&lt;/a&gt;Suppiler&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;PipelineDraweeControllerBuilderSupplier&lt;/strong&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F9B;&amp;#x5E94;&amp;#x5546;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E86;&lt;code&gt;Supplier&amp;lt;T&amp;gt;&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&lt;em&gt;T get()&lt;/em&gt;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x63D0;&amp;#x4F9B;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#x8BE5;&amp;#x4F9B;&amp;#x5E94;&amp;#x7C7B;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;strong&gt;PipelineDraweeControllerBuilder&lt;/strong&gt;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public PipelineDraweeControllerBuilder get() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return new PipelineDraweeControllerBuilder(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mPipelineDraweeControllerFactory,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mImagePipeline,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mBoundControllerListeners);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x751F;&amp;#x6210;&amp;#x7684;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x4E2D;&amp;#x6709;4&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#xFF0C;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x662F;&lt;strong&gt;Context&lt;/strong&gt;&amp;#x518D;&amp;#x719F;&amp;#x6089;&amp;#x4E0D;&amp;#x8FC7;&amp;#x4E86;&amp;#xFF1B;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x662F;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x7684;&amp;#x5DE5;&amp;#x5382;&amp;#xFF1B;&amp;#x7B2C;&amp;#x4E09;&amp;#x4E2A;&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x7BA1;&amp;#x9053;&lt;strong&gt;ImagePipeline&lt;/strong&gt;&amp;#xFF1B;&amp;#x7B2C;&amp;#x56DB;&amp;#x4E2A;&amp;#x662F;&lt;strong&gt;listener&lt;/strong&gt;&amp;#x7684;&lt;strong&gt;set&lt;/strong&gt;&amp;#x96C6;&amp;#x5408;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x5728;&amp;#x56FE;&amp;#x7247;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E4B;&amp;#x540E;&amp;#x7684;&amp;#x76D1;&amp;#x542C;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x8BE6;&amp;#x7EC6;&amp;#x8BF4;&amp;#x660E;&amp;#x540E;&amp;#x9762;&amp;#x4E09;&amp;#x4E2A;&amp;#x53C2;&amp;#x6570;&amp;#x5185;&amp;#x5BB9;&amp;#x4E0E;&amp;#x4F5C;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;PipelineDraweeControllerFactory&quot;&gt;&lt;a href=&quot;#PipelineDraweeControllerFactory&quot; class=&quot;headerlink&quot; title=&quot;PipelineDraweeControllerFactory&quot;&gt;&lt;/a&gt;PipelineDraweeControllerFactory&lt;/h2&gt;&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x7C7B;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x5C31;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;strong&gt;internalCreateController&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;newController&lt;/strong&gt;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5916;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C31;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;newController&lt;/strong&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4E24;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&lt;strong&gt;PipelineDraweeController&lt;/strong&gt;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&lt;strong&gt;newController&lt;/strong&gt;&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;strong&gt;internalCreateController&lt;/strong&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x521B;&amp;#x5EFA;&lt;strong&gt;PipelineDraweeController&lt;/strong&gt;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected PipelineDraweeController internalCreateController(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Resources resources,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DeferredReleaser deferredReleaser,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DrawableFactory animatedDrawableFactory,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Executor uiThreadExecutor,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    MemoryCache&amp;lt;CacheKey, CloseableImage&amp;gt; memoryCache,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Nullable ImmutableList&amp;lt;DrawableFactory&amp;gt; globalDrawableFactories,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Nullable ImmutableList&amp;lt;DrawableFactory&amp;gt; customDrawableFactories,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     Supplier&amp;lt;DataSource&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt;&amp;gt; dataSourceSupplier,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String id,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CacheKey cacheKey,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Object callerContext) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  PipelineDraweeController controller = new PipelineDraweeController(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      resources,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      deferredReleaser,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      animatedDrawableFactory,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      uiThreadExecutor,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      memoryCache,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      dataSourceSupplier,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      id,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      cacheKey,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      globalDrawableFactories);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   controller.setCustomDrawableFactories(customDrawableFactories);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return controller;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4E2D;&lt;strong&gt;DeferredReleaser&lt;/strong&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&amp;#x63A8;&amp;#x8FDF;&amp;#x8D44;&amp;#x6E90;&amp;#x91CA;&amp;#x653E;&amp;#x7684;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x5DF2;&amp;#x7ECF;&amp;#x63D0;&amp;#x5230;&amp;#xFF0C;&amp;#x5728;&lt;strong&gt;onAttach&lt;/strong&gt;&amp;#x4E2D;&amp;#x4F1A;&amp;#x8FDB;&amp;#x884C;&amp;#x52A0;&amp;#x8F7D;&amp;#x8D44;&amp;#x6E90;&amp;#xFF0C;&amp;#x800C;&lt;strong&gt;onDetach&lt;/strong&gt;&amp;#x4E2D;&amp;#x53C8;&amp;#x4F1A;&amp;#x91CA;&amp;#x653E;&amp;#x8D44;&amp;#x6E90;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x5F80;&amp;#x5F80;&amp;#x4F1A;&amp;#x5728;&lt;strong&gt;onDetach&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;onAttach&lt;/strong&gt;&amp;#x4E4B;&amp;#x95F4;&amp;#x9891;&amp;#x7E41;&amp;#x5207;&amp;#x6362;(view&amp;#x7684;&amp;#x663E;&amp;#x9690;&amp;#x3001;&amp;#x7ED8;&amp;#x5236;&amp;#x4E0E;Controller&amp;#x7684;&amp;#x8BBE;&amp;#x7F6E;&amp;#x90FD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;)&amp;#xFF0C;&amp;#x5E76;&amp;#x4E14;&amp;#x5B83;&amp;#x4EEC;&amp;#x90FD;&amp;#x5904;&amp;#x4E8E;&amp;#x5728;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;looper&lt;/strong&gt;(&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x4E3B;&amp;#x8FDB;&amp;#x7A0B;&amp;#x7684;looper)&amp;#x4E2D;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x5728;&lt;strong&gt;onDetach&lt;/strong&gt;&amp;#x65F6;&amp;#x9A6C;&amp;#x4E0A;&amp;#x91CA;&amp;#x653E;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4F1A;&amp;#x9020;&amp;#x6210;&amp;#x8D44;&amp;#x6E90;&amp;#x7684;&amp;#x6EE5;&amp;#x7528;&amp;#xFF0C;&amp;#x5BFC;&amp;#x81F4;&amp;#x4E0D;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x8D44;&amp;#x6E90;&amp;#x52A0;&amp;#x8F7D;&amp;#x4E0E;&amp;#x91CA;&amp;#x653E;&amp;#x56DE;&amp;#x6536;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5C31;&amp;#x7528;&amp;#x4E86;&amp;#x8FD9;&amp;#x4E2A;&amp;#x8D44;&amp;#x6E90;&amp;#x63A8;&amp;#x8FDF;&amp;#x91CA;&amp;#x653E;&amp;#x7684;&amp;#x673A;&amp;#x5236;(&amp;#x5185;&amp;#x90E8;&amp;#x539F;&amp;#x7406;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;set&amp;#x96C6;&amp;#x5408;&amp;#x7684;&amp;#x552F;&amp;#x4E00;&amp;#x6027;&amp;#x7684;&amp;#x7279;&amp;#x6027;)&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;dataSourceSupplier&lt;/strong&gt;&amp;#x662F;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x7684;&amp;#x4F9B;&amp;#x5E94;&amp;#x5546;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x63D0;&amp;#x4F9B;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x800C;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x4E0E;&amp;#x5B58;&amp;#x50A8;&amp;#x8BF7;&amp;#x6C42;&amp;#x7ED3;&amp;#x679C;&amp;#x7684;&amp;#xFF0C;&amp;#x76F8;&amp;#x5F53;&amp;#x4E0E;&amp;#x56FE;&amp;#x7247;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&amp;#x8FD9;&amp;#x4E9B;&amp;#x90FD;&amp;#x4F1A;&amp;#x5728;&amp;#x540E;&amp;#x7EED;&amp;#x7684;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;ImagePipeline&quot;&gt;&lt;a href=&quot;#ImagePipeline&quot; class=&quot;headerlink&quot; title=&quot;ImagePipeline&quot;&gt;&lt;/a&gt;ImagePipeline&lt;/h2&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x5B83;&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x7BA1;&amp;#x9053;&amp;#xFF0C;&amp;#x81EA;&amp;#x7136;&amp;#x662F;&amp;#x4E0E;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x6709;&amp;#x5173;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x628A;&amp;#x5B83;&amp;#x7406;&amp;#x89E3;&amp;#x4E3A;&amp;#x591A;&amp;#x4E2A;&amp;#x7BA1;&amp;#x9053;&amp;#x7684;&amp;#x96C6;&amp;#x5408;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8D44;&amp;#x6E90;&amp;#x5C31;&amp;#x662F;&amp;#x6765;&amp;#x81EA;&amp;#x4E8E;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E2D;&amp;#x7684;&amp;#x5176;&amp;#x4E2D;&amp;#x4E00;&amp;#x4E2A;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x4ECB;&amp;#x7ECD;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;fetchDecodedImage()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;&lt;strong&gt;decode image&lt;/strong&gt;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;fetchEncodedImage()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x8FD4;&amp;#x56DE;&lt;strong&gt;encoded image&lt;/strong&gt;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;prefetchToBitmapCache()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x9884;&amp;#x5904;&amp;#x7406;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x9884;&amp;#x5904;&amp;#x7406;&amp;#x7684;&lt;strong&gt;bitmap&lt;/strong&gt;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;prefetchToDiskCache()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x9884;&amp;#x5904;&amp;#x7406;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x9884;&amp;#x5904;&amp;#x7406;&amp;#x7684;&amp;#x78C1;&amp;#x76D8;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;submitFetchRequest()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x76F8;&amp;#x5E94;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;submitPrefetchRequest()&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x9884;&amp;#x5904;&amp;#x7406;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x83B7;&amp;#x53D6;&amp;#x76F8;&amp;#x5E94;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x6570;&amp;#x636E;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x7528;&amp;#x7684;&amp;#x6700;&amp;#x591A;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;em&gt;fetchDecodedImage()&lt;/em&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public DataSource&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; fetchDecodedImage(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Object callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest.RequestLevel lowestPermittedRequestLevelOnSubmit) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Producer&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; producerSequence =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         mProducerSequenceFactory.getDecodedImageProducerSequence(imageRequest);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return submitFetchRequest(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        producerSequence,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        lowestPermittedRequestLevelOnSubmit,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        callerContext);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } catch (Exception exception) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return DataSources.immediateFailedDataSource(exception);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3B;&amp;#x8981;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&lt;strong&gt;Producer&lt;/strong&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x751F;&amp;#x4EA7;&amp;#x8005;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x516C;&amp;#x5171;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&lt;em&gt;void produceResults(Consumer&lt;t&gt; consumer, ProducerContext context)&lt;/t&gt;&lt;/em&gt;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&lt;strong&gt;submitFetchRequest&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;producer&lt;/strong&gt;&amp;#x4F20;&amp;#x5165;&amp;#x7684;&amp;#x5176;&amp;#x5B9E;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x961F;&amp;#x5217;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5185;&amp;#x90E8;&amp;#x4F1A;&amp;#x9012;&amp;#x5F52;&amp;#x8C03;&amp;#x7528;&lt;em&gt;produceResults()&lt;/em&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5173;&amp;#x4E8E;&lt;strong&gt;Producer&lt;/strong&gt;&amp;#x540E;&amp;#x7EED;&amp;#x6709;&amp;#x65F6;&amp;#x95F4;&amp;#x7684;&amp;#x8BDD;&amp;#x4F1A;&amp;#x5355;&amp;#x72EC;&amp;#x5F00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;ControllerListener&quot;&gt;&lt;a href=&quot;#ControllerListener&quot; class=&quot;headerlink&quot; title=&quot;ControllerListener&quot;&gt;&lt;/a&gt;ControllerListener&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x5BF9;&lt;strong&gt;ControllerListener&lt;/strong&gt;&amp;#x4E0D;&amp;#x719F;&amp;#x6089;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&lt;strong&gt;BaseControllerListener&lt;/strong&gt;&amp;#x5E94;&amp;#x8BE5;&amp;#x6216;&amp;#x591A;&amp;#x6216;&amp;#x5C11;&amp;#x4F7F;&amp;#x7528;&amp;#x8FC7;&amp;#x5427;&amp;#x3002;&amp;#x5B83;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&lt;strong&gt;ControllerListener&lt;/strong&gt;&amp;#x7684;&amp;#x7A7A;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x65E2;&amp;#x7136;&amp;#x662F;&amp;#x76D1;&amp;#x542C;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x63D0;&amp;#x4F9B;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0E;&amp;#x8C03;&amp;#x7528;&amp;#x65F6;&amp;#x673A;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;void onSubmit(String id, Object callerContext)&lt;/em&gt; &amp;#x5728;&amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void onFinalImageSet(String id, @Nullable INFO imageInfo, @Nullable Animatable animatable)&lt;/em&gt; &amp;#x5728;&amp;#x6700;&amp;#x7EC8;&amp;#x8BBE;&amp;#x7F6E;&lt;strong&gt;image&lt;/strong&gt;&amp;#x56FE;&amp;#x7247;&amp;#x65F6;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;strong&gt;imageInfo&lt;/strong&gt;&amp;#x5305;&amp;#x542B;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x57FA;&amp;#x672C;&amp;#x4FE1;&amp;#x606F;&amp;#xFF08;width&amp;#x3001;height&amp;#x4E0E;quality&amp;#xFF09;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void onIntermediateImageSet(String id, @Nullable INFO imageInfo)&lt;/em&gt; &amp;#x5728;&amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x6700;&amp;#x7EC8;&amp;#x56FE;&amp;#x7247;&amp;#x8BBE;&amp;#x7F6E;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void onIntermediateImageFailed(String id, Throwable throwable)&lt;/em&gt; &amp;#x5728;&amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x6700;&amp;#x7EC8;&amp;#x5931;&amp;#x8D25;&amp;#x7684;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void onFailure(String id, Throwable throwable)&lt;/em&gt; &amp;#x53D1;&amp;#x9001;&amp;#x8BF7;&amp;#x6C42;&amp;#x5931;&amp;#x8D25;&amp;#x65F6;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void onRelease(String id)&lt;/em&gt; &amp;#x8D44;&amp;#x6E90;&amp;#x91CA;&amp;#x653E;&amp;#x65F6;&amp;#x56DE;&amp;#x8C03;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;ControllerBuilder&quot;&gt;&lt;a href=&quot;#ControllerBuilder&quot; class=&quot;headerlink&quot; title=&quot;ControllerBuilder&quot;&gt;&lt;/a&gt;ControllerBuilder&lt;/h1&gt;&lt;p&gt;&amp;#x65E2;&amp;#x7136;&amp;#x662F;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x6A21;&amp;#x5F0F;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x81EA;&amp;#x7136;&amp;#x5C31;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x76F4;&amp;#x63A5;&amp;#x5954;&amp;#x7740;&amp;#x5B83;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x6765;&amp;#x5206;&amp;#x6790;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x7684;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x7C7B;&amp;#x662F;&lt;strong&gt;PipelineDraweeControllerBuilder&lt;/strong&gt;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x627E;&amp;#x5230;&amp;#x5B83;&amp;#x7684;&lt;em&gt;build()&lt;/em&gt;&amp;#x53D1;&amp;#x73B0;&amp;#x5728;&amp;#x5B83;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&lt;strong&gt;AbstractDraweeControllerBuilder&lt;/strong&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x4F46;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x5B9E;&amp;#x4F8B;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FD8;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;em&gt;obtainController()&lt;/em&gt;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x7ECF;&amp;#x8FC7;&amp;#x53CD;&amp;#x8F6C;&amp;#x8FD8;&amp;#x662F;&amp;#x56DE;&amp;#x5230;&amp;#x4E86;&lt;strong&gt;PipelineDraweeControllerBuilder&lt;/strong&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x521B;&amp;#x5EFA;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;protected PipelineDraweeController obtainController() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  DraweeController oldController = getOldController();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  PipelineDraweeController controller;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (oldController instanceof PipelineDraweeController) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    controller = (PipelineDraweeController) oldController;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    controller.initialize(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        obtainDataSourceSupplier(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        generateUniqueControllerId(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        getCacheKey(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        getCallerContext(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCustomDrawableFactories);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    controller = mPipelineDraweeControllerFactory.newController(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        obtainDataSourceSupplier(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        generateUniqueControllerId(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        getCacheKey(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        getCallerContext(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mCustomDrawableFactories);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return controller;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#xFF0C;&amp;#x903B;&amp;#x8F91;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5F88;&amp;#x660E;&amp;#x663E;&amp;#x4E86;&amp;#x3002;&amp;#x9996;&amp;#x5148;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5B58;&amp;#x5728;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x65E0;&amp;#x9700;&amp;#x521B;&amp;#x5EFA;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x8C03;&amp;#x7528;&lt;em&gt;initialize()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x91CD;&amp;#x5199;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF1B;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5C31;&amp;#x8C03;&amp;#x7528;&amp;#x6211;&amp;#x4EEC;&amp;#x6587;&amp;#x7AE0;&amp;#x4E4B;&amp;#x524D;&amp;#x5206;&amp;#x6790;&amp;#x7684;&lt;strong&gt;PipelineDraweeControllerFactory&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;em&gt;newController()&lt;/em&gt;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x65B0;&amp;#x7684;&amp;#x5B9E;&amp;#x4F8B;&amp;#x3002;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&amp;#x8FD8;&amp;#x662F;&lt;em&gt;obtainDataSourceSupplier()&lt;/em&gt;&amp;#xFF0C;&amp;#x4E4B;&amp;#x524D;&amp;#x4E5F;&amp;#x7B80;&amp;#x5355;&amp;#x63D0;&amp;#x5230;&amp;#x4E86;&amp;#xFF0C;&amp;#x5B83;&amp;#x662F;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x7684;&amp;#x4F9B;&amp;#x5E94;&amp;#x8005;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;strong&gt;Supplier&lt;/strong&gt;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected Supplier&amp;lt;DataSource&amp;lt;IMAGE&amp;gt;&amp;gt; getDataSourceSupplierForRequest(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final REQUEST imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    final CacheLevel cacheLevel) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final Object callerContext = getCallerContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return new Supplier&amp;lt;DataSource&amp;lt;IMAGE&amp;gt;&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public DataSource&amp;lt;IMAGE&amp;gt; get() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return getDataSourceForRequest(imageRequest, callerContext, cacheLevel);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    public String toString() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return Objects.toStringHelper(this)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          .add(&amp;quot;request&amp;quot;, imageRequest.toString())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          .toString();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E00;&amp;#x773C;&amp;#x5C31;&amp;#x770B;&amp;#x5230;&amp;#x4E86;&lt;strong&gt;Supplier&lt;/strong&gt;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#xFF0C;&amp;#x4E4B;&amp;#x524D;&amp;#x4E5F;&amp;#x63D0;&amp;#x5230;&amp;#x5B83;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;em&gt;get()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5C31;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x63D0;&amp;#x4F9B;&amp;#x6240;&amp;#x4EE5;&amp;#x9700;&amp;#x8981;&amp;#x7684;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E5F;&amp;#x662F;&amp;#x5982;&amp;#x6B64;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B83;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;em&gt;getDataSourceForRequest()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x62BD;&amp;#x8C61;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x7EC6;&amp;#x8282;&amp;#x5B9E;&amp;#x73B0;&amp;#x7531;&amp;#x5B83;&amp;#x7684;&amp;#x5B50;&amp;#x7C7B;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x518D;&amp;#x6B21;&amp;#x56DE;&amp;#x5230;&lt;strong&gt;getDataSourceForRequest&lt;/strong&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x5176;&amp;#x4E2D;&amp;#x5C31;&amp;#x80FD;&amp;#x591F;&amp;#x641C;&amp;#x7D22;&amp;#x5230;&lt;em&gt;getDataSourceForRequest()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;protected DataSource&amp;lt;CloseableReference&amp;lt;CloseableImage&amp;gt;&amp;gt; getDataSourceForRequest(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    ImageRequest imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Object callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    CacheLevel cacheLevel) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  return mImagePipeline.fetchDecodedImage(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      imageRequest,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      callerContext,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      convertCacheLevelToRequestLevel(cacheLevel));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x770B;&amp;#x5230;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5B9E;&amp;#x73B0;&amp;#x65B9;&amp;#x6CD5;&amp;#x662F;&amp;#x5426;&amp;#x773C;&amp;#x719F;&amp;#x5462;&amp;#xFF1F;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0A;&amp;#x9762;&amp;#x6240;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&lt;strong&gt;ImagePipleline&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x5728;&amp;#x591A;&amp;#x505A;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x5C31;&amp;#x4E0E;&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x901A;&amp;#x9053;&amp;#x5EFA;&amp;#x7ACB;&amp;#x4E86;&amp;#x8054;&amp;#x7CFB;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x8F6C;&amp;#x6218;&amp;#x5230;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x770B;&amp;#x770B;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;Controller&quot;&gt;&lt;a href=&quot;#Controller&quot; class=&quot;headerlink&quot; title=&quot;Controller&quot;&gt;&lt;/a&gt;Controller&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;PipelineDraweeController&lt;/strong&gt;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;AbstractDraweeController&lt;/strong&gt;&amp;#xFF0C;&amp;#x5728;&lt;strong&gt;PipelineDraweeController&lt;/strong&gt;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x6709;&amp;#x4E09;&amp;#x4E2A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Drawable createDrawable(CloseableImage closeableImage)&lt;/em&gt; &amp;#x8FD9;&amp;#x662F;&amp;#x5185;&amp;#x90E8;&amp;#x7C7B;&lt;strong&gt;DrawableFactory&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5DE5;&amp;#x5382;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8A00;&amp;#x800C;&amp;#x55BB;&amp;#x5B83;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&amp;#xFF0C;&amp;#x5728;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8FD4;&amp;#x56DE;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x8FDB;&amp;#x800C;&amp;#x663E;&amp;#x793A;&amp;#x5230;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x5C42;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;getDataSource()&lt;/em&gt; &amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x901A;&amp;#x9053;&amp;#xFF0C;&amp;#x4E0E;&amp;#x5176;&amp;#x5EFA;&amp;#x7ACB;&amp;#x8054;&amp;#x7CFB;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setHierarchy(@Nullable DraweeHierarchy hierarchy)&lt;/em&gt; &amp;#x8BBE;&amp;#x7F6E;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x6301;&amp;#x6709;&amp;#x7684;&amp;#x5176;&amp;#x5B9E;&amp;#x662F;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5185;&amp;#x90E8;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x5B83;&amp;#x7684;6&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x6587;&amp;#x7AE0;&amp;#x4E5F;&amp;#x6709;&amp;#x63D0;&amp;#x53CA;&amp;#xFF0C;&amp;#x7528;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x5176;&amp;#x4F59;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x5904;&amp;#x7406;&amp;#x90FD;&amp;#x5728;&amp;#x5B83;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&lt;strong&gt;AbstractDraweeController&lt;/strong&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x5728;&amp;#x4E4B;&amp;#x524D;&amp;#x6211;&amp;#x4EEC;&amp;#x591A;&amp;#x6B21;&amp;#x63D0;&amp;#x53CA;&amp;#x5230;&lt;strong&gt;onAttach&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;onDetach&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EEC;&amp;#x5206;&amp;#x522B;&amp;#x662F;&amp;#x5904;&amp;#x7406;&amp;#x6570;&amp;#x636E;&amp;#x52A0;&amp;#x8F7D;&amp;#x4E0E;&amp;#x91CA;&amp;#x653E;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;onAttach&quot;&gt;&lt;a href=&quot;#onAttach&quot; class=&quot;headerlink&quot; title=&quot;onAttach&quot;&gt;&lt;/a&gt;onAttach&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt; @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; public void onAttach() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   if (FLog.isLoggable(FLog.VERBOSE)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     FLog.v(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         TAG,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         &amp;quot;controller %x %s: onAttach: %s&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         System.identityHashCode(this),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         mId,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;         mIsRequestSubmitted ? &amp;quot;request already submitted&amp;quot; : &amp;quot;request needs submit&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   //&amp;#x4E8B;&amp;#x4EF6;&amp;#x8BB0;&amp;#x5F55;&amp;#x5668;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;mEventTracker.recordEvent(Event.ON_ATTACH_CONTROLLER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; Preconditions.checkNotNull(mSettableDraweeHierarchy);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   //&amp;#x53D6;&amp;#x6D88;&amp;#x8D44;&amp;#x6E90;&amp;#x63A8;&amp;#x8FDF;&amp;#x91CA;&amp;#x653E;&amp;#x673A;&amp;#x5236;&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x8D44;&amp;#x6E90;&amp;#x88AB;&amp;#x91CA;&amp;#x653E;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   mDeferredReleaser.cancelDeferredRelease(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   mIsAttached = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   if (!mIsRequestSubmitted) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     submitRequest();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&lt;strong&gt;mEventTracker&lt;/strong&gt;&amp;#x662F;&amp;#x4E8B;&amp;#x4EF6;&amp;#x8BB0;&amp;#x5F55;&amp;#x5668;&amp;#xFF0C;&amp;#x9ED8;&amp;#x8BA4;&amp;#x662F;&amp;#x5F00;&amp;#x542F;&amp;#x7684;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x5173;&amp;#x95ED;&amp;#x5219;&amp;#x9700;&amp;#x8981;&amp;#x5728;&lt;em&gt;Fresco.initialize()&lt;/em&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x8C03;&amp;#x7528;&lt;em&gt;DraweeEventTracker.disable()&lt;/em&gt;&amp;#x5173;&amp;#x95ED;&amp;#xFF1B;&amp;#x7136;&amp;#x540E;&amp;#x5C31;&amp;#x662F;&amp;#x5C06;&amp;#x5176;&amp;#x4ECE;&amp;#x8D44;&amp;#x6E90;&amp;#x63A8;&amp;#x8FDF;&amp;#x91CA;&amp;#x653E;&amp;#x673A;&amp;#x5236;&amp;#x4E2D;&amp;#x53D6;&amp;#x6D88;&amp;#xFF1B;&amp;#x6700;&amp;#x540E;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&lt;em&gt;submitRequest()&lt;/em&gt;&amp;#x53D1;&amp;#x9001;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8BF7;&amp;#x6C42;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void submitRequest() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final T closeableImage = getCachedImage();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //1.&amp;#x5224;&amp;#x65AD;&amp;#x5185;&amp;#x5B58;&amp;#x7F13;&amp;#x5B58;&amp;#x4E2D;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (closeableImage != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mDataSource = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mIsRequestSubmitted = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mHasFetchFailed = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     mEventTracker.recordEvent(Event.ON_SUBMIT_CACHE_HIT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //1.1&amp;#x6570;&amp;#x636E;&amp;#x83B7;&amp;#x53D6;&amp;#x4E2D;&amp;#x901A;&amp;#x77E5;&amp;#x56DE;&amp;#x8C03;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    getControllerListener().onSubmit(mId, mCallerContext);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //1.2&amp;#x6570;&amp;#x636E;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    onNewResultInternal(mId, mDataSource, closeableImage, 1.0f, true, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   mEventTracker.recordEvent(Event.ON_DATASOURCE_SUBMIT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //2.&amp;#x901A;&amp;#x8FC7;DataSource&amp;#x83B7;&amp;#x53D6;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //2.1&amp;#x6570;&amp;#x636E;&amp;#x83B7;&amp;#x53D6;&amp;#x4E2D;&amp;#x901A;&amp;#x77E5;&amp;#x56DE;&amp;#x8C03;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  getControllerListener().onSubmit(mId, mCallerContext);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mSettableDraweeHierarchy.setProgress(0, true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mIsRequestSubmitted = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mHasFetchFailed = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mDataSource = getDataSource();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (FLog.isLoggable(FLog.VERBOSE)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FLog.v(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        TAG,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;quot;controller %x %s: submitRequest: dataSource: %x&amp;quot;,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.identityHashCode(this),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        mId,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        System.identityHashCode(mDataSource));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final String id = mId;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final boolean wasImmediate = mDataSource.hasResult();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x5185;&amp;#x90E8;&amp;#x8BF7;&amp;#x6C42;&amp;#x6570;&amp;#x636E;&amp;#x56DE;&amp;#x8C03;&amp;#xFF0C;&amp;#x5F53;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8FD4;&amp;#x56DE;&amp;#x65F6;&amp;#x56DE;&amp;#x8C03;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  final DataSubscriber&amp;lt;T&amp;gt; dataSubscriber =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      new BaseDataSubscriber&amp;lt;T&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onNewResultImpl(DataSource&amp;lt;T&amp;gt; dataSource) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          // isFinished must be obtained before image, otherwise we might set intermediate result&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          // as final image.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          boolean isFinished = dataSource.isFinished();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          float progress = dataSource.getProgress();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          T image = dataSource.getResult();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          //2.2&amp;#x6570;&amp;#x636E;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (image != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x6210;&amp;#x529F;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            onNewResultInternal(id, dataSource, image, progress, isFinished, wasImmediate);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          } else if (isFinished) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            //&amp;#x5931;&amp;#x8D25;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            onFailureInternal(id, dataSource, new NullPointerException(), /* isFinished */ true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onFailureImpl(DataSource&amp;lt;T&amp;gt; dataSource) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          //&amp;#x5931;&amp;#x8D25;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          onFailureInternal(id, dataSource, dataSource.getFailureCause(), /* isFinished */ true);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        @Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        public void onProgressUpdate(DataSource&amp;lt;T&amp;gt; dataSource) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          boolean isFinished = dataSource.isFinished();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          float progress = dataSource.getProgress();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          //&amp;#x6570;&amp;#x636E;&amp;#x8FDB;&amp;#x5EA6;&amp;#x5904;&amp;#x7406;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          onProgressUpdateInternal(id, dataSource, progress, isFinished);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      };&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  //&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8BA2;&amp;#x9605;&amp;#x56DE;&amp;#x8C03;&amp;#x6CE8;&amp;#x518C;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mDataSource.subscribe(dataSubscriber, mUiThreadImmediateExecutor);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x903B;&amp;#x8F91;&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x4E2D;&amp;#x5DF2;&amp;#x7ECF;&amp;#x8BE6;&amp;#x7EC6;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E86;&amp;#xFF0C;&amp;#x603B;&amp;#x7684;&amp;#x6765;&amp;#x8BF4;&amp;#x5C31;&amp;#x662F;&amp;#x5148;&amp;#x4ECE;&amp;#x5185;&amp;#x5B58;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#x5C31;&amp;#x76F4;&amp;#x63A5;&amp;#x62FF;&amp;#x6765;&amp;#x7528;&amp;#xFF0C;&amp;#x5426;&amp;#x5219;&amp;#x5C31;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x4ECE;&amp;#x7F51;&amp;#x7EDC;&amp;#x6216;&amp;#x8005;&amp;#x662F;&amp;#x672C;&amp;#x5730;&amp;#x8D44;&amp;#x6E90;&amp;#x4E2D;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x65B9;&amp;#x5F0F;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;&lt;strong&gt;DataSubscriber&lt;/strong&gt;&amp;#xFF0C;&amp;#x5373;&amp;#x8BA2;&amp;#x9605;&amp;#x65B9;&amp;#x5F0F;&amp;#x3002;&amp;#x5F53;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x5DF2;&amp;#x7ECF;&amp;#x83B7;&amp;#x53D6;&amp;#x5230;&amp;#x65F6;&amp;#xFF0C;&amp;#x53D1;&amp;#x9001;&amp;#x901A;&amp;#x77E5;&amp;#x7ED9;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x5206;&amp;#x522B;&amp;#x56DE;&amp;#x8C03;&amp;#x8BA2;&amp;#x9605;&amp;#x8005;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x4E0A;&amp;#x8FF0;&amp;#x4E24;&amp;#x79CD;&amp;#x65B9;&amp;#x5F0F;&amp;#x53EA;&amp;#x8981;&amp;#x6210;&amp;#x529F;&amp;#x4E86;&amp;#x90FD;&amp;#x4F1A;&amp;#x4EA4;&amp;#x7531;&lt;em&gt;onNewResultInternal()&lt;/em&gt;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x800C;&amp;#x5931;&amp;#x8D25;&amp;#x5219;&amp;#x7531;&lt;em&gt;onFailureInternal()&lt;/em&gt;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FDB;&amp;#x5EA6;&amp;#x5904;&amp;#x7406;&amp;#x7531;&lt;em&gt;onProgressUpdateInternal()&lt;/em&gt;&amp;#x5904;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void onNewResultInternal(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    String id,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DataSource&amp;lt;T&amp;gt; dataSource,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    @Nullable T image,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    float progress,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    boolean isFinished,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    boolean wasImmediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // ignore late callbacks (data source that returned the new result is not the one we expected)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (!isExpectedDataSource(id, dataSource)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    logMessageAndImage(&amp;quot;ignore_old_datasource @ onNewResult&amp;quot;, image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    releaseImage(image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    dataSource.close();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mEventTracker.recordEvent(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      isFinished ? Event.ON_DATASOURCE_RESULT : Event.ON_DATASOURCE_RESULT_INT);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // create drawable&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Drawable drawable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    drawable = createDrawable(image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } catch (Exception exception) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    logMessageAndImage(&amp;quot;drawable_failed @ onNewResult&amp;quot;, image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    releaseImage(image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    onFailureInternal(id, dataSource, exception, isFinished);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  T previousImage = mFetchedImage;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Drawable previousDrawable = mDrawable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mFetchedImage = image;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mDrawable = drawable;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // set the new image&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (isFinished) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      logMessageAndImage(&amp;quot;set_final_result @ onNewResult&amp;quot;, image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mDataSource = null;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      //&amp;#x901A;&amp;#x8FC7;hierarchy&amp;#xFF08;GenericDraweeHierarchy&amp;#xFF09;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;image&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mSettableDraweeHierarchy.setImage(drawable, 1f, wasImmediate);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      getControllerListener().onFinalImageSet(id, getImageInfo(image), getAnimatable());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      // IMPORTANT: do not execute any instance-specific code after this point&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      logMessageAndImage(&amp;quot;set_intermediate_result @ onNewResult&amp;quot;, image);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mSettableDraweeHierarchy.setImage(drawable, progress, wasImmediate);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       getControllerListener().onIntermediateImageSet(id, getImageInfo(image));&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      // IMPORTANT: do not execute any instance-specific code after this point&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (previousDrawable != null &amp;amp;&amp;amp; previousDrawable != drawable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      releaseDrawable(previousDrawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (previousImage != null &amp;amp;&amp;amp; previousImage != image) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      logMessageAndImage(&amp;quot;release_previous_result @ onNewResult&amp;quot;, previousImage);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      releaseImage(previousImage);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x4E3B;&amp;#x8981;&amp;#x5C31;&amp;#x770B;&amp;#x91CC;&amp;#x9762;&amp;#x7684;&amp;#x4E24;&amp;#x4E2A;&lt;strong&gt;try&lt;/strong&gt;&amp;#x3002;&lt;br&gt;&amp;#x7B2C;&amp;#x4E00;&amp;#x4E2A;&amp;#x4F7F;&amp;#x7528;&lt;em&gt;createDrawable(image)&lt;/em&gt;&amp;#x5C06;&amp;#x62FF;&amp;#x5230;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8F6C;&amp;#x53D8;&amp;#x6210;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x662F;&amp;#x5728;&amp;#x5B50;&amp;#x7C7B;&amp;#x4E2D;&amp;#x5B9E;&amp;#x73B0;(&amp;#x4E0A;&amp;#x9762;&amp;#x4E5F;&amp;#x6709;&amp;#x63D0;&amp;#x53CA;)&amp;#x3002;&lt;br&gt;&amp;#x7B2C;&amp;#x4E8C;&amp;#x4E2A;&amp;#x5206;&amp;#x4E3A;&amp;#x4E24;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x4E00;&amp;#x65B9;&amp;#x9762;&amp;#x5982;&amp;#x679C;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5168;&amp;#x90E8;&amp;#x83B7;&amp;#x53D6;&amp;#x5B8C;&amp;#xFF0C;&amp;#x5219;&amp;#x76F4;&amp;#x63A5;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&lt;em&gt;setImage()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x5C06;&amp;#x56FE;&amp;#x7247;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#x4E0A;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;Listener&lt;/strong&gt;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x65B9;&amp;#x6CD5;&lt;em&gt;onFinalImageSet()&lt;/em&gt;;&amp;#x53E6;&amp;#x4E00;&amp;#x65B9;&amp;#x9762;&amp;#x5982;&amp;#x679C;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x8FD8;&amp;#x5728;&amp;#x83B7;&amp;#x53D6;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&lt;em&gt;setImage()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x53C2;&amp;#x6570;&lt;strong&gt;progress&lt;/strong&gt;&amp;#x6839;&amp;#x636E;&amp;#x8FDB;&amp;#x5EA6;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x800C;&amp;#x5DF2;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x8FD8;&amp;#x5904;&amp;#x4E8E;&amp;#x8D44;&amp;#x6E90;&amp;#x83B7;&amp;#x53D6;&amp;#x4E2D;&amp;#x6240;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&lt;em&gt;onIntermediateImageSet()&lt;/em&gt;&amp;#x56DE;&amp;#x8C03;&amp;#x3002;&lt;br&gt;&amp;#x8FD9;&amp;#x6837;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x5C31;&amp;#x4E0E;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x8054;&amp;#x7CFB;&amp;#x8D77;&amp;#x6765;&amp;#x4E86;&amp;#xFF0C;&amp;#x5C06;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x7406;&amp;#x89E3;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x56DE;&amp;#x8FC7;&amp;#x5934;&amp;#x53BB;&amp;#x770B;&amp;#x6211;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2017/12/07/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BHierarchy/&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;Hierarchy&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x6E90;&amp;#x7801;&amp;#x592A;&amp;#x591A;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&lt;em&gt;onFailureInternal()&lt;/em&gt;&amp;#x4E0E;&lt;em&gt;onProgressUpdateInternal()&lt;/em&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x8D34;&amp;#x51FA;&amp;#x6E90;&amp;#x7801;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&amp;#x3002;&amp;#x539F;&amp;#x7406;&amp;#x4E0E;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x57FA;&amp;#x672C;&amp;#x7C7B;&amp;#x4F3C;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x7684;&amp;#x53EF;&amp;#x4EE5;&amp;#x70B9;&lt;a href=&quot;https://github.com/facebook/fresco/blob/master/drawee/src/main/java/com/facebook/drawee/controller/AbstractDraweeController.java&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x8FD9;&amp;#x91CC;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;onDetach&quot;&gt;&lt;a href=&quot;#onDetach&quot; class=&quot;headerlink&quot; title=&quot;onDetach&quot;&gt;&lt;/a&gt;onDetach&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public void onDetach() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (FLog.isLoggable(FLog.VERBOSE)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    FLog.v(TAG, &amp;quot;controller %x %s: onDetach&amp;quot;, System.identityHashCode(this), mId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mEventTracker.recordEvent(Event.ON_DETACH_CONTROLLER);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mIsAttached = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mDeferredReleaser.scheduleDeferredRelease(this);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x76F8;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&amp;#x5206;&amp;#x6790;&lt;em&gt;onDetach()&lt;/em&gt;&amp;#x5C31;&amp;#x7B80;&amp;#x5355;&amp;#x591A;&amp;#x4E86;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5B83;&amp;#x53EA;&amp;#x662F;&amp;#x5BF9;&amp;#x8D44;&amp;#x6E90;&amp;#x8FDB;&amp;#x884C;&amp;#x91CA;&amp;#x653E;&amp;#xFF0C;&amp;#x91CA;&amp;#x653E;&amp;#x7684;&amp;#x7B56;&amp;#x7565;&amp;#x4E5F;&amp;#x662F;&amp;#x63A8;&amp;#x8FDF;&amp;#x91CA;&amp;#x653E;&amp;#x7B56;&amp;#x7565;&lt;a href=&quot;https://github.com/facebook/fresco/blob/master/drawee/src/main/java/com/facebook/drawee/components/DeferredReleaser.java&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;DeferredReleaser&lt;/a&gt;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h1&gt;&lt;p&gt;&amp;#x672C;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x76F8;&amp;#x5173;&amp;#x5904;&amp;#x7406;&amp;#x903B;&amp;#x8F91;&amp;#xFF0C;&amp;#x5B83;&amp;#x63A7;&amp;#x5236;&amp;#x7740;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x663E;&amp;#x793A;&amp;#x903B;&amp;#x8F91;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x5B83;&amp;#x662F;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x6865;&amp;#x6881;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x6765;&amp;#x94FE;&amp;#x63A5;&amp;#x6570;&amp;#x636E;&amp;#x6E90;&amp;#x7684;&amp;#x83B7;&amp;#x53D6;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x95EE;&amp;#x9898;&amp;#x53C8;&amp;#x6765;&amp;#x4E86;&amp;#xFF0C;&lt;strong&gt;DataSource&lt;/strong&gt;&amp;#x53C8;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x4EA7;&amp;#x751F;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x540C;&amp;#x65F6;&amp;#x5B83;&amp;#x7684;&amp;#x5185;&amp;#x90E8;&amp;#x903B;&amp;#x8F91;&amp;#x53C8;&amp;#x662F;&amp;#x5982;&amp;#x4F55;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x8FD9;&amp;#x5C31;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&lt;strong&gt;Producer&lt;/strong&gt;&amp;#x4E86;&amp;#xFF0C;&amp;#x656C;&amp;#x8BF7;&amp;#x5173;&amp;#x6CE8;&amp;#x4E0B;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;code&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;Producer&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/Fresco-Source-Analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x7CFB;&amp;#x5217;Github&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x662F;&amp;#x7B2C;&amp;#x4E00;&amp;#x6B21;&amp;#x770B;&amp;#x6211;&amp;#x7684;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Fresco源码分析之Hierarchy</title>
    <link href="https://idisfkj.github.io/2017/12/07/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BHierarchy/"/>
    <id>https://idisfkj.github.io/2017/12/07/Fresco源码分析之Hierarchy/</id>
    <published>2017-12-07T14:28:31.000Z</published>
    <updated>2017-12-28T14:36:38.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x6211;&amp;#x4EEC;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;DraweeView&lt;/strong&gt;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x539F;&amp;#x7406;&amp;#x4EE5;&amp;#x53CA;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x89E3;&amp;#x6790;&amp;#x3002;&amp;#x5728;&amp;#x8FD9;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x4E86;&amp;#x89E3;&amp;#x5230;&amp;#xFF0C;&lt;strong&gt;DraweeView&lt;/strong&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;DraweeHolder&lt;/strong&gt;&amp;#x6765;&amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x7684;&amp;#x3002;&amp;#x800C;&lt;strong&gt;DraweeHolder&lt;/strong&gt;&amp;#x53C8;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x7EDF;&amp;#x4E00;&amp;#x7BA1;&amp;#x7406;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x4E86;&amp;#x89E3;&lt;strong&gt;DraweeView&lt;/strong&gt;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5148;&amp;#x770B;&amp;#x4E0B;&amp;#x6211;&amp;#x7684;&amp;#x524D;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&lt;a href=&quot;https://idisfkj.github.io/2017/11/28/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BDraweeView/&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x4E4B;DraweeView&lt;/a&gt;&amp;#x3002;&amp;#x4ECA;&amp;#x5929;&amp;#x8FD9;&amp;#x91CC;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x6765;&amp;#x5206;&amp;#x6790;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;GenericDraweeHierarchyBuilder&quot;&gt;&lt;a href=&quot;#GenericDraweeHierarchyBuilder&quot; class=&quot;headerlink&quot; title=&quot;GenericDraweeHierarchyBuilder&quot;&gt;&lt;/a&gt;GenericDraweeHierarchyBuilder&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&lt;strong&gt;GenericDraweeView&lt;/strong&gt;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;em&gt;inflateHierarchy(context, atts)&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;GenericDraweeHierarchyBuilder&lt;/strong&gt;&amp;#x5BF9;&amp;#x8C61;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;&amp;#x8BE5;&amp;#x5BF9;&amp;#x8C61;&amp;#x7684;&lt;strong&gt;build&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x751F;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x770B;&amp;#x4E86;&amp;#x6211;&amp;#x4E0A;&amp;#x4E00;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F60;&amp;#x4F1A;&amp;#x611F;&amp;#x5230;&amp;#x5F88;&amp;#x4EB2;&amp;#x5207;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x4E2A;&amp;#x7C7B;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x4F5C;&amp;#x7528;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x6A21;&amp;#x5F0F;&amp;#x6765;&amp;#x5B9E;&amp;#x4F8B;&amp;#x5316;&amp;#x5305;&amp;#x542B;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4E00;&amp;#x6B65;&amp;#x6B65;&amp;#x6DF1;&amp;#x5165;&amp;#x4E86;&amp;#x89E3;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x4F60;&amp;#x5BF9;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x6A21;&amp;#x5F0F;&amp;#x4E5F;&amp;#x5C06;&amp;#x4E60;&amp;#x4EE5;&amp;#x4E3A;&amp;#x5E38;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x540E;&amp;#x9762;&amp;#x4F60;&amp;#x5C06;&amp;#x7ECF;&amp;#x5E38;&amp;#x4E0E;&amp;#x5B83;&amp;#x78B0;&amp;#x9762;&amp;#x3002;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x5F00;&amp;#x6E90;&amp;#x9879;&amp;#x76EE;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x8BBE;&amp;#x8BA1;&amp;#x6A21;&amp;#x5F0F;&amp;#x3002;&amp;#x5728;&amp;#x8BE5;&lt;strong&gt;builder&lt;/strong&gt;&amp;#x7C7B;&amp;#x4E2D;&amp;#x4E3B;&amp;#x8981;&amp;#x6784;&amp;#x5EFA;&amp;#x7684;&amp;#x4FE1;&amp;#x606F;&amp;#x6709;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x76F8;&amp;#x5173;&amp;#xFF1A;&lt;strong&gt;placeholderImage&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;retryImage&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;failureImage&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;progressBarImage&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;background&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;overlays&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;pressedStateOverlay&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ScaleType&lt;/strong&gt;&amp;#x76F8;&amp;#x5173;&amp;#xFF1A;&amp;#x4E0E;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x76F8;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&lt;strong&gt;placeholderImageScaleType&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;retryImageScaleType&lt;/strong&gt;&amp;#x7B49;&amp;#x7B49;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&amp;#x5176;&amp;#x5B83;&amp;#xFF1A;&lt;strong&gt;fadeDuration&lt;/strong&gt;&amp;#x6E10;&amp;#x53D8;&amp;#x8FC7;&amp;#x6E21;&amp;#x65F6;&amp;#x95F4;&amp;#x4E0E;&lt;strong&gt;RoundingParams&lt;/strong&gt;&amp;#x5706;&amp;#x89D2;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&amp;#x7B49;&amp;#x7B49;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&quot;GenericDraweeHierarchy&quot;&gt;&lt;a href=&quot;#GenericDraweeHierarchy&quot; class=&quot;headerlink&quot; title=&quot;GenericDraweeHierarchy&quot;&gt;&lt;/a&gt;GenericDraweeHierarchy&lt;/h1&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;strong&gt;GenericDraweeHierarchyBuilder&lt;/strong&gt;&amp;#x7684;&lt;strong&gt;build&lt;/strong&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F1A;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x5BF9;&amp;#x8C61;&amp;#x3002;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4ECA;&amp;#x5929;&amp;#x9700;&amp;#x8981;&amp;#x4E3B;&amp;#x8981;&amp;#x5206;&amp;#x6790;&amp;#x7684;&amp;#x7C7B;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x6838;&amp;#x5FC3;&amp;#x7C7B;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;SettableDraweeHierarchy&quot;&gt;&lt;a href=&quot;#SettableDraweeHierarchy&quot; class=&quot;headerlink&quot; title=&quot;SettableDraweeHierarchy&quot;&gt;&lt;/a&gt;SettableDraweeHierarchy&lt;/h2&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x5206;&amp;#x6790;&amp;#x4E00;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x5B83;&amp;#x4F1A;&amp;#x5B9E;&amp;#x73B0;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&amp;#x8BE5;&amp;#x63A5;&amp;#x53E3;&amp;#x53D1;&amp;#x73B0;&amp;#x4E00;&amp;#x5171;&amp;#x6709;6&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EEC;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;em&gt;void reset();&lt;/em&gt; &amp;#x91CD;&amp;#x65B0;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;strong&gt;Hierarchy&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setImage(Drawable drawable, float progress, boolean immediate);&lt;/em&gt; &amp;#x8BBE;&amp;#x7F6E;&amp;#x5B9E;&amp;#x9645;&amp;#x9700;&amp;#x8981;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;strong&gt;progress&lt;/strong&gt;&amp;#x8868;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x52A0;&amp;#x8F7D;&amp;#x8D28;&amp;#x91CF;&amp;#x8FDB;&amp;#x5EA6;(&amp;#x5728;&amp;#x6E10;&amp;#x8FDB;&amp;#x5F0F;&amp;#x4E2D;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x5230;)&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setProgress(float progress, boolean immediate);&lt;/em&gt; &amp;#x66F4;&amp;#x65B0;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FDB;&amp;#x5EA6;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setFailure(Throwable throwable);&lt;/em&gt; &amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5931;&amp;#x8D25;&amp;#x65F6;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;&amp;#x7F6E;&lt;strong&gt;failureImage&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setRetry(Throwable throwable);&lt;/em&gt; &amp;#x5F53;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5931;&amp;#x8D25;&amp;#x65F6;&amp;#x91CD;&amp;#x65B0;&amp;#x8FDB;&amp;#x884C;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x8BBE;&amp;#x7F6E;&lt;strong&gt;retryImage&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void setControllerOverlay(Drawable drawable);&lt;/em&gt; &amp;#x7528;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x56FE;&amp;#x5C42;&amp;#x8986;&amp;#x76D6;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x5728;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x4F1A;&amp;#x505A;&amp;#x51FA;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x6700;&amp;#x7EC8;&amp;#x90FD;&amp;#x4F1A;&amp;#x5728;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&lt;strong&gt;DraweeView&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x6765;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x81F3;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x7EC6;&amp;#x8282;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x4EE3;&amp;#x7801;&amp;#x6BD4;&amp;#x8F83;&amp;#x591A;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x4E00;&amp;#x4E00;&amp;#x5217;&amp;#x4E3E;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x5927;&amp;#x5BB6;&amp;#x53EF;&amp;#x4EE5;&amp;#x81EA;&amp;#x884C;&amp;#x67E5;&amp;#x770B;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;DraweeHierarchy&quot;&gt;&lt;a href=&quot;#DraweeHierarchy&quot; class=&quot;headerlink&quot; title=&quot;DraweeHierarchy&quot;&gt;&lt;/a&gt;DraweeHierarchy&lt;/h2&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x7236;&amp;#x7C7B;&amp;#x63A5;&amp;#x53E3;&amp;#x4E3A;&lt;strong&gt;DraweeHierarchy&lt;/strong&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x8FD9;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#x4E2D;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x63A5;&amp;#x53E3;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E3A;&lt;em&gt;Drawable getTopLevelDrawable();&lt;/em&gt;&amp;#x3002;&amp;#x662F;&amp;#x4E0D;&amp;#x662F;&amp;#x5BF9;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E5F;&amp;#x6709;&amp;#x70B9;&amp;#x719F;&amp;#x6089;&amp;#x5462;&amp;#xFF1F;&amp;#xFF08;&amp;#x8DEF;&amp;#x4EBA;&amp;#x7532;&amp;#xFF1A;&amp;#x55EF;&amp;#xFF0C;&amp;#x597D;&amp;#x50CF;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x63D0;&amp;#x53CA;&amp;#x8FC7;&amp;#xFF01;&amp;#xFF09;&amp;#x5B83;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x89C6;&amp;#x56FE;&amp;#x6811;&amp;#x7684;&amp;#x6700;&amp;#x9876;&amp;#x5C42;&amp;#x89C6;&amp;#x56FE;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x8BF4;&amp;#x767D;&amp;#x4E86;&amp;#x5C31;&amp;#x662F;&amp;#x663E;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x3002;&amp;#x5B83;&amp;#x4E3B;&amp;#x8981;&amp;#x5728;&lt;strong&gt;DraweeHolder&lt;/strong&gt;&amp;#x4E2D;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4E5F;&amp;#x4F1A;&amp;#x7531;&lt;em&gt;void setHierarchy(DH hierarchy)&lt;/em&gt; &amp;#x4E0E; &lt;em&gt;void setController(@Nullable DraweeController draweeController)&lt;/em&gt; &amp;#x6765;&amp;#x8C03;&amp;#x7528;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;super.setImageDrawable(mDraweeHolder.getTopLevelDrawable());&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4ECE;&amp;#x800C;&amp;#x663E;&amp;#x793A;&amp;#x9700;&amp;#x8981;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x56DE;&amp;#x5230;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x7C7B;&amp;#x3002;&amp;#x5728;&amp;#x5F00;&amp;#x59CB;&amp;#x5206;&amp;#x6790;&amp;#x5B83;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5148;&amp;#x6765;&amp;#x4E86;&amp;#x89E3;&amp;#x4E00;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x53E6;&amp;#x4E00;&amp;#x4E2A;&amp;#x611F;&amp;#x5FF5;-&lt;code&gt;&amp;#x5C42;&amp;#x7EA7;&amp;#x6811;&amp;#x6216;&amp;#x8005;&amp;#x8BF4;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&lt;/code&gt;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x628A;&amp;#x5B83;&amp;#x8BF4;&amp;#x6210;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x5427;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x662F;&amp;#x4EC0;&amp;#x4E48;&amp;#x6837;&amp;#x7684;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;*  o RootDrawable (top level drawable)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*  |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*  +--o FadeDrawable&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     +--o ScaleTypeDrawable (placeholder branch, optional)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |  |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |  +--o Drawable (placeholder image)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     +--o ScaleTypeDrawable (actual image branch)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |  |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |  +--o ForwardingDrawable (actual image wrapper)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |     +--o Drawable (actual image)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     +--o null (progress bar branch, optional)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     +--o Drawable (retry image branch, optional)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*     +--o ScaleTypeDrawable (failure image branch, optional)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*        |&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;*        +--o Drawable (failure image&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x4E0A;&amp;#x9762;&amp;#x6240;&amp;#x5C55;&amp;#x793A;&amp;#x7684;&amp;#x5C42;&amp;#x6B21;&amp;#x7ED3;&amp;#x6784;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x53D1;&amp;#x73B0;&amp;#x6700;&amp;#x5E95;&amp;#x5C42;&amp;#x662F;&amp;#x7531;&lt;strong&gt;RootDrawable&lt;/strong&gt;&amp;#x6765;&amp;#x6784;&amp;#x6210;&amp;#xFF0C;&amp;#x5B83;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x76F4;&amp;#x63A5;&amp;#x5B50;&amp;#x5206;&amp;#x652F;&amp;#x4E3A;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x3002;&amp;#x800C;&amp;#x5728;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x4E2D;&amp;#x53C8;&amp;#x6709;5&amp;#x4E2A;&amp;#x76F4;&amp;#x63A5;&amp;#x5B50;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;strong&gt;placeholder branch&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;actual image branch&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;progressBar image branch&lt;/strong&gt;&amp;#x3001;&lt;strong&gt;retry image branch&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;failure image branch&lt;/strong&gt;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E9B;&lt;strong&gt;image&lt;/strong&gt;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x76F8;&amp;#x4FE1;&amp;#x4E0D;&amp;#x7528;&amp;#x6211;&amp;#x518D;&amp;#x591A;&amp;#x505A;&amp;#x8BF4;&amp;#x660E;&amp;#x4E86;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E9B;&lt;strong&gt;image&lt;/strong&gt;&amp;#x9664;&amp;#x4E86;&lt;strong&gt;actual image&lt;/strong&gt;&amp;#x662F;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x660E;&amp;#x786E;&amp;#x6307;&amp;#x5B9A;&amp;#x7684;&amp;#xFF0C;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x53EF;&amp;#x9009;&amp;#x62E9;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&lt;strong&gt;RootDrawable&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x662F;&amp;#x4E00;&amp;#x5B9A;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x3002;&amp;#x867D;&amp;#x7136;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x53EF;&amp;#x9009;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#xFF0C;&amp;#x4F46;&amp;#x65E0;&amp;#x8BBA;&amp;#x4F60;&amp;#x662F;&amp;#x5426;&amp;#x9009;&amp;#x62E9;&amp;#x4E86;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EEC;&amp;#x7684;&amp;#x5C42;&amp;#x7EA7;&amp;#x7ED3;&amp;#x6784;&amp;#x90FD;&amp;#x4F1A;&amp;#x4FDD;&amp;#x7559;&amp;#x5728;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x4E2D;&amp;#x3002;&amp;#x8FD8;&amp;#x6709;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x5C42;&amp;#x7EA7;&amp;#x90FD;&amp;#x6709;&amp;#x81EA;&amp;#x5DF1;&amp;#x72EC;&amp;#x7ACB;&amp;#x7684;&lt;strong&gt;scale type&lt;/strong&gt;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&lt;strong&gt;rounding&lt;/strong&gt;(&amp;#x5706;&amp;#x89D2;)&amp;#x4E5F;&amp;#x662F;&amp;#x652F;&amp;#x6301;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x9664;&amp;#x4E86;&amp;#x8FD9;5&amp;#x4E2A;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x4E0E;&amp;#x5B83;&amp;#x4EEC;&amp;#x540C;&amp;#x4E00;&amp;#x5C42;&amp;#x6B21;&amp;#x7684;&amp;#x8FD8;&amp;#x6709;&lt;strong&gt;background image&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;overlay image&lt;/strong&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EEC;&amp;#x5206;&amp;#x522B;&amp;#x4F4D;&amp;#x4E8E;&lt;strong&gt;placeholder image&lt;/strong&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x4E0E;&lt;strong&gt;failure image&lt;/strong&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x3002;&lt;strong&gt;background&lt;/strong&gt;&amp;#x76F8;&amp;#x4FE1;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x56FE;&amp;#x7247;&amp;#x90FD;&amp;#x652F;&amp;#x6301;&lt;strong&gt;background&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;src&lt;/strong&gt;&amp;#xFF0C;&lt;strong&gt;overlay&lt;/strong&gt;&amp;#x4E3A;&amp;#x56FE;&amp;#x5C42;&amp;#x8986;&amp;#x76D6;&amp;#x3002;&amp;#x81F3;&amp;#x4E8E;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x6CA1;&amp;#x6709;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7ED3;&amp;#x6784;&amp;#x4E2D;&amp;#x663E;&amp;#x793A;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E5F;&amp;#x4E0D;&amp;#x5F97;&amp;#x800C;&amp;#x77E5;&amp;#xFF0C;&amp;#x731C;&amp;#x6D4B;&amp;#x53EF;&amp;#x80FD;&amp;#x662F;&amp;#x8FD9;&amp;#x4E24;&amp;#x4E2A;&amp;#x5E76;&amp;#x4E0D;&amp;#x662F;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x8FD9;&amp;#x4E9B;&amp;#x56FE;&amp;#x5C42;&amp;#x7ED3;&amp;#x6784;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;layers&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x6765;&amp;#x4F53;&amp;#x73B0;&amp;#x7684;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;GenericDraweeHierarchy(GenericDraweeHierarchyBuilder builder) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mResources = builder.getResources();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mRoundingParams = builder.getRoundingParams();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mActualImageWrapper = new ForwardingDrawable(mEmptyActualImageDrawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  int numOverlays = (builder.getOverlays() != null) ? builder.getOverlays().size() : 1;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  numOverlays += (builder.getPressedStateOverlay() != null) ? 1 : 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // layer indices and count&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  int numLayers = OVERLAY_IMAGES_INDEX + numOverlays;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // array of layers&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Drawable[] layers = new Drawable[numLayers];&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[BACKGROUND_IMAGE_INDEX] = buildBranch(builder.getBackground(), null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[PLACEHOLDER_IMAGE_INDEX] = buildBranch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getPlaceholderImage(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getPlaceholderImageScaleType());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[ACTUAL_IMAGE_INDEX] = buildActualImageBranch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      mActualImageWrapper,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getActualImageScaleType(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getActualImageFocusPoint(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getActualImageColorFilter());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[PROGRESS_BAR_IMAGE_INDEX] = buildBranch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getProgressBarImage(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getProgressBarImageScaleType());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[RETRY_IMAGE_INDEX] = buildBranch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getRetryImage(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getRetryImageScaleType());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  layers[FAILURE_IMAGE_INDEX] = buildBranch(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getFailureImage(),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      builder.getFailureImageScaleType());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (numOverlays &amp;gt; 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    int index = 0;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (builder.getOverlays() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      for (Drawable overlay : builder.getOverlays()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        layers[OVERLAY_IMAGES_INDEX + index++] = buildBranch(overlay, null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      index = 1; // reserve space for one overlay&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (builder.getPressedStateOverlay() != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      layers[OVERLAY_IMAGES_INDEX + index] = buildBranch(builder.getPressedStateOverlay(), null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // fade drawable composed of layers&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mFadeDrawable = new FadeDrawable(layers);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;   mFadeDrawable.setTransitionDuration(builder.getFadeDuration());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // rounded corners drawable (optional)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  Drawable maybeRoundedDrawable =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      WrappingUtils.maybeWrapWithRoundedOverlayColor(mFadeDrawable, mRoundingParams);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  // top-level drawable&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mTopLevelDrawable = new RootDrawable(maybeRoundedDrawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mTopLevelDrawable.mutate();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  resetFade();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6839;&amp;#x636E;&amp;#x6E90;&amp;#x7801;&amp;#x53EF;&amp;#x4EE5;&amp;#x660E;&amp;#x663E;&amp;#x7684;&amp;#x770B;&amp;#x51FA;&amp;#x4E0D;&amp;#x7BA1;&lt;strong&gt;overlay&lt;/strong&gt;&amp;#x662F;&amp;#x5426;&amp;#x5B58;&amp;#x5728;&amp;#xFF0C;&amp;#x5B83;&amp;#x90FD;&amp;#x4F1A;&amp;#x4FDD;&amp;#x7559;&amp;#x56FE;&amp;#x5C42;&amp;#x5C42;&amp;#x6B21;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x5982;&amp;#x679C;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5C31;&amp;#x6839;&amp;#x636E;&amp;#x5B9E;&amp;#x9645;&amp;#x60C5;&amp;#x51B5;&amp;#x5728;&lt;strong&gt;OVERLAY_IMAGES_INDEX&lt;/strong&gt;&amp;#x4E4B;&amp;#x540E;&amp;#x589E;&amp;#x52A0;&amp;#x56FE;&amp;#x5C42;&amp;#x5C42;&amp;#x6B21;&amp;#x3002;&lt;strong&gt;layers&lt;/strong&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x901A;&amp;#x8FC7;&lt;em&gt;Drawable buildBranch(@Nullable Drawable drawable, @Nullable ScaleType scaleType)&lt;/em&gt; &amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x3002;&amp;#x5728;&amp;#x6700;&amp;#x540E;&amp;#xFF0C;&amp;#x521B;&amp;#x5EFA;&amp;#x4E86;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x5E76;&amp;#x5C06;&lt;strong&gt;layers&lt;/strong&gt;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;&amp;#x5B83;&amp;#xFF0C;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x5E94;&amp;#x8BE5;&amp;#x6709;&amp;#x70B9;&amp;#x7709;&amp;#x76EE;&amp;#x4E86;&amp;#x5427;&amp;#xFF0C;&amp;#x5176;&amp;#x5B9E;&amp;#x5B83;&amp;#x5185;&amp;#x90E8;&amp;#x505A;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4E4B;&amp;#x540E;&lt;strong&gt;RootDrawable&lt;/strong&gt;&amp;#x4E5F;&amp;#x51FA;&amp;#x73B0;&amp;#x4E86;(&amp;#x5173;&amp;#x4E8E;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6587;&amp;#x7AE0;&amp;#x540E;&amp;#x9762;&amp;#x4F1A;&amp;#x7EDF;&amp;#x4E00;&amp;#x5206;&amp;#x6790;)&amp;#xFF0C;&amp;#x8FD9;&amp;#x6837;&amp;#x4E4B;&amp;#x524D;&amp;#x6240;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x5C42;&amp;#x7EA7;&amp;#x7ED3;&amp;#x6784;&amp;#x5C31;&amp;#x5F62;&amp;#x6210;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x65E2;&amp;#x7136;&lt;strong&gt;actual image&lt;/strong&gt;&amp;#x662F;&amp;#x4E00;&amp;#x5B9A;&amp;#x5B58;&amp;#x5728;&amp;#x7684;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5728;&amp;#x5B83;&amp;#x771F;&amp;#x6B63;&amp;#x5C55;&amp;#x793A;&amp;#x4E4B;&amp;#x524D;&lt;strong&gt;image&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x7528;&amp;#x4EC0;&amp;#x4E48;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x5176;&amp;#x5B9E;&amp;#x5C31;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4E4B;&amp;#x524D;&amp;#x6240;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&lt;strong&gt;SettableDraweeHierarchy&lt;/strong&gt;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x3002;&amp;#x5728;&amp;#x771F;&amp;#x5B9E;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x5C55;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#x4E4B;&amp;#x524D;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x7528;&amp;#x6765;&amp;#x5C55;&amp;#x793A;&lt;strong&gt;placeholder image&lt;/strong&gt;&amp;#x7B49;&amp;#x76F8;&amp;#x5173;&amp;#x56FE;&amp;#x5C42;&amp;#x3002;&amp;#x5177;&amp;#x4F53;&amp;#x7684;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x6765;&amp;#x770B;&amp;#x4E00;&amp;#x4E0B;&amp;#x5B83;&amp;#x91CC;&amp;#x9762;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;setImage&quot;&gt;&lt;a href=&quot;#setImage&quot; class=&quot;headerlink&quot; title=&quot;setImage&quot;&gt;&lt;/a&gt;setImage&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x62FF;&lt;em&gt;void setImage(Drawable drawable, float progress, boolean immediate)&lt;/em&gt; &amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x6DF1;&amp;#x5165;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;@Override&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;public void setImage(Drawable drawable, float progress, boolean immediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  drawable = WrappingUtils.maybeApplyLeafRounding(drawable, mRoundingParams, mResources);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  drawable.mutate();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mActualImageWrapper.setDrawable(drawable);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mFadeDrawable.beginBatchMode();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutBranches();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeInLayer(ACTUAL_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  setProgress(progress);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (immediate) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mFadeDrawable.finishTransitionImmediately();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mFadeDrawable.endBatchMode();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&amp;#x5E76;&amp;#x4E14;&amp;#x7ED3;&amp;#x5408;&lt;strong&gt;RoundingParams&lt;/strong&gt;&amp;#x53C2;&amp;#x6570;&amp;#x6765;&amp;#x91CD;&amp;#x65B0;&amp;#x751F;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&amp;#x53EF;&amp;#x4EE5;&amp;#x9644;&amp;#x5E26;&amp;#x5706;&amp;#x89D2;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x5C06;&amp;#x65B0;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x4EA4;&amp;#x7531;&lt;strong&gt;mActualImageWrapper&lt;/strong&gt;&amp;#xFF0C;&amp;#x7ED3;&amp;#x5408;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x5C42;&amp;#x6B21;&amp;#x7ED3;&amp;#x679C;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x4F1A;&amp;#x5F88;&amp;#x5BB9;&amp;#x6613;&amp;#x77E5;&amp;#x9053;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&amp;#x9700;&amp;#x8981;&amp;#x771F;&amp;#x5B9E;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x3002;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#x7C7B;&amp;#x578B;&amp;#xFF0C;&amp;#x8BE5;&amp;#x7C7B;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;&amp;#x4F20;&amp;#x5165;&amp;#x7684;&amp;#x76EE;&amp;#x6807;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x539F;&amp;#x751F;&amp;#x65B9;&amp;#x6CD5;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x4E0B;&amp;#x4E00;&amp;#x6B65;&amp;#x8C03;&amp;#x7528;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x7684;&lt;em&gt;beginBatchMode()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x4E3B;&amp;#x8981;&amp;#x4E3A;&amp;#x4E86;&amp;#x56FE;&amp;#x5C42;&amp;#x6279;&amp;#x5904;&amp;#x7406;&amp;#x505A;&amp;#x6807;&amp;#x8BB0;&amp;#xFF0C;&amp;#x9632;&amp;#x6B62;&amp;#x5728;&amp;#x6279;&amp;#x5904;&amp;#x7406;&amp;#x65F6;&amp;#x8FDB;&amp;#x884C;&lt;strong&gt;invalidate&lt;/strong&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x76F4;&amp;#x5230;&amp;#x6700;&amp;#x540E;&amp;#x7684;&lt;em&gt;endBatchMode()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x8C03;&amp;#x7528;&amp;#x4E4B;&amp;#x540E;&amp;#x624D;&amp;#x6807;&amp;#x8BC6;&amp;#x7740;&amp;#x56FE;&amp;#x5C42;&amp;#x6279;&amp;#x5904;&amp;#x7406;&amp;#x64CD;&amp;#x4F5C;&amp;#x7ED3;&amp;#x675F;&amp;#x3002;&amp;#x8BE5;&amp;#x6279;&amp;#x5904;&amp;#x7406;&amp;#x64CD;&amp;#x4F5C;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x662F;&amp;#x5C06;&lt;strong&gt;actual image&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#x663E;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x9996;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&lt;em&gt;fadeOutBranches()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void fadeOutBranches() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutLayer(PLACEHOLDER_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutLayer(ACTUAL_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutLayer(PROGRESS_BAR_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutLayer(RETRY_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  fadeOutLayer(FAILURE_IMAGE_INDEX);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5BF9;&amp;#x4E0A;&amp;#x8FF0;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&amp;#x6240;&amp;#x6709;&amp;#x56FE;&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&lt;em&gt;fadeOutLayer()&lt;/em&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x7EE7;&amp;#x7EED;&amp;#x8FDB;&amp;#x5165;&lt;em&gt;fadeOutLayer()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void fadeOutLayer(int index) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (index &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mFadeDrawable.fadeOutLayer(index);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x53D1;&amp;#x73B0;&amp;#x4E5F;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x65E0;&amp;#x975E;&amp;#x5C31;&amp;#x662F;&amp;#x8C03;&amp;#x7528;&amp;#x4E86;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x7684;&lt;em&gt;fadeOutLayer()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void fadeOutLayer(int index) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mTransitionState = TRANSITION_STARTING;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  mIsLayerOn[index] = false;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  invalidateSelf();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x4E4B;&amp;#x524D;&amp;#x5DF2;&amp;#x7ECF;&amp;#x63D0;&amp;#x5230;&amp;#x8FC7;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x672C;&amp;#x8D28;&amp;#x4E0A;&amp;#x53EF;&amp;#x4EE5;&amp;#x7406;&amp;#x89E3;&amp;#x4E3A;&amp;#x65F6;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x90FD;&amp;#x662F;&amp;#x56F4;&amp;#x7ED5;&amp;#x7740;&amp;#x6570;&amp;#x7EC4;&amp;#x6574;&amp;#x4F53;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x8FD8;&amp;#x6709;&lt;em&gt;fadeInLayer()&lt;/em&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void fadeInLayer(int index) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  if (index &amp;gt;= 0) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mFadeDrawable.fadeInLayer(index);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#x4E2D;&amp;#x9664;&amp;#x4E86;&amp;#x7528;&amp;#x6765;&amp;#x4FDD;&amp;#x5B58;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&lt;strong&gt;mLayers&lt;/strong&gt;&amp;#xFF0C;&amp;#x8FD8;&amp;#x6709;&amp;#x4E0E;&amp;#x5176;&amp;#x76F8;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&lt;strong&gt;mIsLayerOn&lt;/strong&gt;&amp;#x5E03;&amp;#x5C14;&amp;#x6570;&amp;#x7EC4;&amp;#xFF0C;&amp;#x8BE5;&amp;#x6570;&amp;#x7EC4;&amp;#x7528;&amp;#x6765;&amp;#x6807;&amp;#x8BC6;&amp;#x5404;&amp;#x4E2A;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&lt;em&gt;fadeOutLayer()&lt;/em&gt;&amp;#x662F;&amp;#x5BF9;&lt;strong&gt;index&lt;/strong&gt;&amp;#x5904;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&amp;#x9690;&amp;#x85CF;&amp;#x6807;&amp;#x8BC6;&amp;#x3002;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x663E;&amp;#x9690;&amp;#x64CD;&amp;#x4F5C;&amp;#x90FD;&amp;#x4F1A;&amp;#x8F6C;&amp;#x5316;&amp;#x4E3A;&amp;#x5728;&lt;em&gt;void draw(Canvas canvas)&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&lt;strong&gt;alpha&lt;/strong&gt;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x90A3;&amp;#x4E48;&amp;#x518D;&amp;#x56DE;&amp;#x5230;&amp;#x4E4B;&amp;#x524D;&amp;#x7684;&lt;em&gt;setImage()&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#xFF0C;&lt;em&gt;fadeOutBranches()&lt;/em&gt;&amp;#x662F;&amp;#x5BF9;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&amp;#x9690;&amp;#x85CF;&amp;#x6807;&amp;#x8BC6;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x518D;&amp;#x901A;&amp;#x8FC7;&lt;em&gt;fadeInLayer(ACTUAL_IMAGE_INDEX)&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6539;&amp;#x53D8;&lt;strong&gt;actual image&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x6807;&amp;#x8BC6;&amp;#xFF0C;&amp;#x5C06;&amp;#x5B83;&amp;#x6539;&amp;#x53D8;&amp;#x6210;&amp;#x663E;&amp;#x793A;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x5982;&amp;#x679C;&amp;#x6709;&lt;strong&gt;progressBar image&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C06;&amp;#x4F1A;&amp;#x7531;&lt;em&gt;setProgress(progress)&lt;/em&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x4F53;&amp;#x73B0;&amp;#x3002;&lt;strong&gt;immediate&lt;/strong&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x4E4B;&amp;#x540E;&amp;#x7684;&amp;#x663E;&amp;#x9690;&amp;#x64CD;&amp;#x4F5C;&amp;#x7ACB;&amp;#x9A6C;&amp;#x5B9E;&amp;#x73B0;&amp;#x6216;&amp;#x8005;&amp;#x6E10;&amp;#x53D8;&amp;#x8FC7;&amp;#x6E21;&amp;#x5B9E;&amp;#x73B0;(&amp;#x5185;&amp;#x90E8;&amp;#x5C31;&amp;#x662F;&amp;#x5BF9;alpha&amp;#x8FDB;&amp;#x884C;&amp;#x767E;&amp;#x5206;&amp;#x6BD4;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x6709;&amp;#x4E2A;mDurationMs&amp;#xFF0C;&amp;#x8BE5;&amp;#x65F6;&amp;#x95F4;&amp;#x503C;&amp;#x4E5F;&amp;#x662F;&amp;#x6587;&amp;#x7AE0;&amp;#x5F00;&amp;#x5934;&amp;#x63D0;&amp;#x5230;&amp;#x7684;builder&amp;#x4E2D;&amp;#x7684;fadeDuration)&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x6574;&amp;#x4E2A;&amp;#x7684;&amp;#x5B9E;&amp;#x9645;&amp;#x56FE;&amp;#x7247;&amp;#x5C55;&amp;#x793A;&amp;#x6D41;&amp;#x7A0B;&amp;#x6211;&amp;#x4EEC;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5206;&amp;#x6790;&amp;#x5B8C;&amp;#x6BD5;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x6700;&amp;#x91CD;&amp;#x8981;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&amp;#x5BF9;&amp;#x56FE;&amp;#x5C42;&amp;#x6982;&amp;#x5FF5;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x518D;&amp;#x5BF9;&lt;strong&gt;GenericDraweeHierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x5176;&amp;#x5B83;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x8981;&amp;#x7684;&amp;#x8BF4;&amp;#x660E;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Drawable buildActualImageBranch(Drawable drawable, @Nullable ScaleType scaleType, @Nullable PointF focusPoint, @Nullable ColorFilter colorFilter)&lt;/em&gt; &amp;#x6784;&amp;#x5EFA;&amp;#x5B9E;&amp;#x9645;&amp;#x5C55;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x5BF9;&amp;#x4E8E;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x8FD8;&amp;#x662F;&amp;#x501F;&amp;#x52A9;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Drawable buildBranch(@Nullable Drawable drawable, @Nullable ScaleType scaleType)&lt;/em&gt; &amp;#x6784;&amp;#x5EFA;&amp;#x9664;&amp;#x5B9E;&amp;#x9645;&amp;#x5C55;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#x4E4B;&amp;#x5916;&amp;#x7684;&amp;#x5176;&amp;#x5B83;&amp;#x56FE;&amp;#x5C42;&amp;#x5206;&amp;#x652F;&amp;#xFF0C;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&amp;#x521B;&amp;#x5EFA;&amp;#x4E5F;&amp;#x662F;&amp;#x501F;&amp;#x52A9;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x5DE5;&amp;#x5177;&amp;#x7C7B;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;void resetFade()&lt;/em&gt; &amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x56FE;&amp;#x5C42;&amp;#x7ED3;&amp;#x6784;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x4E3B;&amp;#x8981;&amp;#x7684;&amp;#x5C31;&amp;#x8FD9;&amp;#x51E0;&amp;#x4E2A;&amp;#x5427;&amp;#xFF0C;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x90FD;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x5206;&amp;#x6790;&amp;#x6D41;&amp;#x7A0B;&amp;#x4E2D;&amp;#x8BE6;&amp;#x7EC6;&amp;#x8BF4;&amp;#x660E;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Drawable&quot;&gt;&lt;a href=&quot;#Drawable&quot; class=&quot;headerlink&quot; title=&quot;Drawable&quot;&gt;&lt;/a&gt;Drawable&lt;/h1&gt;&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x6574;&amp;#x7406;&amp;#x4E00;&amp;#x4E0B;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E00;&amp;#x4E9B;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x5B50;&amp;#x7C7B;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;ArrayDrawable&lt;/strong&gt;&amp;#xFF1A;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x7684;&amp;#x96C6;&amp;#x5408;&amp;#x4F53;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;layers&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x5185;&amp;#x90E8;&amp;#x7684;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&amp;#x6570;&amp;#x7EC4;&amp;#x96C6;&amp;#x5408;&amp;#x4E2D;&amp;#x7684;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x64CD;&amp;#x4F5C;&amp;#xFF0C;&amp;#x7C7B;&amp;#x4F3C;&amp;#x4E0E;&lt;strong&gt;Android&lt;/strong&gt;&amp;#x539F;&amp;#x751F;&amp;#x7684;&lt;strong&gt;LayerDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x53EA;&amp;#x662F;&amp;#x5B83;&amp;#x5E76;&amp;#x4E0D;&amp;#x652F;&amp;#x6301;&lt;strong&gt;add&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;remove&lt;/strong&gt;&amp;#x64CD;&amp;#x4F5C;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x5BF9;&amp;#x4F20;&amp;#x5165;&amp;#x7684;&amp;#x76EE;&amp;#x6807;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x5373;&amp;#x64CD;&amp;#x4F5C;&amp;#x5BF9;&amp;#x8C61;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B0;&amp;#x7C7B;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x8C03;&amp;#x7528;&amp;#x76EE;&amp;#x6807;&amp;#x5BF9;&amp;#x8C61;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4FDD;&amp;#x7559;&amp;#x76EE;&amp;#x6807;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&amp;#x5404;&amp;#x4E2A;&amp;#x72B6;&amp;#x6001;&amp;#xFF0C;&amp;#x4E0D;&amp;#x4F9D;&amp;#x8D56;&amp;#x4E0E;&amp;#x76EE;&amp;#x6807;&amp;#x7C7B;&amp;#x7684;&amp;#x7EC6;&amp;#x8282;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x63D0;&amp;#x9AD8;&amp;#x65B0;&amp;#x7C7B;&amp;#x7684;&amp;#x7A33;&amp;#x5B9A;&amp;#x6027;&amp;#xFF0C;&amp;#x8BE5;&amp;#x65B9;&amp;#x5F0F;&amp;#x53EF;&amp;#x4EE5;&amp;#x79F0;&amp;#x4E4B;&amp;#x4E3A;&amp;#x590D;&amp;#x5408;&amp;#x3002;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7EDD;&amp;#x5927;&amp;#x591A;&amp;#x6570;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x90FD;&amp;#x662F;&amp;#x5B83;&amp;#x7684;&amp;#x5B50;&amp;#x7C7B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;AutoRotateDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;&amp;#x662F;&amp;#x5BF9;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&amp;#x65CB;&amp;#x8F6C;&amp;#x64CD;&amp;#x4F5C;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;FadeDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ArrayDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x4E4B;&amp;#x524D;&amp;#x4E5F;&amp;#x8BE6;&amp;#x7EC6;&amp;#x63D0;&amp;#x5230;&amp;#x8FC7;&amp;#xFF0C;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x56FE;&amp;#x5C42;&amp;#x96C6;&amp;#x5408;&amp;#x4F53;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;strong&gt;mLayers&lt;/strong&gt;&amp;#x4E0E;&lt;strong&gt;mIsLayerOn&lt;/strong&gt;&amp;#x6570;&amp;#x7EC4;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x6570;&amp;#x7EC4;&amp;#x4E2D;&amp;#x5404;&amp;#x4E2A;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x7684;&lt;strong&gt;alpha&lt;/strong&gt;&amp;#x503C;&amp;#xFF0C;&amp;#x5373;&amp;#x663E;&amp;#x9690;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MatrixDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x987E;&amp;#x540D;&amp;#x601D;&amp;#x4E49;&amp;#x901A;&amp;#x8FC7;&amp;#x77E9;&amp;#x9635;&amp;#x6765;&amp;#x6539;&amp;#x53D8;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x72B6;&amp;#x6001;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;OrientedDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x5B83;&amp;#x4E5F;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x4E0D;&amp;#x540C;&amp;#x4E8E;&lt;strong&gt;AutoRotateDrawable&lt;/strong&gt;&amp;#x7684;&amp;#x662F;&amp;#xFF0C;&amp;#x5B83;&amp;#x53EA;&amp;#x652F;&amp;#x6301;90&amp;#x5EA6;&amp;#x7684;&amp;#x500D;&amp;#x6570;&amp;#x89D2;&amp;#x5EA6;&amp;#x65CB;&amp;#x8F6C;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ProgressBarDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x8FDB;&amp;#x5EA6;&amp;#x6761;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x652F;&amp;#x6301;&amp;#x6A2A;&amp;#x7AD6;&amp;#x65B9;&amp;#x5411;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RoundedBitmapDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;BitmapDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&lt;strong&gt;Bitmap&lt;/strong&gt;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x6709;&amp;#x5173;&amp;#x5706;&amp;#x89D2;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x5728;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x7C7B;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x7528;&amp;#x4F8B;&amp;#x6784;&amp;#x5EFA;&amp;#x5168;&amp;#x65B0;&amp;#x7684;&amp;#x5706;&amp;#x89D2;&lt;strong&gt;Drawable&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RoundedColorDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&lt;strong&gt;Color&lt;/strong&gt;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x5706;&amp;#x89D2;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x5728;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x7C7B;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x7528;&amp;#x4F8B;&amp;#x6784;&amp;#x5EFA;&amp;#x5168;&amp;#x65B0;&amp;#x7684;&amp;#x5706;&amp;#x89D2;&lt;strong&gt;Drawable&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;RoundedCornersDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x8BBE;&amp;#x8BA1;&lt;strong&gt;overLay&lt;/strong&gt;&amp;#x8986;&amp;#x76D6;&amp;#x56FE;&amp;#x7247;&amp;#x5706;&amp;#x89D2;&amp;#xFF0C;&amp;#x4E3B;&amp;#x8981;&amp;#x5728;&lt;strong&gt;WrappingUtils&lt;/strong&gt;&amp;#x7C7B;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ScaleTypeDrawable&lt;/strong&gt;&amp;#xFF1A;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;strong&gt;ForwardingDrawable&lt;/strong&gt;&amp;#xFF0C;&amp;#x7528;&amp;#x4E8E;&amp;#x7F29;&amp;#x653E;&amp;#x7C7B;&amp;#x578B;&amp;#x7684;&lt;strong&gt;Drawable&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h1&gt;&lt;p&gt;&amp;#x672C;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5206;&amp;#x6790;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x6709;&amp;#x5173;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E0E;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x5206;&amp;#x6790;&amp;#x53D1;&amp;#x73B0;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x662F;&amp;#x5BF9;&lt;strong&gt;Drawable&lt;/strong&gt;&amp;#x56FE;&amp;#x5C42;&amp;#x8FDB;&amp;#x884C;&amp;#x5904;&amp;#x7406;&amp;#xFF0C;&amp;#x5E76;&amp;#x6CA1;&amp;#x6709;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E4B;&amp;#x7C7B;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#x53EA;&amp;#x4F7F;&amp;#x7528;&lt;strong&gt;Hierarchy&lt;/strong&gt;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x5C31;&amp;#x4E0E;&amp;#x522B;&amp;#x7684;&lt;strong&gt;ImageView&lt;/strong&gt;&amp;#x6CA1;&amp;#x6709;&amp;#x591A;&amp;#x5927;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#xFF0C;&amp;#x771F;&amp;#x6B63;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x64CD;&amp;#x4F5C;&amp;#x4E0E;&amp;#x7F13;&amp;#x5B58;&amp;#x63A7;&amp;#x5236;&amp;#x90FD;&amp;#x5728;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E0B;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x5C06;&amp;#x8FDB;&amp;#x5165;&lt;strong&gt;Controller&lt;/strong&gt;&amp;#x89E3;&amp;#x6790;&amp;#xFF0C;&amp;#x6765;&amp;#x8BE6;&amp;#x7EC6;&amp;#x4E86;&amp;#x89E3;&amp;#x5B83;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x7EC6;&amp;#x8282;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/Fresco-Source-Analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x7CFB;&amp;#x5217;Github&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x4E0A;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x6211;&amp;#x4EEC;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&lt;strong&gt;Fresco&lt;/strong&gt;&amp;#x4E2D;&amp;#x7684;&lt;strong&gt;DraweeView&lt;/strong
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>Fresco源码分析之DraweeView</title>
    <link href="https://idisfkj.github.io/2017/11/28/Fresco%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90%E4%B9%8BDraweeView/"/>
    <id>https://idisfkj.github.io/2017/11/28/Fresco源码分析之DraweeView/</id>
    <published>2017-11-28T13:28:05.000Z</published>
    <updated>2017-12-28T14:36:28.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x3001;&lt;code&gt;Picasso&lt;/code&gt;&amp;#x3001;&lt;code&gt;Glide&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Imageloader&lt;/code&gt;&amp;#x3002;&amp;#x5B83;&amp;#x4EEC;&amp;#x90FD;&amp;#x6709;&amp;#x5404;&amp;#x81EA;&amp;#x7684;&amp;#x4F18;&amp;#x70B9;&amp;#xFF0C;&amp;#x4F46;&amp;#x603B;&amp;#x7684;&amp;#x6765;&amp;#x8BF4;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x8D77;&amp;#x6765;&amp;#x65B9;&amp;#x4FBF;&amp;#x7B80;&amp;#x5355;&amp;#x3001;&amp;#x53EF;&amp;#x914D;&amp;#x7F6E;&amp;#x6027;&amp;#x9AD8;&amp;#x4E0E;&amp;#x63D0;&amp;#x4F9B;&amp;#x826F;&amp;#x597D;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x673A;&amp;#x5236;&amp;#x3002;&amp;#x7531;&amp;#x4E8E;&amp;#x5E73;&amp;#x5E38;&amp;#x4E3B;&amp;#x8981;&amp;#x7528;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;code&gt;Fresco&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x6709;&amp;#x5FC5;&amp;#x8981;&amp;#x5BF9;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#x8FDB;&amp;#x884C;&amp;#x6DF1;&amp;#x5165;&amp;#x7814;&amp;#x7A76;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4EE5;&amp;#x540E;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&amp;#x4E0E;&amp;#x7406;&amp;#x89E3;&amp;#x5C06;&amp;#x4F1A;&amp;#x5F97;&amp;#x5230;&amp;#x5DE8;&amp;#x5927;&amp;#x7684;&amp;#x5E2E;&amp;#x52A9;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x662F;&amp;#x4E13;&amp;#x6CE8;&amp;#x4E8E;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x800C;&amp;#x8BBE;&amp;#x8BA1;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5BF9;&amp;#x4E8E;&amp;#x4EE5;&amp;#x56FE;&amp;#x7247;&amp;#x4E3A;&amp;#x4E3B;&amp;#x7684;&lt;code&gt;App&lt;/code&gt;&amp;#x5F3A;&amp;#x70C8;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;&amp;#x3002;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x652F;&amp;#x6301;&amp;#x591A;&amp;#x79CD;&amp;#x60C5;&amp;#x51B5;&amp;#xFF1A;&lt;code&gt;backgroud image&lt;/code&gt;(&amp;#x80CC;&amp;#x666F;&amp;#x56FE;)&amp;#x3001;&lt;code&gt;placeholder image&lt;/code&gt;(&amp;#x5360;&amp;#x4F4D;&amp;#x56FE;)&amp;#x3001;&lt;code&gt;actual image&lt;/code&gt;(&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;)&amp;#x3001;&lt;code&gt;progress bar image&lt;/code&gt;(&amp;#x8FDB;&amp;#x5EA6;&amp;#x6761;)&amp;#x3001;&lt;code&gt;retry image&lt;/code&gt;(&amp;#x91CD;&amp;#x65B0;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x56FE;&amp;#x7247;)&amp;#x3001;&lt;code&gt;failure image&lt;/code&gt;(&amp;#x5931;&amp;#x8D25;&amp;#x56FE;&amp;#x7247;)&amp;#x4E0E;&lt;code&gt;overlay image&lt;/code&gt;(&amp;#x53E0;&amp;#x52A0;&amp;#x56FE;)&amp;#x3002;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x65E2;&amp;#x7136;&amp;#x652F;&amp;#x6301;&amp;#x8FD9;&amp;#x4E48;&amp;#x591A;&amp;#x56FE;&amp;#x7247;&amp;#x5C55;&amp;#x793A;&amp;#x60C5;&amp;#x51B5;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5B83;&amp;#x5BF9;&amp;#x8FD9;&amp;#x6B21;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x6A21;&amp;#x5F0F;&amp;#x53C8;&amp;#x662F;&amp;#x600E;&amp;#x4E48;&amp;#x6837;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x5BF9;&amp;#x4E8E;&amp;#x8FD9;&amp;#x4E9B;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x7BA1;&amp;#x7406;&amp;#x90FD;&amp;#x4EA4;&amp;#x7ED9;&amp;#x4E86;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#xFF0C;&amp;#x800C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x6570;&amp;#x636E;&amp;#x90FD;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Controller&lt;/code&gt;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&amp;#x5148;&amp;#x4E0D;&amp;#x5206;&amp;#x6790;&amp;#x8FD9;&amp;#x4E9B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E9B;&amp;#x540E;&amp;#x7EED;&amp;#x6587;&amp;#x7AE0;&amp;#x4F1A;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x4ECA;&amp;#x5929;&amp;#x5148;&amp;#x4ECE;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x7EC4;&amp;#x4EF6;&amp;#x5F00;&amp;#x59CB;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;SimpleDraweeView&quot;&gt;&lt;a href=&quot;#SimpleDraweeView&quot; class=&quot;headerlink&quot; title=&quot;SimpleDraweeView&quot;&gt;&lt;/a&gt;SimpleDraweeView&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x8FD9;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5728;&amp;#x770B;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E4B;&amp;#x524D;&amp;#x4F60;&amp;#x5E94;&amp;#x8BE5;&amp;#x8981;&amp;#x6709;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x6CA1;&amp;#x6709;&amp;#x7684;&amp;#x5F3A;&amp;#x70C8;&amp;#x63A8;&amp;#x8350;&amp;#x770B;&amp;#x4E0B;&lt;a href=&quot;https://www.fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fresco&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&lt;/a&gt;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x4F7F;&amp;#x7528;&amp;#x6700;&amp;#x591A;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&amp;#x5DF2;&amp;#x7ECF;&amp;#x5C01;&amp;#x88C5;&amp;#x597D;&amp;#x7684;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#xFF0C;&amp;#x800C;&amp;#x5728;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;init()&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5B83;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private void init(Context context, @Nullable AttributeSet attrs) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (isInEditMode()) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    Preconditions.checkNotNull(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        sDraweeControllerBuilderSupplier,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        &amp;quot;SimpleDraweeView was not initialized!&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mSimpleDraweeControllerBuilder = sDraweeControllerBuilderSupplier.get();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (attrs != null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      TypedArray gdhAttrs = context.obtainStyledAttributes(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          attrs,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          R.styleable.SimpleDraweeView);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      try {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        if (gdhAttrs.hasValue(R.styleable.SimpleDraweeView_actualImageUri)) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          setImageURI(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              Uri.parse(gdhAttrs.getString(R.styleable.SimpleDraweeView_actualImageUri)),&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              null);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        } else if (gdhAttrs.hasValue((R.styleable.SimpleDraweeView_actualImageResource))) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          int resId = gdhAttrs.getResourceId(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              R.styleable.SimpleDraweeView_actualImageResource,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;              NO_ID);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          if (resId != NO_ID) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            setActualImageResource(resId);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      } finally {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        gdhAttrs.recycle();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x60C5;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x4F46;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6CE8;&amp;#x610F;&amp;#x7684;&amp;#x662F;&amp;#x5B83;&amp;#x4F1A;&amp;#x5BF9;&lt;code&gt;sDraweeControllerBuilderSupplier&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;null&lt;/code&gt;&amp;#x5224;&amp;#x65AD;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E3A;&lt;code&gt;null&lt;/code&gt;&amp;#x5C06;&amp;#x4F1A;&amp;#x629B;&amp;#x51FA;&amp;#x5F02;&amp;#x5E38;&amp;#x3002;&lt;code&gt;sDraweeControllerBuilderSupplier&lt;/code&gt;&amp;#x662F;&amp;#x4F9B;&amp;#x5E94;&amp;#x7C7B;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x5B83;&amp;#x7684;&lt;code&gt;get&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&lt;code&gt;DraweeControllerBuilder&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x662F;&lt;code&gt;controller&lt;/code&gt;&amp;#x6784;&amp;#x9020;&amp;#x5668;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E2A;&amp;#x4EE5;&amp;#x540E;&amp;#x7684;&amp;#x7AE0;&amp;#x8282;&amp;#x4F1A;&amp;#x8BE6;&amp;#x7EC6;&amp;#x8BF4;&amp;#x660E;&amp;#x3002;&amp;#x7A7A;&amp;#x5224;&amp;#x65AD;&amp;#x7684;&amp;#x76EE;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x5FC5;&amp;#x987B;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;code&gt;sDraweeControllerBuilderSupplier&lt;/code&gt;&amp;#x3002;&amp;#x5728;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x627E;&amp;#x5230;&amp;#x5B83;&amp;#x7684;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void initialize(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Supplier&amp;lt;? extends SimpleDraweeControllerBuilder&amp;gt; draweeControllerBuilderSupplier) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sDraweeControllerBuilderSupplier = draweeControllerBuilderSupplier;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;static&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E4B;&amp;#x524D;&amp;#x52A0;&amp;#x8F7D;&amp;#x4E00;&amp;#x6B21;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&amp;#x8FD9;&amp;#x662F;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x7684;&amp;#x5173;&amp;#x952E;&amp;#x3002;&amp;#x5B83;&amp;#x8FD8;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5173;&amp;#x952E;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public void setImageURI(Uri uri, @Nullable Object callerContext) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x901A;&amp;#x8FC7;controller &amp;#x6765;&amp;#x4FDD;&amp;#x5B58;Uri &amp;#x7B49;&amp;#x76F8;&amp;#x5173;&amp;#x4FE1;&amp;#x606F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DraweeController controller = mSimpleDraweeControllerBuilder&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .setCallerContext(callerContext)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .setUri(uri)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .setOldController(getController())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        .build();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setController(controller);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;mSimpleDraweeControllerBuilder&lt;/code&gt;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;Controller&lt;/code&gt;&amp;#xFF0C;&amp;#x800C;&lt;code&gt;Controller&lt;/code&gt;&amp;#x662F;&amp;#x7531;&lt;code&gt;build&lt;/code&gt;&amp;#x6A21;&amp;#x5F0F;&amp;#x6240;&amp;#x521B;&amp;#x5EFA;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x80FD;&amp;#x770B;&amp;#x5230;&lt;code&gt;uri&lt;/code&gt;&amp;#x4E5F;&amp;#x4EA4;&amp;#x7531;&lt;code&gt;Controller&lt;/code&gt;&amp;#x7BA1;&amp;#x7406;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x6700;&amp;#x7EC8;&lt;code&gt;uri&lt;/code&gt;&amp;#x4F1A;&amp;#x5C01;&amp;#x88C5;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;ImageRequest&lt;/code&gt;&amp;#xFF0C;&lt;code&gt;Controller&lt;/code&gt;&amp;#x771F;&amp;#x6B63;&amp;#x6301;&amp;#x6709;&amp;#x7684;&amp;#x662F;&lt;code&gt;uri&lt;/code&gt;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#x4F53;&lt;code&gt;ImageRequest&lt;/code&gt;&amp;#x3002;&amp;#x5728;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x5B83;&amp;#x4F1A;&amp;#x91CD;&amp;#x5199;&lt;code&gt;setImageURI&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&amp;#x5C06;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x539F;&amp;#x751F;&amp;#x65B9;&amp;#x6CD5;&amp;#x7ED9;&amp;#x8986;&amp;#x76D6;&amp;#x6389;&amp;#x3002;&amp;#x8FD8;&amp;#x6709;&amp;#x5176;&amp;#x5B83;&amp;#x7684;&amp;#x7C7B;&amp;#x4F3C;&amp;#x7684;&lt;code&gt;setImageResource&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;setImageBitmap&lt;/code&gt;&amp;#x7B49;&amp;#xFF0C;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x90FD;&amp;#x5728;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0A;&amp;#x52A0;&amp;#x4E86;&lt;code&gt;@Deprecated&lt;/code&gt;&amp;#xFF0C;&amp;#x610F;&amp;#x601D;&amp;#x5C31;&amp;#x662F;&amp;#x8BF4;&amp;#x4E0D;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x8DDF;&amp;#x76F4;&amp;#x63A5;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x6CA1;&amp;#x4EC0;&amp;#x4E48;&amp;#x533A;&amp;#x522B;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x65E0;&amp;#x6CD5;&amp;#x4F53;&amp;#x9A8C;&amp;#x5230;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x5F3A;&amp;#x5927;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#x3002;&amp;#x5728;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x4E2D;&amp;#x7EDF;&amp;#x4E00;&amp;#x7531;&lt;code&gt;setController&lt;/code&gt;&amp;#x6765;&amp;#x66FF;&amp;#x4EE3;&amp;#x3002;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;Controller&lt;/code&gt;&amp;#x540E;&amp;#x7EED;&amp;#x6587;&amp;#x7AE0;&amp;#x4F1A;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Fresco&quot;&gt;&lt;a href=&quot;#Fresco&quot; class=&quot;headerlink&quot; title=&quot;Fresco&quot;&gt;&lt;/a&gt;Fresco&lt;/h2&gt;&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x6839;&amp;#x636E;&lt;a href=&quot;https://www.fresco-cn.org/docs/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fresco&amp;#x5B98;&amp;#x65B9;&amp;#x6587;&amp;#x6863;&lt;/a&gt;&amp;#x7684;&amp;#x6B63;&amp;#x5E38;&amp;#x6B65;&amp;#x9AA4;&amp;#x6765;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x65E0;&amp;#x9700;&amp;#x62C5;&amp;#x5FC3;&amp;#x8FD9;&amp;#x4E00;&amp;#x6B65;&amp;#xFF0C;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x90FD;&amp;#x8981;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Fresco.initialize(context)&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static void initialize(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Context context,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      @Nullable ImagePipelineConfig imagePipelineConfig,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      @Nullable DraweeConfig draweeConfig) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (sIsInitialized) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      FLog.w(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          TAG,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;          &amp;quot;Fresco has already been initialized! `Fresco.initialize(...)` should only be called &amp;quot; +&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            &amp;quot;1 single time to avoid memory leaks!&amp;quot;);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      sIsInitialized = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // we should always use the application context to avoid memory leaks&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    context = context.getApplicationContext();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (imagePipelineConfig == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      //&amp;#x521D;&amp;#x59CB;&amp;#x5316;ImagePipeline&amp;#x5DE5;&amp;#x5382;&amp;#xFF0C;&amp;#x5305;&amp;#x542B;ImagePipelineConfig &amp;#x76F8;&amp;#x5173;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      // (&amp;#x4E09;&amp;#x7EA7;&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x56FE;&amp;#x7247;&amp;#x89E3;&amp;#x7801;/&amp;#x7F16;&amp;#x7801;&amp;#x3001;&amp;#x8F6C;&amp;#x5316;&amp;#x3001;&amp;#x6E10;&amp;#x53D8;&amp;#x3001;bitmap&amp;#x914D;&amp;#x7F6E;&amp;#x3001;&amp;#x56DB;&amp;#x79CD;executor &amp;#x5206;&amp;#x522B;&amp;#x4E3A; io&amp;#x3001;decode&amp;#x3001;background&amp;#x3001;lightweight background)&amp;#x7B49;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      ImagePipelineFactory.initialize(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;       ImagePipelineFactory.initialize(imagePipelineConfig);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x521D;&amp;#x59CB;&amp;#x5316;Drawee&amp;#x76F8;&amp;#x5173;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    initializeDrawee(context, draweeConfig);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x9664;&amp;#x4E86;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&lt;code&gt;ImagePipeline&lt;/code&gt;&amp;#x4E4B;&amp;#x5916;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8FD8;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;initializeDrawee (context, draweeConfig)&lt;/code&gt;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&lt;code&gt;initializeDrawee&lt;/code&gt;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;private static void initializeDrawee(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Context context,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      @Nullable DraweeConfig draweeConfig) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x6784;&amp;#x5EFA;PipelineDraweeControllerBuilderSupplier,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x5176;&amp;#x4E2D;ImagePipeline&amp;#x3001;PipelineDraweeControllerFactory&amp;#x3001;ControllerListener set&amp;#x96C6;&amp;#x5408;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    sDraweeControllerBuilderSupplier =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        new PipelineDraweeControllerBuilderSupplier(context, draweeConfig);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x521D;&amp;#x59CB;&amp;#x5316;SimpleDrawee&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    //&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x65F6;&amp;#x901A;&amp;#x8FC7;&amp;#x8C03;&amp;#x7528;PipelineDraweeControllerBuilderSupplier&amp;#x5B9E;&amp;#x73B0;&amp;#x7684;Supplier&amp;#x7684;get()&amp;#x65B9;&amp;#x6CD5;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // &amp;#x8FD4;&amp;#x56DE;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&amp;#x7684;&amp;#x5C01;&amp;#x88C5;&amp;#x4F53;PipelineDraweeControllerBuilder implements SimpleDraweeControllerBuilder&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;     SimpleDraweeView.initialize(sDraweeControllerBuilderSupplier);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&amp;#x6211;&amp;#x4EEC;&amp;#x4F1A;&amp;#x770B;&amp;#x5230;&amp;#x4E4B;&amp;#x524D;&amp;#x6240;&amp;#x63D0;&amp;#x5230;&amp;#x7684;&lt;code&gt;sDraweeControllerBuilderSupplier&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x5FC5;&amp;#x987B;&amp;#x4F18;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&lt;code&gt;initialize&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x3002;&amp;#x76F8;&amp;#x4FE1;&amp;#x73B0;&amp;#x5728;&amp;#x5E94;&amp;#x8BE5;&amp;#x660E;&amp;#x767D;&amp;#x7684;&amp;#x4E3A;&amp;#x4EC0;&amp;#x4E48;&amp;#x5728;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x5FC5;&amp;#x987B;&amp;#x8C03;&amp;#x7528;&amp;#x5B83;&amp;#x7684;&lt;code&gt;initialize&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E86;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x5B83;&amp;#x5FC5;&amp;#x987B;&amp;#x8981;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E00;&amp;#x4E9B;&amp;#x5FC5;&amp;#x8981;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x5C31;&amp;#x5305;&amp;#x62EC;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x7684;&amp;#x914D;&amp;#x7F6E;&amp;#x4FE1;&amp;#x606F;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;GenericDraweeView&quot;&gt;&lt;a href=&quot;#GenericDraweeView&quot; class=&quot;headerlink&quot; title=&quot;GenericDraweeView&quot;&gt;&lt;/a&gt;GenericDraweeView&lt;/h2&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x6240;&amp;#x8BF4;&amp;#x7684;&lt;code&gt;SimpleDraweeView&lt;/code&gt;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&amp;#x662F;&lt;code&gt;GenericDraweeView&lt;/code&gt;&amp;#xFF0C;&amp;#x5B83;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x60C5;&amp;#x5F88;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x5904;&amp;#x7406;&lt;code&gt;xml&lt;/code&gt;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x5B83;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;inflateHierarchy&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;protected void inflateHierarchy(Context context, @Nullable AttributeSet attrs) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    GenericDraweeHierarchyBuilder builder =&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        GenericDraweeHierarchyInflater.inflateBuilder(context, attrs);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setAspectRatio(builder.getDesiredAspectRatio());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    setHierarchy(builder.build());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x662F;&amp;#x7531;&lt;code&gt;GenericDraweeHierarchyBuilder&lt;/code&gt;&amp;#x6765;&amp;#x7EDF;&amp;#x4E00;&amp;#x5C01;&amp;#x88C5;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5C5E;&amp;#x6027;&amp;#x3002;&amp;#x6700;&amp;#x7EC8;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;build&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x6784;&amp;#x5EFA;&lt;code&gt;GenericDraweeHierarchy&lt;/code&gt;&amp;#xFF0C;&amp;#x8FD9;&amp;#x5C31;&amp;#x662F;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x3002;&amp;#x7136;&amp;#x540E;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;setHierarchy&lt;/code&gt;&amp;#x5C06;&amp;#x56FE;&amp;#x5C42;&amp;#x4F20;&amp;#x9012;&amp;#x7ED9;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x3002;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Controller&lt;/code&gt;&amp;#x7684;&amp;#x3002;&amp;#x800C;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x662F;&amp;#x5728;&amp;#x6700;&amp;#x5E95;&amp;#x5C42;&amp;#x7684;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x4E5F;&amp;#x662F;&lt;code&gt;GenericDraweeView&lt;/code&gt;&amp;#x7684;&amp;#x7236;&amp;#x7C7B;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x4EEC;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#xFF0C;&amp;#x6765;&amp;#x770B;&amp;#x770B;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x505A;&amp;#x4E86;&amp;#x4EC0;&amp;#x4E48;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;DraweeView&quot;&gt;&lt;a href=&quot;#DraweeView&quot; class=&quot;headerlink&quot; title=&quot;DraweeView&quot;&gt;&lt;/a&gt;DraweeView&lt;/h2&gt;&lt;p&gt;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x662F;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x6700;&amp;#x5E95;&amp;#x5C42;&amp;#x7684;&amp;#x63A7;&amp;#x4EF6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x662F;&amp;#x6211;&amp;#x4EEC;&amp;#x4F7F;&amp;#x7528;&amp;#x5B83;&amp;#x5C55;&amp;#x793A;&amp;#x56FE;&amp;#x7247;&amp;#x7684;&amp;#x57FA;&amp;#x7840;&amp;#xFF0C;&amp;#x5B83;&amp;#x7EE7;&amp;#x627F;&amp;#x4E8E;&lt;code&gt;ImageView&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5B83;&amp;#x80FD;&amp;#x505A;&amp;#x7684;&amp;#x4E8B;&amp;#x4E5F;&amp;#x65E0;&amp;#x975E;&amp;#x4E8E;&amp;#x5728;&amp;#x539F;&amp;#x751F;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x4E0A;&amp;#x505A;&amp;#x6269;&amp;#x5C55;&amp;#x6216;&amp;#x8005;&amp;#x65B9;&amp;#x6CD5;&amp;#x91CD;&amp;#x5199;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x4E00;&amp;#x5957;&amp;#x903B;&amp;#x8F91;&amp;#x3002;&amp;#x5148;&amp;#x770B;&amp;#x4E0B;&amp;#x5B83;&amp;#x7684;&amp;#x6784;&amp;#x9020;&amp;#x65B9;&amp;#x6CD5;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public DraweeView(Context context) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    super(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    init(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6CA1;&amp;#x4EC0;&amp;#x4E48;&amp;#x7279;&amp;#x522B;&amp;#x7684;&amp;#x903B;&amp;#x8F91;&amp;#xFF0C;&amp;#x5C31;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;init&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5C31;&amp;#x8FDB;&amp;#x5165;&lt;code&gt;init&lt;/code&gt;&amp;#x770B;&amp;#x770B;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/** This method is idempotent so it only has effect the first time it&amp;apos;s called */&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  private void init(Context context) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (mInitialised) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mInitialised = true;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mDraweeHolder = DraweeHolder.create(null, context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (Build.VERSION.SDK_INT &amp;gt;= Build.VERSION_CODES.LOLLIPOP) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      ColorStateList imageTintList = getImageTintList();&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      if (imageTintList == null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      setColorFilter(imageTintList.getDefaultColor());&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // In Android N and above, visibility handling for Drawables has been changed, which breaks&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    // activity transitions with DraweeViews.&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    mLegacyVisibilityHandlingEnabled = sGlobalLegacyVisibilityHandlingEnabled &amp;amp;&amp;amp;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        context.getApplicationInfo().targetSdkVersion &amp;gt;= 24; //Build.VERSION_CODES.N&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x770B;&amp;#x5230;&amp;#x5B83;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;mInitialised&lt;/code&gt;&amp;#x6765;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x9700;&amp;#x8981;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#xFF0C;&amp;#x6E90;&amp;#x7801;&amp;#x6CE8;&amp;#x91CA;&amp;#x4E5F;&amp;#x8BF4;&amp;#x660E;&amp;#x7684;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#x53EA;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x4E00;&amp;#x6B21;&amp;#x3002;&amp;#x8FD9;&amp;#x662F;&amp;#x56E0;&amp;#x4E3A;&amp;#x521B;&amp;#x5EFA;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x7684;&amp;#x4EE3;&amp;#x4EF7;&amp;#x592A;&amp;#x5927;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x53EA;&amp;#x4F1A;&amp;#x521B;&amp;#x5EFA;&amp;#x4E00;&amp;#x6B21;&amp;#xFF0C;&amp;#x4EE5;&amp;#x540E;&amp;#x90FD;&amp;#x4F1A;&amp;#x4F7F;&amp;#x7528;&amp;#x540C;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;mDraweeHolder&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4F1A;&amp;#x770B;&amp;#x5230;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x5FC5;&amp;#x987B;&amp;#x521D;&amp;#x59CB;&amp;#x5316;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;mDraweeHolder&lt;/code&gt;&amp;#x3002;&amp;#x5728;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x8FD8;&amp;#x6709;&amp;#x4EE5;&amp;#x4E0B;&amp;#x51E0;&amp;#x4E2A;&amp;#x4E3B;&amp;#x8981;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;void setHierarchy(DH hierarchy)&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Hierarchy&lt;/code&gt;,&amp;#x540C;&amp;#x65F6;&amp;#x4F1A;&amp;#x5C06;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4EA4;&amp;#x7531;&lt;code&gt;mDraweeHolder&lt;/code&gt;&amp;#x7BA1;&amp;#x7406;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x8FD8;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;super.setImageDrawable(mDraweeHolder.getTopLevelDrawable());&lt;/code&gt;&amp;#x6765;&amp;#x5C06;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x663E;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Drawable getTopLevelDrawable()&lt;/code&gt;&amp;#x4F1A;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;mDraweeHolder&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x6765;&amp;#x83B7;&amp;#x53D6;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void setController(@Nullable DraweeController draweeController)&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Controller&lt;/code&gt;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x4F1A;&amp;#x5C06;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x663E;&amp;#x793A;&amp;#x51FA;&amp;#x6765;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void onAttachedToWindow()&lt;/code&gt;&amp;#x3001;&lt;code&gt;void onDetachedFromWindow()&lt;/code&gt;&amp;#x3001;&lt;code&gt;void onStartTemporaryDetach()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;void onFinishTemporaryDetach()&lt;/code&gt;&amp;#x662F;&amp;#x6765;&amp;#x63A7;&amp;#x5236;&amp;#x56FE;&amp;#x5C42;&amp;#x7684;&amp;#x663E;&amp;#x793A;&amp;#x4E0E;&amp;#x9690;&amp;#x85CF;&amp;#x3001;&amp;#x7ED1;&amp;#x5B9A;&amp;#x4E0E;&amp;#x89E3;&amp;#x7ED1;&amp;#x7684;&amp;#x56DE;&amp;#x8C03;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x5B83;&amp;#x4EEC;&amp;#x90FD;&amp;#x5206;&amp;#x522B;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;mDraweeHolder&lt;/code&gt;&amp;#x7684;&lt;code&gt;onAttach()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onDetach()&lt;/code&gt;&amp;#x3002;&amp;#x5176;&amp;#x5B9E;&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x8FD8;&amp;#x662F;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onAttach()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onDetach()&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;boolean onTouchEvent(MotionEvent event)&lt;/code&gt;&amp;#x63A7;&amp;#x5236;&amp;#x63A7;&amp;#x4EF6;&amp;#x7684;&amp;#x89E6;&amp;#x6478;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&lt;code&gt;Controller&lt;/code&gt;&amp;#x6709;&amp;#x6548;&amp;#x7684;&amp;#x8BDD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;onTouchEvent&lt;/code&gt;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void setAspectRatio(float aspectRatio)&lt;/code&gt;&amp;#x7528;&amp;#x6765;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x663E;&amp;#x793A;&amp;#x7684;&amp;#x5BBD;&amp;#x9AD8;&amp;#x6BD4;&amp;#x4F8B;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setImageDrawable&lt;/code&gt;&amp;#x3001;&lt;code&gt;setImageBitmap&lt;/code&gt;&amp;#x3001;&lt;code&gt;setImageResource&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;setImageURI&lt;/code&gt;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x662F;&amp;#x539F;&amp;#x751F;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x4F46;&amp;#x5728;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x8FD9;&amp;#x4E9B;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x88AB;&amp;#x52A0;&amp;#x4E0A;&amp;#x4E86;&lt;code&gt;@Deprecated&lt;/code&gt;&amp;#x6807;&amp;#x8BB0;&amp;#x3002;&amp;#x6807;&amp;#x660E;&amp;#x4E0D;&amp;#x63A8;&amp;#x8350;&amp;#x4F7F;&amp;#x7528;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x4E00;&amp;#x5B9A;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x5C06;&amp;#x4F1A;&amp;#x9000;&amp;#x5316;&amp;#x6210;&amp;#x4E00;&amp;#x4E2A;&amp;#x666E;&amp;#x901A;&amp;#x7684;&lt;code&gt;ImageView&lt;/code&gt;&amp;#x3002;&amp;#x56E0;&amp;#x4E3A;&amp;#x5728;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Controller&lt;/code&gt;&amp;#x6765;&amp;#x4F53;&amp;#x73B0;&amp;#x5B83;&amp;#x7684;&amp;#x7F13;&amp;#x5B58;&amp;#x3001;&amp;#x52A0;&amp;#x8F7D;&amp;#x673A;&amp;#x5236;&amp;#x7B49;&amp;#x7279;&amp;#x6027;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x8FD9;&amp;#x4E9B;&amp;#x5C31;&amp;#x662F;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E0E;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x4E0D;&amp;#x8FC7;&amp;#x5728;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x6BCF;&amp;#x4E00;&amp;#x4E2A;&amp;#x65B9;&amp;#x6CD5;&amp;#x90FD;&amp;#x6D89;&amp;#x53CA;&amp;#x5230;&amp;#x4E86;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x5B83;&amp;#x5230;&amp;#x5E95;&amp;#x662F;&amp;#x5E72;&amp;#x4EC0;&amp;#x4E48;&amp;#x7684;&amp;#x5462;&amp;#xFF1F;&amp;#x522B;&amp;#x6025;&amp;#x4E0B;&amp;#x9762;&amp;#x5C31;&amp;#x8F6E;&amp;#x5230;&amp;#x5B83;&amp;#x4E86;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;DraweeHolder&quot;&gt;&lt;a href=&quot;#DraweeHolder&quot; class=&quot;headerlink&quot; title=&quot;DraweeHolder&quot;&gt;&lt;/a&gt;DraweeHolder&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;A holder class for Drawee controller and hierarchy.&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x662F;&amp;#x5B98;&amp;#x65B9;&amp;#x6CE8;&amp;#x91CA;&amp;#xFF0C;&amp;#x8BF4;&amp;#x660E;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x7BA1;&amp;#x7406;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Controller&lt;/code&gt;&amp;#x7684;&amp;#xFF0C;&amp;#x540C;&amp;#x65F6;&amp;#x4E5F;&amp;#x662F;&amp;#x5B83;&amp;#x4EEC;&amp;#x4E4B;&amp;#x95F4;&amp;#x7684;&amp;#x8054;&amp;#x7CFB;&amp;#x7684;&amp;#x6865;&amp;#x6881;&amp;#x3002;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4EE5;&amp;#x53CA;&amp;#x5B83;&amp;#x7684;&amp;#x5B50;&amp;#x7C7B;&amp;#x90FD;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x5B83;&amp;#x6765;&amp;#x95F4;&amp;#x63A5;&amp;#x64CD;&amp;#x4F5C;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;public static &amp;lt;DH extends DraweeHierarchy&amp;gt; DraweeHolder&amp;lt;DH&amp;gt; create(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      @Nullable DH hierarchy,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;      Context context) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    DraweeHolder&amp;lt;DH&amp;gt; holder = new DraweeHolder&amp;lt;DH&amp;gt;(hierarchy);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    holder.registerWithContext(context);&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    return holder;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5B83;&amp;#x662F;&amp;#x901A;&amp;#x8FC7;&amp;#x516C;&amp;#x6709;&amp;#x7684;&amp;#x9759;&amp;#x6001;&amp;#x65B9;&amp;#x6CD5;&amp;#x6765;&amp;#x521B;&amp;#x5EFA;&amp;#x81EA;&amp;#x8EAB;&amp;#x5B9E;&amp;#x4F8B;&amp;#x7684;&amp;#x3002;&amp;#x5728;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x7684;&lt;code&gt;init&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E2D;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x3002;&amp;#x5728;&amp;#x5176;&amp;#x5185;&amp;#x90E8;&amp;#x7684;&lt;code&gt;DraweeEventTracker&lt;/code&gt;&amp;#xFF0C;&amp;#x662F;&amp;#x7528;&amp;#x6765;&amp;#x8BB0;&amp;#x5F55;&amp;#x4E8B;&amp;#x4EF6;&amp;#x7684;&amp;#x4F20;&amp;#x9012;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&lt;code&gt;dubug&lt;/code&gt;&amp;#x7684;&amp;#x8C03;&amp;#x8BD5;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4E0D;&amp;#x9700;&amp;#x8981;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;code&gt;Fresco.initialize()&lt;/code&gt;&amp;#x4E4B;&amp;#x524D;&amp;#x8C03;&amp;#x7528;&lt;code&gt;DraweeEventTracker.disable()&lt;/code&gt;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x5269;&amp;#x4E0B;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x5176;&amp;#x5B9E;&amp;#x57FA;&amp;#x672C;&amp;#x4E0A;&amp;#x5728;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E2D;&amp;#x90FD;&amp;#x8BF4;&amp;#x8FC7;&amp;#x3002;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;onAttach()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onDetach()&lt;/code&gt;&amp;#xFF0C;&amp;#x90FD;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&lt;code&gt;attachOrDetachController()&lt;/code&gt;&amp;#xFF0C;&amp;#x6839;&amp;#x636E;&amp;#x60C5;&amp;#x51B5;&amp;#x5206;&amp;#x522B;&amp;#x8C03;&amp;#x7528;&lt;code&gt;attachController()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;detachController()&lt;/code&gt;,&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;&amp;#x7684;&amp;#x5C31;&amp;#x662F;&lt;code&gt;Controller&lt;/code&gt;&amp;#x7684;&lt;code&gt;onAttach()&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;onDetach()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Drawable getTopLevelDrawable()&lt;/code&gt;&amp;#x8C03;&amp;#x7528;&lt;code&gt;mHierarchy.getTopLevelDrawable()&lt;/code&gt;&amp;#x83B7;&amp;#x53D6;&amp;#x56FE;&amp;#x5C42;&amp;#x6811;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void setController(@Nullable DraweeController draweeController)&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Controller&lt;/code&gt;&amp;#xFF0C;&amp;#x5728;&amp;#x8BBE;&amp;#x7F6E;&amp;#x4E4B;&amp;#x524D;&amp;#x4F1A;&amp;#x5148;&amp;#x5224;&amp;#x65AD;&amp;#x662F;&amp;#x5426;&amp;#x5DF2;&amp;#x7ECF;&lt;code&gt;wasAttached&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x662F;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x5148;&amp;#x8C03;&amp;#x7528;&lt;code&gt;detachController()&lt;/code&gt;&amp;#xFF0C;&amp;#x7136;&amp;#x540E;&amp;#x6E05;&amp;#x9664;&amp;#x8001;&amp;#x7684;&lt;code&gt;Controller&lt;/code&gt;&amp;#xFF0C;&amp;#x518D;&amp;#x5C06;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&amp;#x65B0;&amp;#x7684;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&amp;#x6700;&amp;#x540E;&amp;#x518D;&lt;code&gt;attachController()&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7ED1;&amp;#x5B9A;&amp;#x663E;&amp;#x793A;&amp;#x56FE;&amp;#x5C42;&amp;#x3002;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;void setHierarchy(DH hierarchy)&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&lt;code&gt;Controller&lt;/code&gt;&amp;#x6709;&amp;#x6548;&amp;#x7684;&amp;#x8BDD;&amp;#x5C31;&amp;#x4E0E;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x5EFA;&amp;#x7ACB;&amp;#x94FE;&amp;#x63A5;&amp;#xFF0C;&amp;#x5C06;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x8BBE;&amp;#x7F6E;&amp;#x5230;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x4EE5;&amp;#x4E0A;&amp;#x5C31;&amp;#x662F;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x7684;&amp;#x4E3B;&amp;#x8981;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x90FD;&amp;#x8DDF;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x76F8;&amp;#x5173;&amp;#x3002;&amp;#x800C;&lt;code&gt;DraweeHolder&lt;/code&gt;&amp;#x53C8;&amp;#x4E0E;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x76F8;&amp;#x8FDE;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x7EC8;&amp;#x8FD8;&amp;#x662F;&amp;#x8981;&amp;#x56DE;&amp;#x5230;&lt;code&gt;Controller&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E2D;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h2&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x6B21;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5206;&amp;#x6790;&amp;#x4E86;&lt;code&gt;Fresco&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x57FA;&amp;#x672C;&amp;#x7EC4;&amp;#x4EF6;&lt;code&gt;DraweeView&lt;/code&gt;&amp;#x4E0E;&amp;#x5B83;&amp;#x7684;&amp;#x5B50;&amp;#x7C7B;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x8FD8;&amp;#x60F3;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x4E86;&amp;#x89E3;&lt;code&gt;Hierarchy&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Controller&lt;/code&gt;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x4E0B;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x5C06;&amp;#x4F1A;&amp;#x8BE6;&amp;#x7EC6;&amp;#x5206;&amp;#x6790;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#xFF0C;&amp;#x656C;&amp;#x8BF7;&amp;#x671F;&amp;#x5F85;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/Fresco-Source-Analysis&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Fresco&amp;#x6E90;&amp;#x7801;&amp;#x5206;&amp;#x6790;&amp;#x7CFB;&amp;#x5217;Github&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x5728;&lt;code&gt;Android&lt;/code&gt;&amp;#x4E2D;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x7684;&amp;#x6846;&amp;#x67B6;&amp;#x5F88;&amp;#x591A;&amp;#xFF0C;&amp;#x4F8B;&amp;#x5982;&amp;#xFF
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="源码分析" scheme="https://idisfkj.github.io/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/"/>
    
  </entry>
  
  <entry>
    <title>tensorflow-梯度下降,有这一篇就足够了</title>
    <link href="https://idisfkj.github.io/2017/11/06/tensorflow-%E6%A2%AF%E5%BA%A6%E4%B8%8B%E9%99%8D-%E6%9C%89%E8%BF%99%E4%B8%80%E7%AF%87%E5%B0%B1%E8%B6%B3%E5%A4%9F%E4%BA%86/"/>
    <id>https://idisfkj.github.io/2017/11/06/tensorflow-梯度下降-有这一篇就足够了/</id>
    <published>2017-11-06T13:48:00.000Z</published>
    <updated>2017-11-13T01:02:32.000Z</updated>
    
    <content type="html">&lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x6700;&amp;#x8FD1;&amp;#x673A;&amp;#x5668;&amp;#x5B66;&amp;#x4E60;&amp;#x8D8A;&amp;#x6765;&amp;#x8D8A;&amp;#x706B;&amp;#x4E86;&amp;#xFF0C;&amp;#x524D;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x65AF;&amp;#x4E39;&amp;#x798F;&amp;#x5927;&amp;#x5B66;&amp;#x526F;&amp;#x6559;&amp;#x6388;&amp;#x5434;&amp;#x6069;&amp;#x8FBE;&amp;#x90FD;&amp;#x4EB2;&amp;#x81EA;&amp;#x5F55;&amp;#x5236;&amp;#x4E86;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;Deep Learning Specialization&lt;/code&gt;&amp;#x7684;&amp;#x6559;&amp;#x7A0B;&amp;#xFF0C;&amp;#x5728;&amp;#x56FD;&amp;#x5185;&amp;#x6380;&amp;#x8D77;&amp;#x4E86;&amp;#x5DE8;&amp;#x5927;&amp;#x7684;&amp;#x5B66;&amp;#x4E60;&amp;#x70ED;&amp;#x6F6E;&amp;#x3002;&amp;#x672C;&amp;#x7740;&amp;#x4E0D;&amp;#x88AB;&amp;#x65F6;&amp;#x4EE3;&amp;#x629B;&amp;#x5F03;&amp;#x7684;&amp;#x5FF5;&amp;#x5934;&amp;#xFF0C;&amp;#x81EA;&amp;#x5DF1;&amp;#x4E5F;&amp;#x5F00;&amp;#x59CB;&amp;#x7814;&amp;#x7A76;&amp;#x6709;&amp;#x5173;&amp;#x673A;&amp;#x5668;&amp;#x5B66;&amp;#x4E60;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x3002;&amp;#x90FD;&amp;#x8BF4;&amp;#x673A;&amp;#x5668;&amp;#x5B66;&amp;#x4E60;&amp;#x7684;&amp;#x5B66;&amp;#x4E60;&amp;#x96BE;&amp;#x5EA6;&amp;#x975E;&amp;#x5E38;&amp;#x5927;&amp;#xFF0C;&amp;#x4F46;&amp;#x4E0D;&amp;#x4EB2;&amp;#x81EA;&amp;#x5C1D;&amp;#x8BD5;&amp;#x4E00;&amp;#x4E0B;&amp;#x53C8;&amp;#x600E;&amp;#x4E48;&amp;#x4F1A;&amp;#x77E5;&amp;#x9053;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x5965;&amp;#x5999;&amp;#x4E0E;&amp;#x4E50;&amp;#x8DA3;&amp;#x5462;&amp;#xFF1F;&amp;#x53EA;&amp;#x6709;&amp;#x4E0D;&amp;#x65AD;&amp;#x7684;&amp;#x5C1D;&amp;#x8BD5;&amp;#x624D;&amp;#x80FD;&amp;#x627E;&amp;#x5230;&amp;#x6700;&amp;#x9002;&amp;#x5408;&amp;#x81EA;&amp;#x5DF1;&amp;#x7684;&amp;#x9053;&amp;#x8DEF;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x8BF7;&amp;#x5BB9;&amp;#x5FCD;&amp;#x6211;&amp;#x4E0A;&amp;#x8FF0;&amp;#x7684;&amp;#x81EA;&amp;#x6211;&amp;#x717D;&amp;#x60C5;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x8FDB;&amp;#x5165;&amp;#x4E3B;&amp;#x9898;&amp;#x3002;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E3B;&amp;#x8981;&amp;#x5BF9;&amp;#x673A;&amp;#x5668;&amp;#x5B66;&amp;#x4E60;&amp;#x4E2D;&amp;#x6240;&amp;#x9047;&amp;#x5230;&amp;#x7684;&lt;code&gt;GradientDescent&lt;/code&gt;(&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;)&amp;#x8FDB;&amp;#x884C;&amp;#x5168;&amp;#x9762;&amp;#x5206;&amp;#x6790;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x4F60;&amp;#x770B;&amp;#x4E86;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E4B;&amp;#x540E;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;GradientDescent&lt;/code&gt;&amp;#x5C06;&amp;#x5F7B;&amp;#x5E95;&amp;#x5F04;&amp;#x660E;&amp;#x767D;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&amp;#x539F;&amp;#x7406;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;a href=&quot;#&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&quot;&gt;&lt;/a&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x7684;&amp;#x6982;&amp;#x5FF5;&lt;/h1&gt;&lt;p&gt;&lt;code&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&lt;/code&gt;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E00;&amp;#x9636;&amp;#x6700;&amp;#x4F18;&amp;#x5316;&amp;#x7B97;&amp;#x6CD5;&amp;#xFF0C;&amp;#x901A;&amp;#x5E38;&amp;#x4E5F;&amp;#x79F0;&amp;#x4E3A;&amp;#x6700;&amp;#x901F;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x3002;&amp;#x8981;&amp;#x4F7F;&amp;#x7528;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x627E;&amp;#x5230;&amp;#x4E00;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x5C40;&amp;#x90E8;&amp;#x6781;&amp;#x5C0F;&amp;#x503C;&amp;#xFF0C;&amp;#x5FC5;&amp;#x987B;&amp;#x5411;&amp;#x51FD;&amp;#x6570;&amp;#x4E0A;&amp;#x5F53;&amp;#x524D;&amp;#x70B9;&amp;#x5BF9;&amp;#x4E8E;&amp;#x68AF;&amp;#x5EA6;&amp;#xFF08;&amp;#x6216;&amp;#x8005;&amp;#x662F;&amp;#x8FD1;&amp;#x4F3C;&amp;#x68AF;&amp;#x5EA6;&amp;#xFF09;&amp;#x7684;&amp;#x53CD;&amp;#x65B9;&amp;#x5411;&amp;#x7684;&amp;#x89C4;&amp;#x5B9A;&amp;#x6B65;&amp;#x957F;&amp;#x8DDD;&amp;#x79BB;&amp;#x70B9;&amp;#x8FDB;&amp;#x884C;&amp;#x8FED;&amp;#x4EE3;&amp;#x641C;&amp;#x7D22;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x53EF;&amp;#x4EE5;&amp;#x5E2E;&amp;#x52A9;&amp;#x6211;&amp;#x4EEC;&amp;#x6C42;&amp;#x89E3;&amp;#x67D0;&amp;#x4E2A;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6781;&amp;#x5C0F;&amp;#x503C;&amp;#x6216;&amp;#x8005;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#x3002;&amp;#x5BF9;&amp;#x4E8E;n&amp;#x7EF4;&amp;#x95EE;&amp;#x9898;&amp;#x5C31;&amp;#x6700;&amp;#x4F18;&amp;#x89E3;&amp;#xFF0C;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x662F;&amp;#x6700;&amp;#x5E38;&amp;#x7528;&amp;#x7684;&amp;#x65B9;&amp;#x6CD5;&amp;#x4E4B;&amp;#x4E00;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x901A;&amp;#x8FC7;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&lt;code&gt;&amp;#x524D;&amp;#x751F;&amp;#x4ECA;&amp;#x4E16;&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x8BE6;&amp;#x7EC6;&amp;#x63A8;&amp;#x5BFC;&amp;#x8BF4;&amp;#x660E;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&quot;&gt;&lt;a href=&quot;#&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&quot;&gt;&lt;/a&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&lt;/h1&gt;&lt;p&gt;&amp;#x9996;&amp;#x5148;&amp;#x4ECE;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x5F00;&amp;#x59CB;&amp;#xFF0C;&amp;#x770B;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x4E00;&amp;#x7EF4;&amp;#x51FD;&amp;#x6570;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;f(x) = x^3 + 2 * x - 3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&quot;/2017/11/06/tensorflow-&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;-&amp;#x6709;&amp;#x8FD9;&amp;#x4E00;&amp;#x7BC7;&amp;#x5C31;&amp;#x8DB3;&amp;#x591F;&amp;#x4E86;/tensorflow_gradient_descent_1.png&quot; width=&quot;400&quot; height=&quot;200&quot; alt=&quot;&amp;#x4E00;&amp;#x7EF4;&amp;#x51FD;&amp;#x6570;&amp;#x56FE;&quot; align=&quot;center&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x5728;&amp;#x6570;&amp;#x5B66;&amp;#x4E2D;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6C42;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x5904;&amp;#x7684;&amp;#x89E3;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5982;&amp;#x4E0B;&amp;#x8BEF;&amp;#x5DEE;&amp;#x7B49;&amp;#x5F0F;&amp;#x6765;&amp;#x6C42;&amp;#x5F97;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;error = (f(x) - 0)^2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F53;&lt;code&gt;error&lt;/code&gt;&amp;#x8D8B;&amp;#x8FD1;&amp;#x4E8E;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#x65F6;&amp;#xFF0C;&amp;#x4E5F;&amp;#x5C31;&amp;#x662F;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x5904;&lt;code&gt;x&lt;/code&gt;&amp;#x7684;&amp;#x89E3;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x56FE;&amp;#x6765;&amp;#x89C2;&amp;#x5BDF;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/11/06/tensorflow-&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;-&amp;#x6709;&amp;#x8FD9;&amp;#x4E00;&amp;#x7BC7;&amp;#x5C31;&amp;#x8DB3;&amp;#x591F;&amp;#x4E86;/tensorflow_gradient_descent_2.png&quot; width=&quot;400&quot; height=&quot;200&quot; alt=&quot;&amp;#x4E00;&amp;#x7EF4;&amp;#x51FD;&amp;#x6570;&amp;#x56FE;&quot; align=&quot;center&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x8FD9;&amp;#x51FD;&amp;#x6570;&amp;#x56FE;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x975E;&amp;#x5E38;&amp;#x76F4;&amp;#x89C2;&amp;#x7684;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&amp;#x8981;&amp;#x60F3;&amp;#x6C42;&amp;#x5F97;&amp;#x8BE5;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x5C06;&lt;code&gt;x&lt;/code&gt;&amp;#x6307;&amp;#x5B9A;&amp;#x4E3A;&amp;#x51FD;&amp;#x6570;&amp;#x56FE;&amp;#x7684;&amp;#x6700;&amp;#x4F4E;&amp;#x8C37;&amp;#x3002;&amp;#x8FD9;&amp;#x5728;&amp;#x9AD8;&amp;#x4E2D;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x5DF2;&amp;#x7ECF;&amp;#x638C;&amp;#x63E1;&amp;#x4E86;&amp;#x8BE5;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#x89E3;&amp;#x6CD5;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5BF9;&amp;#x8BE5;&amp;#x51FD;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6C42;&amp;#x5BFC;&amp;#xFF08;&amp;#x5373;&amp;#x659C;&amp;#x7387;&amp;#xFF09;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;derivative(x) = 6 * x^5 + 16 * x^3 - 18 * x^2 + 8 * x - 12&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5982;&amp;#x679C;&amp;#x8981;&amp;#x5F97;&amp;#x5230;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#xFF0C;&amp;#x53EA;&amp;#x9700;&amp;#x4EE4;&lt;code&gt;derivative(x) = 0&lt;/code&gt;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;x = 1&lt;/code&gt;&amp;#x3002;&amp;#x540C;&amp;#x65F6;&amp;#x6211;&amp;#x4EEC;&amp;#x7ED3;&amp;#x5408;&amp;#x56FE;&amp;#x4E0E;&amp;#x5BFC;&amp;#x51FD;&amp;#x6570;&amp;#x53EF;&amp;#x4EE5;&amp;#x77E5;&amp;#x9053;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x5F53;&lt;code&gt;x &amp;lt; 1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;derivative &amp;lt; 0&lt;/code&gt;&amp;#xFF0C;&amp;#x659C;&amp;#x7387;&amp;#x4E3A;&amp;#x8D1F;&amp;#x7684;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&amp;#x5F53;&lt;code&gt;x &amp;gt; 1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;derivative &amp;gt; 0&lt;/code&gt;&amp;#xFF0C;&amp;#x659C;&amp;#x7387;&amp;#x4E3A;&amp;#x6B63;&amp;#x7684;&amp;#xFF1B;&lt;/li&gt;
&lt;li&gt;&amp;#x5F53;&lt;code&gt;x &amp;#x65E0;&amp;#x9650;&amp;#x63A5;&amp;#x8FD1; 1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;derivative&amp;#x4E5F;&amp;#x5C31;&amp;#x65E0;&amp;#x9650;=0&lt;/code&gt;&amp;#xFF0C;&amp;#x659C;&amp;#x7387;&amp;#x4E3A;&amp;#x96F6;&amp;#x3002;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7ED3;&amp;#x8BBA;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F7F;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#x8868;&amp;#x8FBE;&amp;#x5F0F;&amp;#x6765;&amp;#x4EE3;&amp;#x66FF;&lt;code&gt;x&lt;/code&gt;&amp;#x5728;&amp;#x51FD;&amp;#x6570;&amp;#x4E2D;&amp;#x7684;&amp;#x79FB;&amp;#x52A8;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;x = x - reate * derivative&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;#x5F53;&amp;#x659C;&amp;#x7387;&amp;#x4E3A;&amp;#x8D1F;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&lt;code&gt;x&lt;/code&gt;&amp;#x589E;&amp;#x5927;&amp;#xFF0C;&amp;#x5F53;&amp;#x659C;&amp;#x7387;&amp;#x4E3A;&amp;#x6B63;&amp;#x7684;&amp;#x65F6;&amp;#x5019;&amp;#xFF0C;&lt;code&gt;x&lt;/code&gt;&amp;#x51CF;&amp;#x5C0F;&amp;#xFF1B;&amp;#x56E0;&amp;#x6B64;&lt;code&gt;x&lt;/code&gt;&amp;#x603B;&amp;#x662F;&amp;#x4F1A;&amp;#x5411;&amp;#x7740;&amp;#x4F4E;&amp;#x8C37;&amp;#x79FB;&amp;#x52A8;&amp;#xFF0C;&amp;#x4F7F;&amp;#x5F97;&lt;code&gt;error&lt;/code&gt;&amp;#x6700;&amp;#x5C0F;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x6C42;&amp;#x5F97;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x5904;&amp;#x7684;&amp;#x89E3;&amp;#x3002;&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;rate&lt;/code&gt;&amp;#x4EE3;&amp;#x8868;&lt;code&gt;x&lt;/code&gt;&amp;#x9006;&amp;#x7740;&amp;#x5BFC;&amp;#x6570;&amp;#x65B9;&amp;#x5411;&amp;#x79FB;&amp;#x52A8;&amp;#x7684;&amp;#x8DDD;&amp;#x79BB;&amp;#xFF0C;&lt;code&gt;rate&lt;/code&gt;&amp;#x8D8A;&amp;#x5927;&amp;#xFF0C;&lt;code&gt;x&lt;/code&gt;&amp;#x6BCF;&amp;#x6B21;&amp;#x5C31;&amp;#x79FB;&amp;#x52A8;&amp;#x7684;&amp;#x8D8A;&amp;#x591A;&amp;#x3002;&amp;#x53CD;&amp;#x4E4B;&amp;#x79FB;&amp;#x52A8;&amp;#x7684;&amp;#x8D8A;&amp;#x5C11;&amp;#x3002;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x9488;&amp;#x5BF9;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x975E;&amp;#x5E38;&amp;#x76F4;&amp;#x89C2;&amp;#x7684;&amp;#x6C42;&amp;#x5F97;&amp;#x5B83;&amp;#x7684;&amp;#x5BFC;&amp;#x51FD;&amp;#x6570;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x5E94;&amp;#x5BF9;&amp;#x590D;&amp;#x6742;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&amp;#x6C42;&amp;#x5BFC;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x5B9A;&amp;#x4E49;&amp;#x6765;&amp;#x8868;&amp;#x8FBE;&amp;#x5BFC;&amp;#x51FD;&amp;#x6570;:&amp;#x82E5;&amp;#x51FD;&amp;#x6570;&lt;code&gt;f(x)&lt;/code&gt;&amp;#x5728;&amp;#x70B9;&lt;code&gt;x0&lt;/code&gt;&amp;#x5904;&amp;#x53EF;&amp;#x5BFC;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6709;&amp;#x5982;&amp;#x4E0B;&amp;#x5B9A;&amp;#x4E49;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/11/06/tensorflow-&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;-&amp;#x6709;&amp;#x8FD9;&amp;#x4E00;&amp;#x7BC7;&amp;#x5C31;&amp;#x8DB3;&amp;#x591F;&amp;#x4E86;/tensorflow_gradient_descent_2.svg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x662F;&amp;#x90FD;&amp;#x662F;&amp;#x516C;&amp;#x5F0F;&amp;#x63A8;&amp;#x5BFC;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x901A;&amp;#x8FC7;&amp;#x4EE3;&amp;#x7801;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x90FD;&amp;#x662F;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;python&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def f(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return x**3 + 2 * x - 3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def error(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return (f(x) - 0)**2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def gradient_descent(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     delta = 0.00000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     derivative = (error(x + delta) - error(x)) / delta&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     rate = 0.01&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return x - rate * derivative&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; x = 0.8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; for i in range(50):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x = gradient_descent(x)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     print(&amp;apos;x = {:6f}, f(x) = {:6f}&amp;apos;.format(x, f(x)))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6267;&amp;#x884C;&amp;#x4E0A;&amp;#x9762;&amp;#x7A0B;&amp;#x5E8F;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5C31;&amp;#x80FD;&amp;#x5F97;&amp;#x5230;&amp;#x5982;&amp;#x4E0B;&amp;#x7ED3;&amp;#x679C;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;x = 0.869619, f(x) = -0.603123&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.921110, f(x) = -0.376268&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.955316, f(x) = -0.217521&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.975927, f(x) = -0.118638&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.987453, f(x) = -0.062266&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.993586, f(x) = -0.031946&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.996756, f(x) = -0.016187&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.998369, f(x) = -0.008149&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999182, f(x) = -0.004088&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999590, f(x) = -0.002048&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999795, f(x) = -0.001025&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999897, f(x) = -0.000513&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999949, f(x) = -0.000256&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999974, f(x) = -0.000128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999987, f(x) = -0.000064&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999994, f(x) = -0.000032&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999997, f(x) = -0.000016&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999998, f(x) = -0.000008&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 0.999999, f(x) = -0.000004&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000002&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000000&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000000&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = 1.000000, f(x) = -0.000000&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x4E5F;&amp;#x9A8C;&amp;#x8BC1;&amp;#x4E86;&amp;#x6211;&amp;#x4EEC;&amp;#x6700;&amp;#x521D;&amp;#x7684;&amp;#x7ED3;&amp;#x8BBA;&amp;#x3002;&lt;code&gt;x = 1&lt;/code&gt;&amp;#x65F6;&amp;#xFF0C;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x3002;&lt;br&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x8BE5;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x53EA;&amp;#x8981;&amp;#x6B65;&amp;#x6570;&amp;#x8DB3;&amp;#x591F;&amp;#x591A;&amp;#xFF0C;&amp;#x5C31;&amp;#x80FD;&amp;#x5F97;&amp;#x5230;&amp;#x975E;&amp;#x5E38;&amp;#x7CBE;&amp;#x786E;&amp;#x7684;&amp;#x503C;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x4ECA;&amp;#x751F;&quot;&gt;&lt;a href=&quot;#&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x4ECA;&amp;#x751F;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x4ECA;&amp;#x751F;&quot;&gt;&lt;/a&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x7684;&amp;#x4ECA;&amp;#x751F;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;&amp;#x4E00;&amp;#x7EF4;&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x8FDB;&amp;#x884C;&amp;#x6C42;&amp;#x89E3;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;&amp;#x591A;&amp;#x7EF4;&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x53C8;&amp;#x8981;&amp;#x5982;&amp;#x4F55;&amp;#x6C42;&amp;#x5462;&amp;#xFF1F;&amp;#x6211;&amp;#x4EEC;&amp;#x63A5;&amp;#x7740;&amp;#x770B;&amp;#x4E0B;&amp;#x9762;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x4F60;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;&amp;#x591A;&amp;#x7EF4;&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x4E5F;&amp;#x662F;&amp;#x90A3;&amp;#x4E48;&amp;#x7684;&amp;#x7B80;&amp;#x5355;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;f(x) = x[0] + 2 * x[1] + 4&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x540C;&amp;#x6837;&amp;#x7684;&amp;#x5982;&amp;#x679C;&amp;#x6211;&amp;#x4EEC;&amp;#x8981;&amp;#x6C42;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x5904;&amp;#xFF0C;&lt;code&gt;x[0]&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;x[1]&lt;/code&gt;&amp;#x7684;&amp;#x503C;&amp;#xFF0C;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x6C42;&lt;code&gt;error&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x7684;&amp;#x6700;&amp;#x5C0F;&amp;#x503C;&amp;#x6765;&amp;#x95F4;&amp;#x63A5;&amp;#x6C42;&lt;code&gt;f(x)&lt;/code&gt;&amp;#x7684;&amp;#x89E3;&amp;#x3002;&amp;#x8DDF;&lt;code&gt;&amp;#x4E00;&amp;#x7EF4;&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x552F;&amp;#x4E00;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x662F;&amp;#xFF0C;&amp;#x8981;&amp;#x5206;&amp;#x522B;&amp;#x5BF9;&lt;code&gt;x[0]&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;x[1]&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6C42;&amp;#x5BFC;&amp;#x3002;&amp;#x5728;&amp;#x6570;&amp;#x5B66;&amp;#x4E0A;&amp;#x53EB;&amp;#x505A;&lt;code&gt;&amp;#x504F;&amp;#x5BFC;&amp;#x6570;&lt;/code&gt;&amp;#xFF1A;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;#x4FDD;&amp;#x6301;x[1]&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;x[0]&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6C42;&amp;#x5BFC;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;f(x)&lt;/code&gt;&amp;#x5BF9;&lt;code&gt;x[0]&lt;/code&gt;&amp;#x7684;&amp;#x504F;&amp;#x5BFC;&amp;#x6570; &lt;/li&gt;
&lt;li&gt;&amp;#x4FDD;&amp;#x6301;x[0]&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x5BF9;&lt;code&gt;x[1]&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6C42;&amp;#x5BFC;&amp;#xFF0C;&amp;#x5373;&lt;code&gt;f(x)&lt;/code&gt;&amp;#x5BF9;&lt;code&gt;x[1]&lt;/code&gt;&amp;#x7684;&amp;#x504F;&amp;#x5BFC;&amp;#x6570;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;#x6709;&amp;#x4E86;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x7406;&amp;#x89E3;&amp;#x57FA;&amp;#x7840;&amp;#xFF0C;&amp;#x6211;&amp;#x4EEC;&amp;#x5B9A;&amp;#x4E49;&amp;#x7684;&lt;code&gt;gradient_descent&lt;/code&gt;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def gradient_descent(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     delta = 0.00000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     derivative_x0 = (error([x[0] + delta, x[1]]) - error([x[0], x[1]])) / delta&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     derivative_x1 = (error([x[0], x[1] + delta]) - error([x[0], x[1]])) / delta&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     rate = 0.01&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x[0] = x[0] - rate * derivative_x0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x[1] = x[1] - rate * derivative_x1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return [x[0], x[1]]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;rate&lt;/code&gt;&amp;#x7684;&amp;#x4F5C;&amp;#x7528;&amp;#x4E0D;&amp;#x53D8;&amp;#xFF0C;&amp;#x552F;&amp;#x4E00;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#x5C31;&amp;#x662F;&amp;#x5206;&amp;#x522B;&amp;#x83B7;&amp;#x53D6;&amp;#x6700;&amp;#x65B0;&amp;#x7684;&lt;code&gt;x[0]&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;x[1]&lt;/code&gt;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x662F;&amp;#x6574;&amp;#x4E2A;&amp;#x4EE3;&amp;#x7801;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def f(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return x[0] + 2 * x[1] + 4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def error(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return (f(x) - 0)**2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; def gradient_descent(x):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     delta = 0.00000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     derivative_x0 = (error([x[0] + delta, x[1]]) - error([x[0], x[1]])) / delta&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     derivative_x1 = (error([x[0], x[1] + delta]) - error([x[0], x[1]])) / delta&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     rate = 0.02&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x[0] = x[0] - rate * derivative_x0&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x[1] = x[1] - rate * derivative_x1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     return [x[0], x[1]]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; x = [-0.5, -1.0]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&amp;gt;&amp;gt;&amp;gt; for i in range(100):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     x = gradient_descent(x)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...     print(&amp;apos;x = {:6f},{:6f}, f(x) = {:6f}&amp;apos;.format(x[0],x[1],f(x)))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;...&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8F93;&amp;#x51FA;&amp;#x7ED3;&amp;#x679C;&amp;#x4E3A;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;30&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;31&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;32&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;33&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;34&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;35&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;36&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;37&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;38&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;39&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;40&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;41&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;42&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;43&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;44&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;45&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;46&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;47&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;48&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;49&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;50&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;51&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;52&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;53&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;54&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;55&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;56&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;57&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;58&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;59&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;60&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;61&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;62&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;63&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;64&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;65&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;66&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;67&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;x = -0.560000,-1.120000, f(x) = 1.200000&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.608000,-1.216000, f(x) = 0.960000&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.646400,-1.292800, f(x) = 0.768000&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.677120,-1.354240, f(x) = 0.614400&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.701696,-1.403392, f(x) = 0.491520&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.721357,-1.442714, f(x) = 0.393216&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.737085,-1.474171, f(x) = 0.314573&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.749668,-1.499337, f(x) = 0.251658&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.759735,-1.519469, f(x) = 0.201327&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.767788,-1.535575, f(x) = 0.161061&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.774230,-1.548460, f(x) = 0.128849&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.779384,-1.558768, f(x) = 0.103079&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.783507,-1.567015, f(x) = 0.082463&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.786806,-1.573612, f(x) = 0.065971&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.789445,-1.578889, f(x) = 0.052777&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.791556,-1.583112, f(x) = 0.042221&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.793245,-1.586489, f(x) = 0.033777&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.794596,-1.589191, f(x) = 0.027022&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.795677,-1.591353, f(x) = 0.021617&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.796541,-1.593082, f(x) = 0.017294&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.797233,-1.594466, f(x) = 0.013835&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.797786,-1.595573, f(x) = 0.011068&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.798229,-1.596458, f(x) = 0.008854&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.798583,-1.597167, f(x) = 0.007084&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.798867,-1.597733, f(x) = 0.005667&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799093,-1.598187, f(x) = 0.004533&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799275,-1.598549, f(x) = 0.003627&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799420,-1.598839, f(x) = 0.002901&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799536,-1.599072, f(x) = 0.002321&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799629,-1.599257, f(x) = 0.001857&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799703,-1.599406, f(x) = 0.001486&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799762,-1.599525, f(x) = 0.001188&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799810,-1.599620, f(x) = 0.000951&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799848,-1.599696, f(x) = 0.000761&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799878,-1.599757, f(x) = 0.000608&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799903,-1.599805, f(x) = 0.000487&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799922,-1.599844, f(x) = 0.000389&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799938,-1.599875, f(x) = 0.000312&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799950,-1.599900, f(x) = 0.000249&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799960,-1.599920, f(x) = 0.000199&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799968,-1.599936, f(x) = 0.000159&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799974,-1.599949, f(x) = 0.000128&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799980,-1.599959, f(x) = 0.000102&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799984,-1.599967, f(x) = 0.000082&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799987,-1.599974, f(x) = 0.000065&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799990,-1.599979, f(x) = 0.000052&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799992,-1.599983, f(x) = 0.000042&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799993,-1.599987, f(x) = 0.000033&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799995,-1.599989, f(x) = 0.000027&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799996,-1.599991, f(x) = 0.000021&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799997,-1.599993, f(x) = 0.000017&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799997,-1.599995, f(x) = 0.000014&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799998,-1.599996, f(x) = 0.000011&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799998,-1.599997, f(x) = 0.000009&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799999,-1.599997, f(x) = 0.000007&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799999,-1.599998, f(x) = 0.000006&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799999,-1.599998, f(x) = 0.000004&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799999,-1.599999, f(x) = 0.000004&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.799999,-1.599999, f(x) = 0.000003&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.599999, f(x) = 0.000002&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.599999, f(x) = 0.000002&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.599999, f(x) = 0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.600000, f(x) = 0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.600000, f(x) = 0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.600000, f(x) = 0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.600000, f(x) = 0.000001&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = -0.800000,-1.600000, f(x) = 0.000000&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x7EC6;&amp;#x5FC3;&amp;#x7684;&amp;#x4F60;&amp;#x53EF;&amp;#x80FD;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#xFF0C;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x4E0D;&amp;#x6B62;&amp;#x8FD9;&amp;#x4E00;&amp;#x4E2A;&amp;#x89E3;&amp;#x8FD8;&amp;#x53EF;&amp;#x4EE5;&amp;#x662F;&lt;code&gt;x = -2, -1&lt;/code&gt;&amp;#x3002;&amp;#x8FD9;&amp;#x662F;&amp;#x56E0;&amp;#x4E3A;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x53EA;&amp;#x662F;&amp;#x5BF9;&lt;code&gt;&amp;#x5F53;&amp;#x524D;&amp;#x6240;&amp;#x5904;&amp;#x7684;&amp;#x51F9;&amp;#x8C37;&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6C42;&amp;#x89E3;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;error&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x5E76;&amp;#x4E0D;&amp;#x4EE3;&amp;#x8868;&amp;#x53EA;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;f(x) = 0&lt;/code&gt;&amp;#x7684;&amp;#x51F9;&amp;#x8C37;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6CD5;&amp;#x53EA;&amp;#x80FD;&amp;#x6C42;&amp;#x5F97;&amp;#x5C40;&amp;#x90E8;&amp;#x89E3;&amp;#xFF0C;&amp;#x4F46;&amp;#x4E0D;&amp;#x4E00;&amp;#x5B9A;&amp;#x80FD;&amp;#x6C42;&amp;#x5F97;&amp;#x5168;&amp;#x90E8;&amp;#x7684;&amp;#x89E3;&amp;#x3002;&amp;#x5F53;&amp;#x7136;&amp;#x5982;&amp;#x679C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x975E;&amp;#x5E38;&amp;#x590D;&amp;#x6742;&amp;#x7684;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x80FD;&amp;#x591F;&amp;#x6C42;&amp;#x5F97;&amp;#x5C40;&amp;#x90E8;&amp;#x89E3;&amp;#x4E5F;&amp;#x662F;&amp;#x975E;&amp;#x5E38;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;tensorflow&amp;#x4E2D;&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&quot;&gt;&lt;a href=&quot;#tensorflow&amp;#x4E2D;&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&quot; class=&quot;headerlink&quot; title=&quot;tensorflow&amp;#x4E2D;&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&quot;&gt;&lt;/a&gt;tensorflow&amp;#x4E2D;&amp;#x7684;&amp;#x8FD0;&amp;#x7528;&lt;/h1&gt;&lt;p&gt;&amp;#x901A;&amp;#x8FC7;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x793A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x5BF9;&lt;code&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&lt;/code&gt;&amp;#x4E5F;&amp;#x6709;&amp;#x4E86;&amp;#x4E00;&amp;#x4E2A;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&amp;#x8BA4;&amp;#x8BC6;&amp;#x3002;&amp;#x73B0;&amp;#x5728;&amp;#x6211;&amp;#x4EEC;&amp;#x56DE;&amp;#x5230;&amp;#x6700;&amp;#x5F00;&amp;#x59CB;&amp;#x7684;&amp;#x5730;&amp;#x65B9;&amp;#xFF0C;&amp;#x5728;&lt;code&gt;tensorflow&lt;/code&gt;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;gradientDescent&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;23&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;24&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;25&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;26&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;27&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;28&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;29&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;import tensorflow as tf&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Model parameters&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W = tf.Variable([.3], dtype=tf.float32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;b = tf.Variable([-.3], dtype=tf.float32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# Model input and output&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x = tf.placeholder(tf.float32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;linear_model = W*x + b&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;y = tf.placeholder(tf.float32)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# loss&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;loss = tf.reduce_sum(tf.square(linear_model - y)) # sum of the squares&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# optimizer&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;optimizer = tf.train.GradientDescentOptimizer(0.01)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;train = optimizer.minimize(loss)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# training data&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;x_train = [1, 2, 3, 4]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;y_train = [0, -1, -2, -3]&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# training loop&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;init = tf.global_variables_initializer()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sess = tf.Session()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;sess.run(init) # reset values to wrong&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;for i in range(1000):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  sess.run(train, {x: x_train, y: y_train})&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;# evaluate training accuracy&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;curr_W, curr_b, curr_loss = sess.run([W, b, loss], {x: x_train, y: y_train})&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;print(&amp;quot;W: %s b: %s loss: %s&amp;quot;%(curr_W, curr_b, curr_loss))&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&amp;#x662F;&lt;a href=&quot;https://www.tensorflow.org/get_started/get_started&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;tensorflow&lt;/a&gt;&amp;#x7684;&amp;#x5B98;&amp;#x7F51;&amp;#x793A;&amp;#x4F8B;&amp;#xFF0C;&amp;#x4E0A;&amp;#x9762;&amp;#x4EE3;&amp;#x7801;&amp;#x5B9A;&amp;#x4E49;&amp;#x4E86;&amp;#x51FD;&amp;#x6570;&lt;code&gt;linear_model = W * x + b&lt;/code&gt;,&amp;#x5176;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;error&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#x4E3A;&lt;code&gt;linear_model - y&lt;/code&gt;&amp;#x3002;&amp;#x76EE;&amp;#x7684;&amp;#x662F;&amp;#x5BF9;&amp;#x4E00;&amp;#x7EC4;&lt;code&gt;x_train&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;y_train&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x8BAD;&amp;#x7EC3;&amp;#x6C42;&amp;#x89E3;&lt;code&gt;W&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;b&lt;/code&gt;&amp;#x3002;&amp;#x4E3A;&amp;#x4E86;&amp;#x6C42;&amp;#x5F97;&amp;#x8FD9;&amp;#x4E00;&amp;#x7EC4;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x6700;&amp;#x4F18;&amp;#x89E3;&amp;#xFF0C;&amp;#x5C06;&amp;#x6BCF;&amp;#x4E00;&amp;#x7EC4;&amp;#x7684;&lt;code&gt;error&lt;/code&gt;&amp;#x76F8;&amp;#x52A0;&amp;#x4ECE;&amp;#x800C;&amp;#x5F97;&amp;#x5230;&lt;code&gt;loss&lt;/code&gt;&amp;#xFF0C;&amp;#x6700;&amp;#x540E;&amp;#x518D;&amp;#x5BF9;&lt;code&gt;loss&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&amp;#x6C42;&amp;#x89E3;&amp;#x6700;&amp;#x4F18;&amp;#x503C;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;optimizer = tf.train.GradientDescentOptimizer(0.01)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;train = optimizer.minimize(loss)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5728;&amp;#x8FD9;&amp;#x91CC;&lt;code&gt;rate&lt;/code&gt;&amp;#x4E3A;&lt;code&gt;0.01&lt;/code&gt;,&amp;#x56E0;&amp;#x4E3A;&amp;#x8FD9;&amp;#x4E2A;&amp;#x793A;&amp;#x4F8B;&amp;#x4E5F;&amp;#x662F;&lt;code&gt;&amp;#x591A;&amp;#x7EF4;&lt;/code&gt;&amp;#x51FD;&amp;#x6570;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x4E5F;&amp;#x8981;&amp;#x7528;&amp;#x5230;&lt;code&gt;&amp;#x504F;&amp;#x5BFC;&amp;#x6570;&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x9010;&amp;#x6B65;&amp;#x5411;&amp;#x6700;&amp;#x4F18;&amp;#x89E3;&amp;#x9760;&amp;#x8FD1;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;for i in range(1000):&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;  sess.run(train, {x: x_train, y: y_train})&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x5FAA;&amp;#x73AF;&amp;#x63A8;&amp;#x5BFC;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x7ED9;&amp;#x51FA;&amp;#x4E00;&amp;#x4E9B;&amp;#x63A8;&amp;#x5BFC;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x7684;&amp;#x76F8;&amp;#x5173;&amp;#x7ED3;&amp;#x679C;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.21999997] b: [-0.456] loss: 4.01814&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.39679998] b: [-0.49552] loss: 1.81987&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.45961601] b: [-0.4965184] loss: 1.54482&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.48454273] b: [-0.48487374] loss: 1.48251&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.49684232] b: [-0.46917531] loss: 1.4444&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.50490189] b: [-0.45227283] loss: 1.4097&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.5115062] b: [-0.43511063] loss: 1.3761&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;....&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.99999678] b: [ 0.99999058] loss: 5.84635e-11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.99999684] b: [ 0.9999907] loss: 5.77707e-11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;W: [-0.9999969] b: [ 0.99999082] loss: 5.69997e-11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C31;&amp;#x4E0D;&amp;#x63A8;&amp;#x7406;&amp;#x9A8C;&amp;#x8BC1;&amp;#x4E86;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x770B;&amp;#x4E86;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&lt;/code&gt;&amp;#x7684;&amp;#x524D;&amp;#x4E16;&amp;#x4ECA;&amp;#x751F;&amp;#xFF0C;&amp;#x76F8;&amp;#x4FE1;&amp;#x80FD;&amp;#x591F;&amp;#x81EA;&amp;#x4E3B;&amp;#x7684;&amp;#x63A8;&amp;#x5BFC;&amp;#x51FA;&amp;#x6765;&amp;#x3002;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x76F4;&amp;#x63A5;&amp;#x770B;&amp;#x6700;&amp;#x540E;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x4F30;&amp;#x7B97;&amp;#x4E3A;&lt;code&gt;W = -1.0&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;b  = 1.0&lt;/code&gt;&amp;#xFF0C;&amp;#x5C06;&amp;#x4ED6;&amp;#x4EEC;&amp;#x5E26;&amp;#x5165;&amp;#x4E0A;&amp;#x9762;&amp;#x7684;&lt;code&gt;loss&lt;/code&gt;&amp;#x5F97;&amp;#x5230;&amp;#x7684;&amp;#x7ED3;&amp;#x679C;&amp;#x4E3A;&lt;code&gt;0.0&lt;/code&gt;&amp;#xFF0C;&amp;#x5373;&amp;#x8BEF;&amp;#x5DEE;&amp;#x635F;&amp;#x5931;&amp;#x503C;&amp;#x6700;&amp;#x5C0F;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&lt;code&gt;W = -1.0&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;b = 1.0&lt;/code&gt;&amp;#x5C31;&amp;#x662F;&lt;code&gt;x_train&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;y_train&lt;/code&gt;&amp;#x8FD9;&amp;#x7EC4;&amp;#x6570;&amp;#x636E;&amp;#x7684;&amp;#x6700;&amp;#x4F18;&amp;#x89E3;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x5173;&amp;#x4E8E;&lt;code&gt;&amp;#x68AF;&amp;#x5EA6;&amp;#x4E0B;&amp;#x964D;&lt;/code&gt;&amp;#x7684;&amp;#x5185;&amp;#x5BB9;&amp;#x5C31;&amp;#x5230;&amp;#x8FD9;&amp;#x4E86;&amp;#xFF0C;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x5230;&amp;#x4F60;&amp;#xFF1B;&amp;#x5982;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x6765;&amp;#x8BA8;&amp;#x8BBA;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x611F;&amp;#x89C9;&amp;#x8FD9;&amp;#x7BC7;&amp;#x6587;&amp;#x7AE0;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x8BDD;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5173;&amp;#x6CE8;&amp;#x6211;&amp;#x7684;&amp;#x535A;&amp;#x5BA2;&amp;#xFF0C;&amp;#x67E5;&amp;#x770B;&amp;#x6211;&amp;#x7684;&amp;#x5176;&amp;#x5B83;&amp;#x6587;&amp;#x7AE0;&amp;#x3002;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;a href=&quot;#&amp;#x524D;&amp;#x8A00;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x524D;&amp;#x8A00;&quot;&gt;&lt;/a&gt;&amp;#x524D;&amp;#x8A00;&lt;/h1&gt;&lt;p&gt;&amp;#x6700;&amp;#x8FD
    
    </summary>
    
      <category term="tensorflow" scheme="https://idisfkj.github.io/categories/tensorflow/"/>
    
    
      <category term="gradientDescent" scheme="https://idisfkj.github.io/tags/gradientDescent/"/>
    
  </entry>
  
  <entry>
    <title>Kotlin最佳实践</title>
    <link href="https://idisfkj.github.io/2017/08/21/Kotlin%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5/"/>
    <id>https://idisfkj.github.io/2017/08/21/Kotlin最佳实践/</id>
    <published>2017-08-21T12:55:12.000Z</published>
    <updated>2017-08-21T16:43:18.000Z</updated>
    
    <content type="html">&lt;p&gt;&amp;#x524D;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x5F00;&amp;#x53D1;&amp;#x6BD4;&amp;#x8F83;&amp;#x8F7B;&amp;#x677E;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5C31;&amp;#x7814;&amp;#x7A76;&amp;#x4E86;&amp;#x4E00;&amp;#x4E0B;&lt;code&gt;google&lt;/code&gt;&amp;#x4E3B;&amp;#x63A8;&amp;#x7684;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x8BED;&amp;#x8A00;&amp;#x3002;&amp;#x6211;&amp;#x4E00;&amp;#x76F4;&amp;#x575A;&amp;#x4FE1;&amp;#xFF0C;&amp;#x5FEB;&amp;#x901F;&amp;#x5B66;&amp;#x4E60;&amp;#x4E0E;&amp;#x638C;&amp;#x63E1;&amp;#x4E00;&amp;#x95E8;&amp;#x8BED;&amp;#x8A00;&amp;#x7684;&amp;#x6700;&amp;#x597D;&amp;#x65B9;&amp;#x5F0F;&amp;#x5C31;&amp;#x662F;&amp;#x5B9E;&amp;#x8DF5;&amp;#xFF0C;&amp;#x8FB9;&amp;#x5F00;&amp;#x53D1;&amp;#x9879;&amp;#x76EE;&amp;#x8FB9;&amp;#x5B66;&amp;#x4E60;&amp;#x3002;&amp;#x8FD9;&amp;#x6837;&amp;#x624D;&amp;#x80FD;&amp;#x5FEB;&amp;#x901F;&amp;#x7684;&amp;#x5C06;&amp;#x5B66;&amp;#x4E60;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x8FD0;&amp;#x7528;&amp;#x5230;&amp;#x5B9E;&amp;#x8DF5;&amp;#x4E2D;&amp;#xFF0C;&amp;#x4ECE;&amp;#x800C;&amp;#x53D1;&amp;#x73B0;&amp;#x95EE;&amp;#x9898;&amp;#xFF0C;&amp;#x603B;&amp;#x7ED3;&amp;#x7ECF;&amp;#x9A8C;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x4F60;&amp;#x4E5F;&amp;#x60F3;&amp;#x5B66;&amp;#x4E60;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x6216;&amp;#x8005;&amp;#x4E5F;&amp;#x6B63;&amp;#x5728;&amp;#x5B66;&amp;#x4E60;&lt;code&gt;kotlin&lt;/code&gt;&amp;#xFF0C;&amp;#x90A3;&amp;#x4E48;&amp;#x6211;&amp;#x4EEC;&amp;#x4E0D;&amp;#x59A8;&amp;#x53EF;&amp;#x4EE5;&amp;#x643A;&amp;#x624B;&amp;#x5171;&amp;#x6D4E;&amp;#xFF0C;&amp;#x5728;&amp;#x5B9E;&amp;#x8DF5;&amp;#x4E2D;&amp;#x63D0;&amp;#x5347;&amp;#x81EA;&amp;#x5DF1;&amp;#xFF0C;&amp;#x5FEB;&amp;#x901F;&amp;#x638C;&amp;#x63E1;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&amp;#x4E0B;&amp;#x9762;&amp;#x6211;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#x662F;&amp;#x5B8C;&amp;#x5168;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x7F16;&amp;#x5199;&amp;#x7684;&amp;#x4E00;&amp;#x4E2A;&amp;#x5173;&amp;#x4E8E;&amp;#x65B0;&amp;#x95FB;&amp;#x7684;&lt;code&gt;App&lt;/code&gt;&amp;#xFF0C;&amp;#x7531;&amp;#x4E8E;&amp;#x662F;&amp;#x5B9E;&amp;#x8DF5;&amp;#x4ECB;&amp;#x7ECD;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E00;&amp;#x4E0B;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x8FD0;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x70B9;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x540E;&amp;#x7EED;&amp;#x60F3;&amp;#x8981;&amp;#x4E00;&amp;#x8D77;&amp;#x5B66;&amp;#x4E60;&amp;#x7684;&amp;#x540C;&amp;#x5B66;&amp;#x4EEC;&amp;#x5FEB;&amp;#x901F;&amp;#x5165;&amp;#x95E8;&amp;#x4E0E;&amp;#x8FD0;&amp;#x7528;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;a href=&quot;#&amp;#x754C;&amp;#x9762;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/a&gt;&amp;#x754C;&amp;#x9762;&lt;/h1&gt;&lt;p&gt;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x5173;&amp;#x4E8E;&amp;#x65B0;&amp;#x95FB;&amp;#x7684;&lt;code&gt;App&lt;/code&gt;&amp;#xFF0C;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x4E3B;&amp;#x8981;&amp;#x5305;&amp;#x62EC;&amp;#x4E09;&amp;#x4E2A;&amp;#x754C;&amp;#x9762;&amp;#xFF0C;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&amp;#x65B0;&amp;#x95FB;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&amp;#x3001;&amp;#x65B0;&amp;#x95FB;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&amp;#x4E0E;&amp;#x65B0;&amp;#x95FB;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&amp;#x3002;&amp;#x4E0B;&amp;#x9762;&amp;#x7B80;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E0B;&amp;#x6BCF;&amp;#x4E2A;&amp;#x754C;&amp;#x9762;&amp;#x8FD0;&amp;#x7528;&amp;#x5230;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x70B9;&amp;#x3002;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;a href=&quot;#&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/a&gt;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&lt;/h2&gt;&lt;p&gt;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&amp;#x4E3A;&amp;#x4E86;&amp;#x5C55;&amp;#x793A;&amp;#x4E0D;&amp;#x540C;&amp;#x7684;&amp;#x5206;&amp;#x7C7B;&amp;#x65B0;&amp;#x95FB;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x4E86;&lt;code&gt;TabLayout&lt;/code&gt;+&lt;code&gt;ViewPager&lt;/code&gt;+&lt;code&gt;Fragment&lt;/code&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x56E0;&amp;#x6B64;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x903B;&amp;#x8F91;&amp;#x5C31;&amp;#x662F;&lt;code&gt;NewsCategoryFrament&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E0E;&amp;#x6570;&amp;#x636E;&amp;#x5904;&amp;#x7406;&amp;#x3002;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x4E3B;&amp;#x8981;&amp;#x8FD0;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;Retrofit&lt;/code&gt;+&lt;code&gt;RxJava&lt;/code&gt;+&lt;code&gt;RxAndroid&lt;/code&gt;&amp;#x3002;&amp;#x6765;&amp;#x770B;&amp;#x4E0B;&amp;#x754C;&amp;#x9762;&amp;#x56FE;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/08/21/Kotlin&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/1.png&quot; alt=&quot;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x6211;&amp;#x8FD9;&amp;#x91CC;&amp;#x53EA;&amp;#x662F;&amp;#x7B80;&amp;#x5355;&amp;#x7684;&amp;#x4ECB;&amp;#x7ECD;&amp;#x9879;&amp;#x76EE;&amp;#xFF0C;&amp;#x5982;&amp;#x679C;&amp;#x60F3;&amp;#x8981;&amp;#x8FDB;&amp;#x4E00;&amp;#x6B65;&amp;#x4E86;&amp;#x89E3;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x53EF;&amp;#x4EE5;&amp;#x67E5;&amp;#x770B;&amp;#x540E;&amp;#x9762;&amp;#x7684;&amp;#x6E90;&amp;#x7801;&amp;#x5730;&amp;#x5740;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;a href=&quot;#&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/a&gt;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&lt;/h2&gt;&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x56FD;&amp;#x5916;&amp;#x7684;&lt;code&gt;News Api&lt;/code&gt;&amp;#x6240;&amp;#x4EE5;&amp;#xFF0C;&amp;#x5BF9;&amp;#x4E8E;&amp;#x8BE6;&amp;#x60C5;&amp;#x7684;&amp;#x5C55;&amp;#x793A;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&lt;code&gt;WebView&lt;/code&gt;&amp;#xFF0C;&amp;#x5168;&amp;#x90E8;&amp;#x901A;&amp;#x8FC7;&amp;#x539F;&amp;#x751F;&amp;#x7684;&lt;code&gt;WebView&lt;/code&gt;&amp;#x6765;&amp;#x5C55;&amp;#x793A;&amp;#x3002;&amp;#x540E;&amp;#x7EED;&amp;#x67E5;&amp;#x770B;&amp;#x6E90;&amp;#x7801;&amp;#x4F1A;&amp;#x53D1;&amp;#x73B0;&amp;#x8BE5;&amp;#x5904;&amp;#x7684;&amp;#x4EE3;&amp;#x7801;&amp;#x6BD4;&amp;#x8F83;&amp;#x7B80;&amp;#x5355;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/08/21/Kotlin&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/2.png&quot; alt=&quot;&amp;#x8BE6;&amp;#x60C5;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;a href=&quot;#&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/a&gt;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&lt;/h2&gt;&lt;p&gt;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&amp;#x4E3B;&amp;#x8981;&amp;#x662F;&amp;#x5BF9;&amp;#x4E3B;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x5206;&amp;#x7C7B;&lt;code&gt;News&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x6DFB;&amp;#x52A0;&amp;#x8BA2;&amp;#x9605;&amp;#x4E0E;&amp;#x53D6;&amp;#x6D88;&amp;#x8BA2;&amp;#x9605;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&amp;#x754C;&amp;#x9762;&amp;#x7ED3;&amp;#x6784;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&amp;#x4E24;&amp;#x4E2A;&amp;#x6ED1;&amp;#x52A8;&amp;#x7684;&lt;code&gt;RecyclerView&lt;/code&gt;&amp;#x3002;&amp;#x5B9E;&amp;#x73B0;&amp;#x5B83;&amp;#x4EEC;&amp;#x95F4;&lt;code&gt;item&lt;/code&gt;&amp;#x7684;&amp;#x8054;&amp;#x52A8;&amp;#x3002;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/2017/08/21/Kotlin&amp;#x6700;&amp;#x4F73;&amp;#x5B9E;&amp;#x8DF5;/3.png&quot; alt=&quot;&amp;#x8BA2;&amp;#x9605;&amp;#x754C;&amp;#x9762;&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&quot;&gt;&lt;a href=&quot;#&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&quot;&gt;&lt;/a&gt;&amp;#x7F51;&amp;#x7EDC;&amp;#x8BF7;&amp;#x6C42;&lt;/h1&gt;&lt;p&gt;&amp;#x4E0A;&amp;#x9762;&amp;#x4E3B;&amp;#x8981;&amp;#x4ECB;&amp;#x7ECD;&amp;#x4E86;&amp;#x754C;&amp;#x9762;&amp;#x76F8;&amp;#x5173;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#xFF0C;&amp;#x4E0B;&amp;#x9762;&amp;#x6765;&amp;#x8BF4;&amp;#x4E0B;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x6709;&amp;#x5173;&amp;#x7F51;&amp;#x7EDC;&amp;#x65B9;&amp;#x9762;&amp;#x7684;&amp;#x77E5;&amp;#x8BC6;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&amp;#x5305;&amp;#x62EC;&lt;code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;a href=&quot;#&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x5C01;&amp;#x88C5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;/a&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x5C01;&amp;#x88C5;&lt;/h2&gt;&lt;p&gt;&amp;#x524D;&amp;#x9762;&amp;#x5DF2;&amp;#x7ECF;&amp;#x4ECB;&amp;#x7ECD;&amp;#x8FC7;&amp;#x4E86;&amp;#xFF0C;&amp;#x9879;&amp;#x76EE;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;Retrofit&lt;/code&gt;+&lt;code&gt;RxJava&lt;/code&gt;+&lt;code&gt;RxAndroid&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x63A5;&amp;#x53E3;&amp;#x7684;&amp;#x8BF7;&amp;#x6C42;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x5728;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x8FDB;&amp;#x884C;&amp;#x66F4;&amp;#x597D;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x5BF9;&amp;#x63A5;&amp;#x53E3;&amp;#x8BF7;&amp;#x6C42;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&amp;#x4E3B;&amp;#x8981;&lt;code&gt;code&lt;/code&gt;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fun &amp;lt;T&amp;gt; doGet(params: MutableMap&amp;lt;String, Any?&amp;gt;, tClass: Class&amp;lt;T&amp;gt;): Observable&amp;lt;T?&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return initParams(params, tClass)!!.observeOn(Schedulers.io()).flatMap { tempString -&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (tClass == NewsArticleListModel::class.java) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getNewsApi().getArticles(tempString).subscribeOn(Schedulers.io())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                getNewsApi().getSources(tempString).subscribeOn(Schedulers.io())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }.flatMap { newsResponse -&amp;gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            if (newsResponse is NewsArticleListModel &amp;amp;&amp;amp; newsResponse.status.equals(&amp;quot;ok&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    || (newsResponse is NewsSourcesListModel &amp;amp;&amp;amp; newsResponse.status.equals(&amp;quot;ok&amp;quot;))) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                val json = getGson()?.toJson(newsResponse!!)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                if (json.isNullOrEmpty()) return@flatMap null!!&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                val data = getGson()?.fromJson(json, tClass)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observable.just(data)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            } else {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                Observable.error&amp;lt;T&amp;gt; { Exception() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }.observeOn(AndroidSchedulers.mainThread())&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                .doOnError { t -&amp;gt; Log.d(&amp;quot;TAG&amp;quot;, &amp;quot;throwable: &amp;quot; + t) }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x7531;&amp;#x4E8E;&amp;#x6570;&amp;#x636E;&amp;#x53EF;&amp;#x4EE5;&amp;#x6765;&amp;#x81EA;&amp;#x4E0E;&amp;#x7F51;&amp;#x7EDC;&amp;#x4E0E;&amp;#x672C;&amp;#x5730;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x8FD9;&amp;#x91CC;&amp;#x5C06;&amp;#x6765;&amp;#x6E90;&amp;#x5C4F;&amp;#x853D;&amp;#xFF0C;&amp;#x8BF7;&amp;#x6C42;&amp;#x62BD;&amp;#x8C61;&amp;#x6210;&amp;#x63A5;&amp;#x53E3;&amp;#x3002;&amp;#x65B9;&amp;#x4FBF;&amp;#x4EE5;&amp;#x540E;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x8BF7;&amp;#x6C42;&amp;#x7684;&amp;#x52A0;&amp;#x5165;&lt;strong&gt;&lt;em&gt;&amp;#xFF08;&amp;#x76EE;&amp;#x524D;&amp;#x8FD8;&amp;#x6CA1;&amp;#x6709;&amp;#x5F15;&amp;#x5165;&amp;#x672C;&amp;#x5730;&amp;#x6570;&amp;#x636E;&amp;#x5E93;&amp;#xFF0C;&amp;#x540E;&amp;#x7EED;&amp;#x6709;&amp;#x65F6;&amp;#x95F4;&amp;#x5C06;&amp;#x5F15;&amp;#x5165;&amp;#xFF09;&lt;/em&gt;&lt;/strong&gt;&amp;#x3002;&amp;#x5206;&amp;#x522B;&amp;#x4E3A;&lt;code&gt;RequestCommand&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;Provider&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF0C;&amp;#x5BF9;&amp;#x5E94;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#x5C31;&amp;#x662F;&lt;code&gt;NewsReqeustCommand&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;NewsProvider&lt;/code&gt;&amp;#x3002;&amp;#x56E0;&amp;#x6B64;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fun setupRequest(refresh: Boolean) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        val params = mutableMapOf&amp;lt;String, Any?&amp;gt;(&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NewsConfig.REQUEST_SOURCE to id,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                NewsConfig.REQUEST_SORT_BY to NewsConfig.SortBy.TOP.sort&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        )&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        requestCommand = NewsRequestCommand(params, NewsArticleListModel::class.java,&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                object : DefaultDisposableObserver&amp;lt;NewsArticleListModel&amp;gt;() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    override fun onNext(t: NewsArticleListModel) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (refresh) swipeRefreshLayout.isRefreshing = false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        dataList.clear()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        dataList.addAll(t.articles)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        recyclerView.adapter.notifyDataSetChanged()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    override fun onError(e: Throwable) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        super.onError(e)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                        if (refresh) swipeRefreshLayout.isRefreshing = false&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                })&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        requestCommand?.execute()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x81EA;&amp;#x5DF1;&amp;#x6700;&amp;#x8FD1;&amp;#x6CA1;&amp;#x6709;&amp;#x65F6;&amp;#x95F4;&amp;#xFF0C;&amp;#x624B;&amp;#x4E0A;&amp;#x7684;&amp;#x9879;&amp;#x76EE;&amp;#x5C06;&amp;#x8981;&amp;#x5927;&amp;#x6539;&amp;#x7248;&amp;#x3002;&amp;#x5982;&amp;#x679C;&amp;#x5BA2;&amp;#x5B98;&amp;#x4EEC;&amp;#x6709;&amp;#x5174;&amp;#x8DA3;&amp;#x7684;&amp;#x8BDD;&amp;#x53EF;&amp;#x4EE5;&amp;#x5728;&lt;code&gt;Github&lt;/code&gt;&amp;#x4E0A;&lt;code&gt;Start/Fork&lt;/code&gt;&amp;#x63D0;&amp;#x4EA4;&lt;code&gt;PR&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;a href=&quot;#&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5C01;&amp;#x88C5;&quot; class=&quot;headerlink&quot; title=&quot;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5C01;&amp;#x88C5;&quot;&gt;&lt;/a&gt;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x5C01;&amp;#x88C5;&lt;/h2&gt;&lt;p&gt;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x4F7F;&amp;#x7528;&amp;#x7684;&amp;#x662F;&lt;code&gt;facebook&lt;/code&gt;&amp;#x7684;&lt;code&gt;fresco&lt;/code&gt;&amp;#xFF0C;&amp;#x4E3A;&amp;#x4E86;&amp;#x5168;&amp;#x5C40;&amp;#x4F7F;&amp;#x7528;&amp;#x7EDF;&amp;#x4E00;&amp;#x7684;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#xFF0C;&amp;#x8FD9;&amp;#x91CC;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x7684;&lt;code&gt;Extension Functions&lt;/code&gt;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x5BF9;&amp;#x56FE;&amp;#x7247;&amp;#x52A0;&amp;#x8F7D;&amp;#x8FDB;&amp;#x884C;&amp;#x5C01;&amp;#x88C5;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;fun SimpleDraweeView.displayImage(url: String?, width: Int = 200, listener: BaseControllerListener&amp;lt;Any&amp;gt;? = null) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    if (url == null) return&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    this.hierarchy.setPlaceholderImage(R.drawable.news_default_bg)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val imageRequest = ImageRequestBuilder.newBuilderWithSource(Uri.parse(url))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .setResizeOptions(ResizeOptions(width, width))&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .build()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val controller = Fresco.newDraweeControllerBuilder()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .setImageRequest(imageRequest)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .setAutoPlayAnimations(true)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .setControllerListener(listener)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .setOldController(this.controller)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            .build()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    this.controller = controller&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x6700;&amp;#x7EC8;&amp;#x7684;&amp;#x8C03;&amp;#x7528;&amp;#x662F;&amp;#x8FD9;&amp;#x6837;&amp;#x7684;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;itemView.image.displayImage(url = urlToImage)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x7B80;&amp;#x5355;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x53C2;&amp;#x6570;&amp;#x53EF;&amp;#x4EE5;&amp;#x52A8;&amp;#x6001;&amp;#x9009;&amp;#x62E9;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Interface&quot;&gt;&lt;a href=&quot;#Interface&quot; class=&quot;headerlink&quot; title=&quot;Interface&quot;&gt;&lt;/a&gt;Interface&lt;/h1&gt;&lt;p&gt;&amp;#x5728;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;interface&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;java&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;interface&lt;/code&gt;&amp;#x6709;&amp;#x4E00;&amp;#x4E2A;&amp;#x5DE8;&amp;#x5927;&amp;#x7684;&amp;#x533A;&amp;#x522B;&amp;#x3002;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x5728;&lt;code&gt;java&lt;/code&gt;&amp;#x4E2D;&lt;code&gt;interface&lt;/code&gt;&amp;#x4E2D;&amp;#x662F;&amp;#x4E0D;&amp;#x80FD;&amp;#x591F;&amp;#x5BF9;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x4F46;&amp;#x5728;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x4E2D;&amp;#x7684;&lt;code&gt;interface&lt;/code&gt;&amp;#x53EF;&amp;#x4EE5;&amp;#x5BF9;&amp;#x65B9;&amp;#x6CD5;&amp;#x8FDB;&amp;#x884C;&amp;#x5177;&amp;#x4F53;&amp;#x5B9E;&amp;#x73B0;&amp;#x3002;&amp;#x6240;&amp;#x4EE5;&amp;#x53EF;&amp;#x4EE5;&amp;#x501F;&amp;#x52A9;&amp;#x8FD9;&amp;#x4E00;&amp;#x7279;&amp;#x6027;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#x4E00;&amp;#x4E2A;&amp;#x7EDF;&amp;#x4E00;&amp;#x7684;&lt;code&gt;ToolBarManager&lt;/code&gt;&amp;#xFF0C;&amp;#x65B9;&amp;#x4FBF;&amp;#x754C;&amp;#x9762;&amp;#x7684;&amp;#x5BFC;&amp;#x822A;&amp;#x8BBE;&amp;#x7F6E;&amp;#x3002;&amp;#x5177;&amp;#x4F53;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;16&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;17&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;18&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;19&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;20&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;21&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;interface ToolBarManager {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val toolBar: Toolbar&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var toolBarTitle: String&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        set(value) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            toolBar.title = value&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        get() = toolBar.title.toString()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun initToolBar() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toolBar.inflateMenu(R.menu.menu)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toolBar.setOnMenuItemClickListener {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            when (it.itemId) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;                R.id.subscribe -&amp;gt; toolBar.context.startActivity&amp;lt;SubscribeActivity&amp;gt;()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;            true&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun enableHomeAsUp(back: () -&amp;gt; Unit) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toolBar.navigationIcon = DrawerArrowDrawable(toolBar.context)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        toolBar.setNavigationOnClickListener { back() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6240;&amp;#x4EE5;&amp;#x540E;&amp;#x7EED;&amp;#x754C;&amp;#x9762;&amp;#x5BFC;&amp;#x822A;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x5B9E;&amp;#x73B0;&lt;code&gt;ToolBarManager&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#x5373;&amp;#x53EF;&amp;#x3002;&lt;/p&gt;
&lt;h1 id=&quot;Delegated-Properties&quot;&gt;&lt;a href=&quot;#Delegated-Properties&quot; class=&quot;headerlink&quot; title=&quot;Delegated Properties&quot;&gt;&lt;/a&gt;Delegated Properties&lt;/h1&gt;&lt;p&gt;&amp;#x6211;&amp;#x4EEC;&amp;#x90FD;&amp;#x77E5;&amp;#x9053;&amp;#x5728;&amp;#x5F00;&amp;#x53D1;&amp;#x8FC7;&amp;#x7A0B;&amp;#x4E2D;&amp;#x4F1A;&amp;#x9047;&amp;#x5230;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;&amp;#x7684;&amp;#x7F16;&amp;#x5199;&amp;#xFF0C;&amp;#x57FA;&amp;#x672C;&amp;#x7684;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x7F16;&amp;#x5199;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class App : Application() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		private var instance: Application? = null&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		fun instance() = instance!!&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	override fun onCreate() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		super.onCreate()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		instance = this&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5BF9;&amp;#x4E8E;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x4E5F;&amp;#x63D0;&amp;#x4F9B;&amp;#x4E86;&lt;code&gt;standard Delegates&lt;/code&gt;&amp;#x7684;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;lazy&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&amp;#x5355;&amp;#x4F8B;&amp;#x6A21;&amp;#x5F0F;&amp;#x7684;&amp;#x61D2;&amp;#x52A0;&amp;#x8F7D;&amp;#x3002;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    val instance by lazy { NewsApp() }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6216;&amp;#x8005;&amp;#x662F;&lt;code&gt;lateinit&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;class App : Application() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		lateinit var instance: App&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;			private set&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	override fun onCreate() {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		super.onCreate()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;		instance = this&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;	}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x6700;&amp;#x540E;&amp;#x4E5F;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&amp;#x81EA;&amp;#x5B9A;&amp;#x4E49;&lt;a href=&quot;https://kotlinlang.org/docs/reference/delegated-properties.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Delegated&lt;/a&gt;&amp;#x6765;&amp;#x5B9E;&amp;#x73B0;&amp;#xFF0C;&amp;#x901A;&amp;#x8FC7;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;ReadWriteProperty&amp;lt;in R, T&amp;gt;&lt;/code&gt;&amp;#x63A5;&amp;#x53E3;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;6&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;7&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;8&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;9&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;10&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;11&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;12&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;13&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;14&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;15&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;object DelegatesExt {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    fun &amp;lt;T&amp;gt; notNullSingleValue(): ReadWriteProperty&amp;lt;Any?, T&amp;gt; = NotNullSingleValueVar()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;class NotNullSingleValueVar&amp;lt;T&amp;gt; : ReadWriteProperty&amp;lt;Any?, T&amp;gt; {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    private var value: T? = null&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun getValue(thisRef: Any?, property: KProperty&amp;lt;*&amp;gt;): T {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        return value ?: throw IllegalStateException(&amp;quot;${property.name} not initialized&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt; &lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    override fun setValue(thisRef: Any?, property: KProperty&amp;lt;*&amp;gt;, value: T) {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;        this.value = if (this.value == null) value else throw IllegalStateException(&amp;quot;${property.name} not initialized&amp;quot;)&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    }&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x5BF9;&amp;#x5176;&amp;#x8FDB;&amp;#x884C;&amp;#x8BBE;&amp;#x7F6E;&amp;#x503C;&amp;#x4E0E;&amp;#x83B7;&amp;#x53D6;&amp;#x503C;&amp;#x65F6;&amp;#xFF0C;&amp;#x4F1A;&amp;#x8C03;&amp;#x7528;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&lt;code&gt;getValue&lt;/code&gt;&amp;#x4E0E;&lt;code&gt;setValue&lt;/code&gt;&amp;#x65B9;&amp;#x6CD5;&amp;#xFF0C;&amp;#x6700;&amp;#x7EC8;&amp;#x8C03;&amp;#x7528;&amp;#x5982;&amp;#x4E0B;&amp;#xFF1A;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;companion object {&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;    var instance: NewsApp by DelegatesExt.notNullSingleValue&amp;lt;NewsApp&amp;gt;()&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;}&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#x5F53;&amp;#x7136;&amp;#xFF0C;&amp;#x9879;&amp;#x76EE;&amp;#x4E2D;&amp;#x8FD8;&amp;#x5BF9;&lt;code&gt;Preference&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&amp;#x4E86;&amp;#x76F8;&amp;#x4F3C;&amp;#x7684;&amp;#x64CD;&amp;#x4F5C;&amp;#x3002;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;Anko&quot;&gt;&lt;a href=&quot;#Anko&quot; class=&quot;headerlink&quot; title=&quot;Anko&quot;&gt;&lt;/a&gt;Anko&lt;/h1&gt;&lt;p&gt;&amp;#x5176;&amp;#x5B9E;&amp;#x4F7F;&amp;#x7528;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;Android&lt;/code&gt;&amp;#x5F00;&amp;#x53D1;&amp;#x4E5F;&amp;#x6709;&amp;#x76F8;&amp;#x5E94;&amp;#x7684;&amp;#x5DE5;&amp;#x5177;&amp;#x5E93;&amp;#x3002;&amp;#x53EF;&amp;#x4EE5;&amp;#x5FEB;&amp;#x901F;&amp;#x63D0;&amp;#x5347;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x6548;&amp;#x7387;&amp;#xFF0C;&amp;#x5176;&amp;#x4E2D;&lt;a href=&quot;https://github.com/Kotlin/anko&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Anko&lt;/a&gt;&amp;#x5C31;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x4E0D;&amp;#x9519;&amp;#x7684;&amp;#x9009;&amp;#x62E9;&amp;#x3002;&amp;#x5B83;&amp;#x53EF;&amp;#x4EE5;&amp;#x901A;&amp;#x8FC7;&lt;code&gt;Anko DSL&lt;/code&gt;&amp;#x4EE3;&amp;#x7801;&amp;#x4E66;&amp;#x5199;&amp;#x4EE3;&amp;#x66FF;&lt;code&gt;XML&lt;/code&gt;&amp;#x6765;&amp;#x8FDB;&amp;#x884C;&lt;code&gt;UI&lt;/code&gt;&amp;#x5E03;&amp;#x5C40;&amp;#x3002;&amp;#x8FD9;&amp;#x662F;&amp;#x4E00;&amp;#x4E2A;&amp;#x975E;&amp;#x5E38;&amp;#x6709;&amp;#x6548;&amp;#x7684;&amp;#x7279;&amp;#x6027;&amp;#xFF0C;&amp;#x5F53;&amp;#x7136;&amp;#x5B83;&amp;#x4E5F;&amp;#x6709;&amp;#x8BB8;&amp;#x591A;&amp;#x6709;&amp;#x7528;&amp;#x7684;&lt;code&gt;functions&lt;/code&gt;&amp;#xFF0C;&amp;#x53EF;&amp;#x4EE5;&amp;#x5927;&amp;#x5927;&amp;#x63D0;&amp;#x5347;&amp;#x6211;&amp;#x4EEC;&amp;#x7684;&amp;#x5F00;&amp;#x53D1;&amp;#x6548;&amp;#x7387;&amp;#x3002;&amp;#x4F8B;&amp;#x5982;&amp;#xFF1A;&lt;/p&gt;
&lt;p&gt;1.&lt;code&gt;find()&lt;/code&gt;&amp;#x4EE3;&amp;#x66FF;&lt;code&gt;findViewById()&lt;/code&gt;&lt;br&gt;2.&lt;code&gt;longToast()&lt;/code&gt;&amp;#x4EE3;&amp;#x66FF;&amp;#x539F;&amp;#x751F;&lt;code&gt;Toast()&lt;/code&gt;&lt;br&gt;3.&lt;code&gt;startActivity(vararg params: Pair&amp;lt;String, Any&amp;gt;&lt;/code&gt;&amp;#x4EE3;&amp;#x66FF;&amp;#x539F;&amp;#x751F;&lt;code&gt;startActivity()&lt;/code&gt;&lt;br&gt;4.&lt;code&gt;Anko SQLite&lt;/code&gt;&amp;#x7B80;&amp;#x5316;&amp;#x539F;&amp;#x751F;&amp;#x7684;&lt;code&gt;SQLite&lt;/code&gt;&amp;#x7684;&amp;#x4F7F;&amp;#x7528;&lt;br&gt;5.&lt;code&gt;Dialogs&lt;/code&gt;&amp;#x7684;&amp;#x7B80;&amp;#x5316;&amp;#x4F7F;&amp;#x7528;&lt;/p&gt;
&lt;h1 id=&quot;End&quot;&gt;&lt;a href=&quot;#End&quot; class=&quot;headerlink&quot; title=&quot;End&quot;&gt;&lt;/a&gt;End&lt;/h1&gt;&lt;p&gt;&amp;#x597D;&amp;#x4E86;&amp;#xFF0C;&amp;#x5927;&amp;#x6982;&amp;#x5C31;&amp;#x662F;&amp;#x8FD9;&amp;#x4E48;&amp;#x591A;&amp;#x4E86;&amp;#x3002;&amp;#x5E0C;&amp;#x671B;&amp;#x80FD;&amp;#x591F;&amp;#x5E2E;&amp;#x52A9;&amp;#x60F3;&amp;#x5B66;&amp;#x4E0E;&amp;#x6B63;&amp;#x5728;&amp;#x5B66;&amp;#x4E60;&lt;code&gt;kotlin&lt;/code&gt;&amp;#x7684;&amp;#x5BA2;&amp;#x5B98;&amp;#x4EEC;&amp;#xFF0C;&amp;#x5C11;&amp;#x8D70;&amp;#x5F2F;&amp;#x8DEF;&amp;#xFF0C;&amp;#x5FEB;&amp;#x901F;&amp;#x6210;&amp;#x957F;&amp;#x3002;&amp;#x5982;&amp;#x6709;&amp;#x4E0D;&amp;#x8DB3;&amp;#x4E4B;&amp;#x5904;&amp;#x6B22;&amp;#x8FCE;&amp;#x4EA4;&amp;#x6D41;&amp;#xFF01;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/idisfkj/NewsKotlin&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;&amp;#x9879;&amp;#x76EE;&amp;#x5730;&amp;#x5740;&lt;/a&gt;&lt;/p&gt;
</content>
    
    <summary type="html">
    
      &lt;p&gt;&amp;#x524D;&amp;#x4E00;&amp;#x6BB5;&amp;#x65F6;&amp;#x95F4;&amp;#x5F00;&amp;#x53D1;&amp;#x6BD4;&amp;#x8F83;&amp;#x8F7B;&amp;#x677E;&amp;#xFF0C;&amp;#x6240;&amp;#x4EE5;&amp;#x5C31;&amp;#x7814;&amp;#x7A76;&amp;
    
    </summary>
    
      <category term="android" scheme="https://idisfkj.github.io/categories/android/"/>
    
    
      <category term="Kotlin" scheme="https://idisfkj.github.io/tags/Kotlin/"/>
    
  </entry>
  
</feed>
